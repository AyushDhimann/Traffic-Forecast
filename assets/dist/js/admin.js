/*! For license information please see admin.js.LICENSE.txt */
(()=>{var e={922:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(n)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(a[u]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);n&&a[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),r&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=r):c[2]=r),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},155:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},499:e=>{"use strict";e.exports=function(e){return e[1]}},482:function(e,t,r){var n;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}!function(o,a){"use strict";var s;if("object"===i(t)){try{s=r(488)}catch(e){}e.exports=a(s)}else void 0===(n=function(e){try{s=r(85)("moment")}catch(e){}return a(s)}.call(t,r,t,e))||(e.exports=n)}(0,(function(e){"use strict";var t="function"==typeof e,r=!!window.addEventListener,n=window.document,o=window.setTimeout,a=function(e,t,n,i){r?e.addEventListener(t,n,!!i):e.attachEvent("on"+t,n)},s=function(e,t,n,i){r?e.removeEventListener(t,n,!!i):e.detachEvent("on"+t,n)},u=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},l=function(e,t){u(e,t)||(e.className=""===e.className?t:e.className+" "+t)},c=function(e,t){var r;e.className=(r=(" "+e.className+" ").replace(" "+t+" "," ")).trim?r.trim():r.replace(/^\s+|\s+$/g,"")},d=function(e){return/Array/.test(Object.prototype.toString.call(e))},p=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},f=function(e){var t=e.getDay();return 0===t||6===t},h=function(e){return e%4==0&&e%100!=0||e%400==0},m=function(e,t){return[31,h(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},y=function(e){p(e)&&e.setHours(0,0,0,0)},v=function(e,t){return e.getTime()===t.getTime()},g=function e(t,r,n){var o,a;for(o in r)(a=void 0!==t[o])&&"object"===i(r[o])&&null!==r[o]&&void 0===r[o].nodeName?p(r[o])?n&&(t[o]=new Date(r[o].getTime())):d(r[o])?n&&(t[o]=r[o].slice(0)):t[o]=e({},r[o],n):!n&&a||(t[o]=r[o]);return t},b=function(e,t,r){var i;n.createEvent?((i=n.createEvent("HTMLEvents")).initEvent(t,!0,!1),i=g(i,r),e.dispatchEvent(i)):n.createEventObject&&(i=n.createEventObject(),i=g(i,r),e.fireEvent("on"+t,i))},w=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},_={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},S=function(e,t,r){for(t+=e.firstDay;t>=7;)t-=7;return r?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},I=function(e){var t=[],r="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),r="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+r+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},T=function(e,t,r,n){return'<tr class="pika-row'+(r?" pick-whole-week":"")+(n?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"},P=function(e,t,r,n,i,o){var a,s,u,l,c,p=e._o,f=r===p.minYear,h=r===p.maxYear,m='<div id="'+o+'" class="pika-title" role="heading" aria-live="assertive">',y=!0,v=!0;for(u=[],a=0;a<12;a++)u.push('<option value="'+(r===i?a-t:12+a-t)+'"'+(a===n?' selected="selected"':"")+(f&&a<p.minMonth||h&&a>p.maxMonth?' disabled="disabled"':"")+">"+p.i18n.months[a]+"</option>");for(l='<div class="pika-label">'+p.i18n.months[n]+'<select class="pika-select pika-select-month" tabindex="-1">'+u.join("")+"</select></div>",d(p.yearRange)?(a=p.yearRange[0],s=p.yearRange[1]+1):(a=r-p.yearRange,s=1+r+p.yearRange),u=[];a<s&&a<=p.maxYear;a++)a>=p.minYear&&u.push('<option value="'+a+'"'+(a===r?' selected="selected"':"")+">"+a+"</option>");return c='<div class="pika-label">'+r+p.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+u.join("")+"</select></div>",p.showMonthAfterYear?m+=c+l:m+=l+c,f&&(0===n||p.minMonth>=n)&&(y=!1),h&&(11===n||p.maxMonth<=n)&&(v=!1),0===t&&(m+='<button class="pika-prev'+(y?"":" is-disabled")+'" type="button">'+p.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(m+='<button class="pika-next'+(v?"":" is-disabled")+'" type="button">'+p.i18n.nextMonth+"</button>"),m+"</div>"},A=function(i){var s=this,l=s.config(i);s._onMouseDown=function(e){if(s._v){var t=(e=e||window.event).target||e.srcElement;if(t)if(u(t,"is-disabled")||(!u(t,"pika-button")||u(t,"is-empty")||u(t.parentNode,"is-disabled")?u(t,"pika-prev")?s.prevMonth():u(t,"pika-next")&&s.nextMonth():(s.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),l.bound&&o((function(){s.hide(),l.blurFieldOnSelect&&l.field&&l.field.blur()}),100))),u(t,"pika-select"))s._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},s._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(u(t,"pika-select-month")?s.gotoMonth(t.value):u(t,"pika-select-year")&&s.gotoYear(t.value))},s._onKeyChange=function(e){if(e=e||window.event,s.isVisible())switch(e.keyCode){case 13:case 27:l.field&&l.field.blur();break;case 37:s.adjustDate("subtract",1);break;case 38:s.adjustDate("subtract",7);break;case 39:s.adjustDate("add",1);break;case 40:s.adjustDate("add",7);break;case 8:case 46:s.setDate(null)}},s._parseFieldValue=function(){if(l.parse)return l.parse(l.field.value,l.format);if(t){var r=e(l.field.value,l.format,l.formatStrict);return r&&r.isValid()?r.toDate():null}return new Date(Date.parse(l.field.value))},s._onInputChange=function(e){var t;e.firedBy!==s&&(t=s._parseFieldValue(),p(t)&&s.setDate(t),s._v||s.show())},s._onInputFocus=function(){s.show()},s._onInputClick=function(){s.show()},s._onInputBlur=function(){var e=n.activeElement;do{if(u(e,"pika-single"))return}while(e=e.parentNode);s._c||(s._b=o((function(){s.hide()}),50)),s._c=!1},s._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,n=t;if(t){!r&&u(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),a(t,"change",s._onChange)));do{if(u(n,"pika-single")||n===l.trigger)return}while(n=n.parentNode);s._v&&t!==l.trigger&&n!==l.trigger&&s.hide()}},s.el=n.createElement("div"),s.el.className="pika-single"+(l.isRTL?" is-rtl":"")+(l.theme?" "+l.theme:""),a(s.el,"mousedown",s._onMouseDown,!0),a(s.el,"touchend",s._onMouseDown,!0),a(s.el,"change",s._onChange),l.keyboardInput&&a(n,"keydown",s._onKeyChange),l.field&&(l.container?l.container.appendChild(s.el):l.bound?n.body.appendChild(s.el):l.field.parentNode.insertBefore(s.el,l.field.nextSibling),a(l.field,"change",s._onInputChange),l.defaultDate||(l.defaultDate=s._parseFieldValue(),l.setDefaultDate=!0));var c=l.defaultDate;p(c)?l.setDefaultDate?s.setDate(c,!0):s.gotoDate(c):s.gotoDate(new Date),l.bound?(this.hide(),s.el.className+=" is-bound",a(l.trigger,"click",s._onInputClick),a(l.trigger,"focus",s._onInputFocus),a(l.trigger,"blur",s._onInputBlur)):this.show()};return A.prototype={config:function(e){this._o||(this._o=g({},_,!0));var t=g(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var r=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=r>4?4:r,p(t.minDate)||(t.minDate=!1),p(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),d(t.yearRange)){var n=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||n,t.yearRange[1]=parseInt(t.yearRange[1],10)||n}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||_.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(r){return r=r||this._o.format,p(this._d)?this._o.toString?this._o.toString(this._d,r):t?e(this._d).format(r):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(r,n){t&&e.isMoment(r)&&this.setDate(r.toDate(),n)},getDate:function(){return p(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",b(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),p(e)){var r=this._o.minDate,n=this._o.maxDate;p(r)&&e<r?e=r:p(n)&&e>n&&(e=n),this._d=new Date(e.getTime()),y(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),b(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},clear:function(){this.setDate(null)},gotoDate:function(e){var t=!0;if(p(e)){if(this.calendars){var r=new Date(this.calendars[0].year,this.calendars[0].month,1),n=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=e.getTime();n.setMonth(n.getMonth()+1),n.setDate(n.getDate()-1),t=i<r.getTime()||n.getTime()<i}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(e,t){var r,n=this.getDate()||new Date,i=24*parseInt(t)*60*60*1e3;"add"===e?r=new Date(n.valueOf()+i):"subtract"===e&&(r=new Date(n.valueOf()-i)),this.setDate(r)},adjustCalendars:function(){this.calendars[0]=w(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=w({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(y(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=_.minDate,this._o.minYear=_.minYear,this._o.minMonth=_.minMonth,this._o.startRange=_.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(y(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=_.maxDate,this._o.maxYear=_.maxYear,this._o.maxMonth=_.maxMonth,this._o.endRange=_.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,r=this._o,n=r.minYear,i=r.maxYear,a=r.minMonth,s=r.maxMonth,u="";this._y<=n&&(this._y=n,!isNaN(a)&&this._m<a&&(this._m=a)),this._y>=i&&(this._y=i,!isNaN(s)&&this._m>s&&(this._m=s));for(var l=0;l<r.numberOfMonths;l++)t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),u+='<div class="pika-lendar">'+P(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,t)+this.render(this.calendars[l].year,this.calendars[l].month,t)+"</div>";this.el.innerHTML=u,r.bound&&"hidden"!==r.field.type&&o((function(){r.trigger.focus()}),1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),r.bound&&r.field.setAttribute("aria-label",r.ariaLabel)}},adjustPosition:function(){var e,t,r,i,o,a,s,u,d,p,f,h;if(!this._o.container){if(this.el.style.position="absolute",t=e=this._o.trigger,r=this.el.offsetWidth,i=this.el.offsetHeight,o=window.innerWidth||n.documentElement.clientWidth,a=window.innerHeight||n.documentElement.clientHeight,s=window.pageYOffset||n.body.scrollTop||n.documentElement.scrollTop,f=!0,h=!0,"function"==typeof e.getBoundingClientRect)u=(p=e.getBoundingClientRect()).left+window.pageXOffset,d=p.bottom+window.pageYOffset;else for(u=t.offsetLeft,d=t.offsetTop+t.offsetHeight;t=t.offsetParent;)u+=t.offsetLeft,d+=t.offsetTop;(this._o.reposition&&u+r>o||this._o.position.indexOf("right")>-1&&u-r+e.offsetWidth>0)&&(u=u-r+e.offsetWidth,f=!1),(this._o.reposition&&d+i>a+s||this._o.position.indexOf("top")>-1&&d-i-e.offsetHeight>0)&&(d=d-i-e.offsetHeight,h=!1),this.el.style.left=u+"px",this.el.style.top=d+"px",l(this.el,f?"left-aligned":"right-aligned"),l(this.el,h?"bottom-aligned":"top-aligned"),c(this.el,f?"right-aligned":"left-aligned"),c(this.el,h?"top-aligned":"bottom-aligned")}},render:function(r,n,i){var o,a,s,u,l,c,d=this._o,h=new Date,g=m(r,n),b=new Date(r,n,1).getDay(),w=[],_=[];y(h),d.firstDay>0&&(b-=d.firstDay)<0&&(b+=7);for(var P=0===n?11:n-1,A=11===n?0:n+1,k=0===n?r-1:r,E=11===n?r+1:r,D=m(k,P),C=g+b,x=C;x>7;)x-=7;C+=7-x;for(var O=!1,M=0,N=0;M<C;M++){var F=new Date(r,n,M-b+1),V=!!p(this._d)&&v(F,this._d),R=v(F,h),j=-1!==d.events.indexOf(F.toDateString()),z=M<b||M>=g+b,U=M-b+1,L=n,W=r,H=d.startRange&&v(d.startRange,F),B=d.endRange&&v(d.endRange,F),G=d.startRange&&d.endRange&&d.startRange<F&&F<d.endRange;z&&(M<b?(U=D+U,L=P,W=k):(U-=g,L=A,W=E));var Y={day:U,month:L,year:W,hasEvent:j,isSelected:V,isToday:R,isDisabled:d.minDate&&F<d.minDate||d.maxDate&&F>d.maxDate||d.disableWeekends&&f(F)||d.disableDayFn&&d.disableDayFn(F),isEmpty:z,isStartRange:H,isEndRange:B,isInRange:G,showDaysInNextAndPreviousMonths:d.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:d.enableSelectionDaysInNextAndPreviousMonths};d.pickWholeWeek&&V&&(O=!0),_.push(I(Y)),7==++N&&(d.showWeekNumber&&_.unshift((o=M-b,a=n,s=r,u=d.firstWeekOfYearMinDays,l=void 0,c=void 0,l=new Date(s,a,o),c=t?e(l).isoWeek():function(e,t){e.setHours(0,0,0,0);var r=e.getDate(),n=e.getDay(),i=t,o=i-1,a=function(e){return(e+7-1)%7};e.setDate(r+o-a(n));var s=new Date(e.getFullYear(),0,i),u=(e.getTime()-s.getTime())/864e5;return 1+Math.round((u-o+a(s.getDay()))/7)}(l,u),'<td class="pika-week">'+c+"</td>")),w.push(T(_,d.isRTL,d.pickWholeWeek,O)),_=[],N=0,O=!1)}return function(e,t,r){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+r+'">'+function(e){var t,r=[];for(e.showWeekNumber&&r.push("<th></th>"),t=0;t<7;t++)r.push('<th scope="col"><abbr title="'+S(e,t)+'">'+S(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?r.reverse():r).join("")+"</tr></thead>"}(e)+"<tbody>"+t.join("")+"</tbody></table>"}(d,w,i)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),c(this.el,"is-hidden"),this._o.bound&&(a(n,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;!1!==e&&(this._o.bound&&s(n,"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),l(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var e=this._o;this.hide(),s(this.el,"mousedown",this._onMouseDown,!0),s(this.el,"touchend",this._onMouseDown,!0),s(this.el,"change",this._onChange),e.keyboardInput&&s(n,"keydown",this._onKeyChange),e.field&&(s(e.field,"change",this._onInputChange),e.bound&&(s(e.trigger,"click",this._onInputClick),s(e.trigger,"focus",this._onInputFocus),s(e.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},A}))},511:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Link:()=>T,Route:()=>P,Router:()=>I,default:()=>A,exec:()=>a,getCurrentUrl:()=>m,route:()=>y,subscribers:()=>f});var n=r(508),i={};function o(e,t){for(var r in t)e[r]=t[r];return e}function a(e,t,r){var n,o=/(?:\?([^#]*))?(#.*)?$/,a=e.match(o),s={};if(a&&a[1])for(var u=a[1].split("&"),c=0;c<u.length;c++){var d=u[c].split("=");s[decodeURIComponent(d[0])]=decodeURIComponent(d.slice(1).join("="))}e=l(e.replace(o,"")),t=l(t||"");for(var p=Math.max(e.length,t.length),f=0;f<p;f++)if(t[f]&&":"===t[f].charAt(0)){var h=t[f].replace(/(^:|[+*?]+$)/g,""),m=(t[f].match(/[+*?]+$/)||i)[0]||"",y=~m.indexOf("+"),v=~m.indexOf("*"),g=e[f]||"";if(!g&&!v&&(m.indexOf("?")<0||y)){n=!1;break}if(s[h]=decodeURIComponent(g),y||v){s[h]=e.slice(f).map(decodeURIComponent).join("/");break}}else if(t[f]!==e[f]){n=!1;break}return(!0===r.default||!1!==n)&&s}function s(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function u(e,t){return e.index=t,e.rank=function(e){return e.props.default?0:l(e.props.path).map(c).join("")}(e),e.props}function l(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function c(e){return":"==e.charAt(0)?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var d=null,p=[],f=[],h={};function m(){var e;return""+((e=d&&d.location?d.location:d&&d.getCurrentLocation?d.getCurrentLocation():"undefined"!=typeof location?location:h).pathname||"")+(e.search||"")}function y(e,t){return void 0===t&&(t=!1),"string"!=typeof e&&e.url&&(t=e.replace,e=e.url),function(e){for(var t=p.length;t--;)if(p[t].canRoute(e))return!0;return!1}(e)&&function(e,t){void 0===t&&(t="push"),d&&d[t]?d[t](e):"undefined"!=typeof history&&history[t+"State"]&&history[t+"State"](null,null,e)}(e,t?"replace":"push"),v(e)}function v(e){for(var t=!1,r=0;r<p.length;r++)!0===p[r].routeTo(e)&&(t=!0);for(var n=f.length;n--;)f[n](e);return t}function g(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),r=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!r||r.match(/^_?self$/i)))return y(t)}}function b(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||0!==e.button))return g(e.currentTarget||e.target||this),w(e)}function w(e){return e&&(e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault()),!1}function _(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||0!==e.button)){var t=e.target;do{if("A"===String(t.nodeName).toUpperCase()&&t.getAttribute("href")){if(t.hasAttribute("native"))return;if(g(t))return w(e)}}while(t=t.parentNode)}}var S=!1,I=function(e){function t(t){e.call(this,t),t.history&&(d=t.history),this.state={url:t.url||m()},S||("function"==typeof addEventListener&&(d||addEventListener("popstate",(function(){v(m())})),addEventListener("click",_)),S=!0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.shouldComponentUpdate=function(e){return!0!==e.static||e.url!==this.props.url||e.onChange!==this.props.onChange},t.prototype.canRoute=function(e){var t=(0,n.toChildArray)(this.props.children);return this.getMatchingChildren(t,e,!1).length>0},t.prototype.routeTo=function(e){this.setState({url:e});var t=this.canRoute(e);return this.updating||this.forceUpdate(),t},t.prototype.componentWillMount=function(){p.push(this),this.updating=!0},t.prototype.componentDidMount=function(){var e=this;d&&(this.unlisten=d.listen((function(t){e.routeTo(""+(t.pathname||"")+(t.search||""))}))),this.updating=!1},t.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),p.splice(p.indexOf(this),1)},t.prototype.componentWillUpdate=function(){this.updating=!0},t.prototype.componentDidUpdate=function(){this.updating=!1},t.prototype.getMatchingChildren=function(e,t,r){return e.filter(u).sort(s).map((function(e){var i=a(t,e.props.path,e.props);if(i){if(!1!==r){var s={url:t,matches:i};return o(s,i),delete s.ref,delete s.key,(0,n.cloneElement)(e,s)}return e}})).filter(Boolean)},t.prototype.render=function(e,t){var r=e.children,i=e.onChange,o=t.url,a=this.getMatchingChildren((0,n.toChildArray)(r),o,!0),s=a[0]||null,u=this.previousUrl;return o!==u&&(this.previousUrl=o,"function"==typeof i&&i({router:this,url:o,previous:u,active:a,current:s})),s},t}(n.Component),T=function(e){return(0,n.createElement)("a",o({onClick:b},e))},P=function(e){return(0,n.createElement)(e.component,e)};I.subscribers=f,I.getCurrentUrl=m,I.route=y,I.Router=I,I.Route=P,I.Link=T,I.exec=a;const A=I},319:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.rU=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(508),a=r(511);function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==n(t)&&"function"!=typeof t?e:t}var u=function(e){function t(){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n=s(this,e.call.apply(e,[this].concat(o))),n.update=function(e){n.nextUrl=e,n.setState({})},s(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+n(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){a.subscribers.push(this.update)},t.prototype.componentWillUnmount=function(){a.subscribers.splice(a.subscribers.indexOf(this.update)>>>0,1)},t.prototype.render=function(e){var t=this.nextUrl||(0,a.getCurrentUrl)(),r=t.replace(/\?.+$/,"");return this.nextUrl=null,e.children({url:t,path:r,matches:!1!==(0,a.exec)(r,e.path,{})})},t}(o.Component),l=function(e){var t=e.activeClassName,r=e.path,n=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["activeClassName","path"]);return(0,o.h)(u,{path:r||n.href},(function(e){var r=e.matches;return(0,o.h)(a.Link,i({},n,{class:[n.class||n.className,r&&t].filter(Boolean).join(" ")}))}))};t.rU=l,u.Link=l},508:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Component:()=>_,Fragment:()=>w,cloneElement:()=>H,createContext:()=>B,createElement:()=>v,createRef:()=>b,h:()=>v,hydrate:()=>W,isValidElement:()=>a,options:()=>i,render:()=>L,toChildArray:()=>E});var n,i,o,a,s,u,l,c,d,p={},f=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function m(e,t){for(var r in t)e[r]=t[r];return e}function y(e){var t=e.parentNode;t&&t.removeChild(e)}function v(e,t,r){var i,o,a,s={};for(a in t)"key"==a?i=t[a]:"ref"==a?o=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?n.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return g(e,s,i,o,null)}function g(e,t,r,n,a){var s={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++o:a};return null==a&&null!=i.vnode&&i.vnode(s),s}function b(){return{current:null}}function w(e){return e.children}function _(e,t){this.props=e,this.context=t}function S(e,t){if(null==t)return e.__?S(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?S(e):null}function I(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return I(e)}}function T(e){(!e.__d&&(e.__d=!0)&&s.push(e)&&!P.__r++||u!==i.debounceRendering)&&((u=i.debounceRendering)||l)(P)}function P(){var e,t,r,n,i,o,a,u;for(s.sort(c);e=s.shift();)e.__d&&(t=s.length,n=void 0,i=void 0,a=(o=(r=e).__v).__e,(u=r.__P)&&(n=[],(i=m({},o)).__v=o.__v+1,F(u,o,i,r.__n,void 0!==u.ownerSVGElement,null!=o.__h?[a]:null,n,null==a?S(o):a,o.__h),V(n,o),o.__e!=a&&I(o)),s.length>t&&s.sort(c));P.__r=0}function A(e,t,r,n,i,o,a,s,u,l){var c,d,h,m,y,v,b,_=n&&n.__k||f,I=_.length;for(r.__k=[],c=0;c<t.length;c++)if(null!=(m=r.__k[c]=null==(m=t[c])||"boolean"==typeof m||"function"==typeof m?null:"string"==typeof m||"number"==typeof m||"bigint"==typeof m?g(null,m,null,null,m):Array.isArray(m)?g(w,{children:m},null,null,null):m.__b>0?g(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)){if(m.__=r,m.__b=r.__b+1,null===(h=_[c])||h&&m.key==h.key&&m.type===h.type)_[c]=void 0;else for(d=0;d<I;d++){if((h=_[d])&&m.key==h.key&&m.type===h.type){_[d]=void 0;break}h=null}F(e,m,h=h||p,i,o,a,s,u,l),y=m.__e,(d=m.ref)&&h.ref!=d&&(b||(b=[]),h.ref&&b.push(h.ref,null,m),b.push(d,m.__c||y,m)),null!=y?(null==v&&(v=y),"function"==typeof m.type&&m.__k===h.__k?m.__d=u=k(m,u,e):u=D(e,m,h,_,y,u),"function"==typeof r.type&&(r.__d=u)):u&&h.__e==u&&u.parentNode!=e&&(u=S(h))}for(r.__e=v,c=I;c--;)null!=_[c]&&("function"==typeof r.type&&null!=_[c].__e&&_[c].__e==r.__d&&(r.__d=C(n).nextSibling),z(_[c],_[c]));if(b)for(c=0;c<b.length;c++)j(b[c],b[++c],b[++c])}function k(e,t,r){for(var n,i=e.__k,o=0;i&&o<i.length;o++)(n=i[o])&&(n.__=e,t="function"==typeof n.type?k(n,t,r):D(r,n,n,i,n.__e,t));return t}function E(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){E(e,t)})):t.push(e)),t}function D(e,t,r,n,i,o){var a,s,u;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==r||i!=o||null==i.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(i),a=null;else{for(s=o,u=0;(s=s.nextSibling)&&u<n.length;u+=1)if(s==i)break e;e.insertBefore(i,o),a=o}return void 0!==a?a:i.nextSibling}function C(e){var t,r,n;if(null==e.type||"string"==typeof e.type)return e.__e;if(e.__k)for(t=e.__k.length-1;t>=0;t--)if((r=e.__k[t])&&(n=C(r)))return n;return null}function x(e,t,r){"-"===t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||h.test(t)?r:r+"px"}function O(e,t,r,n,i){var o;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||x(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||x(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=r,r?n||e.addEventListener(t,o?N:M,o):e.removeEventListener(t,o?N:M,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null==r||!1===r&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,r))}}function M(e){return this.l[e.type+!1](i.event?i.event(e):e)}function N(e){return this.l[e.type+!0](i.event?i.event(e):e)}function F(e,t,r,n,o,a,s,u,l){var c,d,p,f,h,y,v,g,b,S,I,T,P,k,E,D=t.type;if(void 0!==t.constructor)return null;null!=r.__h&&(l=r.__h,u=t.__e=r.__e,t.__h=null,a=[u]),(c=i.__b)&&c(t);try{e:if("function"==typeof D){if(g=t.props,b=(c=D.contextType)&&n[c.__c],S=c?b?b.props.value:c.__:n,r.__c?v=(d=t.__c=r.__c).__=d.__E:("prototype"in D&&D.prototype.render?t.__c=d=new D(g,S):(t.__c=d=new _(g,S),d.constructor=D,d.render=U),b&&b.sub(d),d.props=g,d.state||(d.state={}),d.context=S,d.__n=n,p=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=D.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=m({},d.__s)),m(d.__s,D.getDerivedStateFromProps(g,d.__s))),f=d.props,h=d.state,d.__v=t,p)null==D.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==D.getDerivedStateFromProps&&g!==f&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(g,S),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(g,d.__s,S)||t.__v===r.__v){for(t.__v!==r.__v&&(d.props=g,d.state=d.__s,d.__d=!1),d.__e=!1,t.__e=r.__e,t.__k=r.__k,t.__k.forEach((function(e){e&&(e.__=t)})),I=0;I<d._sb.length;I++)d.__h.push(d._sb[I]);d._sb=[],d.__h.length&&s.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(g,d.__s,S),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(f,h,y)}))}if(d.context=S,d.props=g,d.__P=e,T=i.__r,P=0,"prototype"in D&&D.prototype.render){for(d.state=d.__s,d.__d=!1,T&&T(t),c=d.render(d.props,d.state,d.context),k=0;k<d._sb.length;k++)d.__h.push(d._sb[k]);d._sb=[]}else do{d.__d=!1,T&&T(t),c=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++P<25);d.state=d.__s,null!=d.getChildContext&&(n=m(m({},n),d.getChildContext())),p||null==d.getSnapshotBeforeUpdate||(y=d.getSnapshotBeforeUpdate(f,h)),E=null!=c&&c.type===w&&null==c.key?c.props.children:c,A(e,Array.isArray(E)?E:[E],t,r,n,o,a,s,u,l),d.base=t.__e,t.__h=null,d.__h.length&&s.push(d),v&&(d.__E=d.__=null),d.__e=!1}else null==a&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=R(r.__e,t,r,n,o,a,s,l);(c=i.diffed)&&c(t)}catch(e){t.__v=null,(l||null!=a)&&(t.__e=u,t.__h=!!l,a[a.indexOf(u)]=null),i.__e(e,t,r)}}function V(e,t){i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function R(e,t,r,i,o,a,s,u){var l,c,d,f=r.props,h=t.props,m=t.type,v=0;if("svg"===m&&(o=!0),null!=a)for(;v<a.length;v++)if((l=a[v])&&"setAttribute"in l==!!m&&(m?l.localName===m:3===l.nodeType)){e=l,a[v]=null;break}if(null==e){if(null===m)return document.createTextNode(h);e=o?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,h.is&&h),a=null,u=!1}if(null===m)f===h||u&&e.data===h||(e.data=h);else{if(a=a&&n.call(e.childNodes),c=(f=r.props||p).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!u){if(null!=a)for(f={},v=0;v<e.attributes.length;v++)f[e.attributes[v].name]=e.attributes[v].value;(d||c)&&(d&&(c&&d.__html==c.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(function(e,t,r,n,i){var o;for(o in r)"children"===o||"key"===o||o in t||O(e,o,null,r[o],n);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||r[o]===t[o]||O(e,o,t[o],r[o],n)}(e,h,f,o,u),d)t.__k=[];else if(v=t.props.children,A(e,Array.isArray(v)?v:[v],t,r,i,o&&"foreignObject"!==m,a,s,a?a[0]:r.__k&&S(r,0),u),null!=a)for(v=a.length;v--;)null!=a[v]&&y(a[v]);u||("value"in h&&void 0!==(v=h.value)&&(v!==e.value||"progress"===m&&!v||"option"===m&&v!==f.value)&&O(e,"value",v,f.value,!1),"checked"in h&&void 0!==(v=h.checked)&&v!==e.checked&&O(e,"checked",v,f.checked,!1))}return e}function j(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){i.__e(e,r)}}function z(e,t,r){var n,o;if(i.unmount&&i.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||j(n,null,t)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){i.__e(e,t)}n.base=n.__P=null,e.__c=void 0}if(n=e.__k)for(o=0;o<n.length;o++)n[o]&&z(n[o],t,r||"function"!=typeof e.type);r||null==e.__e||y(e.__e),e.__=e.__e=e.__d=void 0}function U(e,t,r){return this.constructor(e,r)}function L(e,t,r){var o,a,s;i.__&&i.__(e,t),a=(o="function"==typeof r)?null:r&&r.__k||t.__k,s=[],F(t,e=(!o&&r||t).__k=v(w,null,[e]),a||p,p,void 0!==t.ownerSVGElement,!o&&r?[r]:a?null:t.firstChild?n.call(t.childNodes):null,s,!o&&r?r:a?a.__e:t.firstChild,o),V(s,e)}function W(e,t){L(e,t,W)}function H(e,t,r){var i,o,a,s=m({},e.props);for(a in t)"key"==a?i=t[a]:"ref"==a?o=t[a]:s[a]=t[a];return arguments.length>2&&(s.children=arguments.length>3?n.call(arguments,2):r),g(e.type,s,i||e.key,o||e.ref,null)}function B(e,t){var r={__c:t="__cC"+d++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,n;return this.getChildContext||(r=[],(n={})[t]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&r.some((function(e){e.__e=!0,T(e)}))},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return r.Provider.__=r.Consumer.contextType=r}n=f.slice,i={__e:function(e,t,r,n){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},o=0,a=function(e){return null!=e&&void 0===e.constructor},_.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=m({},this.state),"function"==typeof e&&(e=e(m({},r),this.props)),e&&m(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),T(this))},_.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),T(this))},_.prototype.render=w,s=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=function(e,t){return e.__v.__b-t.__v.__b},P.__r=0,d=0},428:(e,t,r)=>{"use strict";var n=r(134);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},526:(e,t,r)=>{e.exports=r(428)()},134:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(499),i=r.n(n),o=r(922),a=r.n(o)()(i());a.push([e.id,'body.dashboard_page_Traffic-Forecast{overflow-x:hidden}#Traffic-Forecast-admin h1{padding:0;margin:0 0 12px}#Traffic-Forecast-admin .grid{display:grid;grid-gap:12px;grid-template-columns:repeat(6, 1fr)}#Traffic-Forecast-admin .one{grid-column:span 1}#Traffic-Forecast-admin .two{grid-column:span 2}#Traffic-Forecast-admin .three{grid-column:span 3}#Traffic-Forecast-admin .four{grid-column:span 4}#Traffic-Forecast-admin .five{grid-column:span 5}#Traffic-Forecast-admin .six{grid-column:span 6}#Traffic-Forecast-admin .box-grid{display:grid;grid-gap:12px;grid-template-columns:8fr 2fr 2fr;border-top:1px dashed #eee;padding:6px 12px;text-align:left}@media(max-width: 320px){#Traffic-Forecast-admin .nav{grid-row:1;grid-column:span 6}}#Traffic-Forecast-admin .subsubsub{display:block;float:right;line-height:20px;margin:0;padding:6px 0;font-size:13px;text-align:left}#Traffic-Forecast-admin .box{background:#fff;border-radius:6px;border:1px solid #ddd;grid-column:span 3;margin-bottom:12px}@media(max-width: 800px){#Traffic-Forecast-admin .box{grid-column:span 6}}#Traffic-Forecast-admin .box .head{font-weight:bold;font-size:1.1em;padding:6px 12px;border:0}#Traffic-Forecast-admin .box .body{padding-bottom:6px}#Traffic-Forecast-admin .box .muted{width:24px;display:inline-block;color:#757575;font-size:.9em}#Traffic-Forecast-admin .box .amount-col{text-align:right}#Traffic-Forecast-admin .box .url-col{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}#Traffic-Forecast-admin .input-group{margin-bottom:24px}#Traffic-Forecast-admin .input-group label{margin-bottom:6px}#Traffic-Forecast-admin .input-group input,#Traffic-Forecast-admin .input-group select{margin-bottom:6px}#Traffic-Forecast-admin .input-group input[type=radio],#Traffic-Forecast-admin .input-group input[type=checkbox]{margin-bottom:0}#Traffic-Forecast-admin .input-group .help{margin-top:0}#Traffic-Forecast-admin label{display:block;font-size:1.2em;font-weight:bold;margin-bottom:6px}#Traffic-Forecast-admin label.cb{font-size:1em;font-weight:normal}#Traffic-Forecast-admin select{margin:0;min-width:320px}#Traffic-Forecast-admin select[multiple]{min-height:160px}#Traffic-Forecast-admin pre.code{display:block;border:1px solid #ccc;background:#fff;padding:1em}#Traffic-Forecast-admin .pagination{color:#757575;cursor:pointer;display:inline-block;margin-left:12px}#Traffic-Forecast-admin .pagination .prev,#Traffic-Forecast-admin .pagination .next{display:inline-block;padding:0 4px}#Traffic-Forecast-admin .pagination .prev:hover,#Traffic-Forecast-admin .pagination .prev:focus,#Traffic-Forecast-admin .pagination .next:hover,#Traffic-Forecast-admin .pagination .next:focus{transform:scale(1.4);transition:transform .2s}#Traffic-Forecast-admin .pagination .prev.hidden,#Traffic-Forecast-admin .pagination .next.hidden{display:initial;visibility:hidden}#Traffic-Forecast-admin .pagination .prev.disabled,#Traffic-Forecast-admin .pagination .next.disabled{opacity:.4}#Traffic-Forecast-admin .pagination .prev.disabled:hover,#Traffic-Forecast-admin .pagination .prev.disabled:focus,#Traffic-Forecast-admin .pagination .next.disabled:hover,#Traffic-Forecast-admin .pagination .next.disabled:focus{transform:none;cursor:initial}@media(max-width: 320px){#Traffic-Forecast-admin .pagination{margin-left:6px}#Traffic-Forecast-admin .pagination .prev,#Traffic-Forecast-admin .pagination .next{padding:0}}#Traffic-Forecast-admin .margin-s{margin:24px 0}#Traffic-Forecast-admin .margin-m{margin:48px 0}#Traffic-Forecast-admin .margin-l{margin:72px 0}#Traffic-Forecast-admin .Traffic-fade{animation:Traffic-fadein .4s}#Traffic-Forecast-admin .left{float:left}#Traffic-Forecast-admin .right{float:right}#Traffic-Forecast-admin .flex{display:flex}#Traffic-Forecast-admin .cf:after{content:"";display:table;clear:both}@keyframes Traffic-fadein{from{opacity:0}to{opacity:1}}',""]);const s=a},825:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(499),i=r.n(n),o=r(922),a=r.n(o)()(i());a.push([e.id,".chart-container{position:relative}.chart{overflow:visible}.chart-tooltip{position:absolute;z-index:9991}.chart-tooltip .heading{font-weight:600;padding:12px;line-height:1}.chart-tooltip .pageviews,.chart-tooltip .visitors{border-top:3px solid rgba(0,0,0,0)}.chart-tooltip .content{display:flex}.chart-tooltip .content>div{padding:6px 12px;width:50%;display:block;flex:1}.chart-tooltip .amount{color:#fff;font-weight:bold}.tooltip-inner{background:rgba(46,54,63,.96);box-shadow:2px 2px 12px 0 rgba(0,0,0,.5);border-radius:4px;color:#eee}.tooltip-arrow{width:0;height:0;margin-left:auto;margin-right:auto;border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid rgba(46,54,63,.96)}#Traffic-Forecast-dashboard-widget-mount{text-align:center}",""]);const s=a},637:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(499),i=r.n(n),o=r(922),a=r.n(o)()(i());a.push([e.id,"#Traffic-Forecast-admin .date-nav{position:relative;margin-bottom:12px}#Traffic-Forecast-admin .date-label{cursor:pointer;padding:6px;border:1px solid #ddd;border-radius:6px;display:inline-block;background:#fff;line-height:20px}@media(max-width: 320px){#Traffic-Forecast-admin .date-label .dashicons{display:none}}#Traffic-Forecast-admin .date-label .dashicons{margin-right:2px}#Traffic-Forecast-admin .date-picker-ui{background:#fff;width:auto;z-index:20;border-radius:6px;position:absolute;margin-top:6px;box-shadow:2px 2px 12px 0px rgba(0,0,0,.5)}#Traffic-Forecast-admin .date-quicknav{background:#2e363f;border-top-left-radius:6px;border-top-right-radius:6px;color:#fff;text-align:center;padding:12px;font-weight:bold;font-size:1.1em}#Traffic-Forecast-admin .date-quicknav .prev,#Traffic-Forecast-admin .date-quicknav .next{margin:0 6px;color:#fff}#Traffic-Forecast-admin .date-quicknav .prev:hover,#Traffic-Forecast-admin .date-quicknav .prev:focus,#Traffic-Forecast-admin .date-quicknav .next:hover,#Traffic-Forecast-admin .date-quicknav .next:focus{cursor:pointer;transform:scale(1.4);transition:transform .2s}#Traffic-Forecast-admin .date-presets{padding:12px 24px 12px 12px;border-right:1px solid #ddd;min-width:100px}#Traffic-Forecast-admin .date-presets label{font-weight:bold;font-size:1em}#Traffic-Forecast-admin .date-presets>div{margin-bottom:1em}#Traffic-Forecast-admin .date-presets strong{display:block;padding:6px 0}#Traffic-Forecast-admin .date-presets a{display:block;padding:4px 0}#Traffic-Forecast-admin .date-picker{padding:12px}@media(min-width: 680px){#Traffic-Forecast-admin .date-picker{min-width:480px}}#Traffic-Forecast-admin .date-picker .pika-lendar{margin:0}#Traffic-Forecast-admin .pika-single{color:inherit;border:0}#Traffic-Forecast-admin .pika-label{font-size:inherit;font-weight:normal}#Traffic-Forecast-admin .pika-prev,#Traffic-Forecast-admin .pika-next{opacity:.3}",""]);const s=a},26:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(499),i=r.n(n),o=r(922),a=r.n(o)()(i());a.push([e.id,"#Traffic-Forecast-admin .totals-container{background:#2e363f;color:#fff;padding:24px;margin-bottom:12px;display:flex;border-radius:6px}#Traffic-Forecast-admin .totals-box{display:block;margin-right:48px}#Traffic-Forecast-admin .totals-box:last-of-type{margin-right:0}@media(max-width: 320px){#Traffic-Forecast-admin .totals-box{margin-right:36px}}#Traffic-Forecast-admin .totals-label{color:#eee;margin-bottom:6px;font-size:14px}#Traffic-Forecast-admin .totals-amount{display:block;line-height:48px;font-size:48px;font-weight:500;letter-spacing:-1px;margin-bottom:6px}#Traffic-Forecast-admin .totals-amount span{font-size:.4em;font-weight:normal;vertical-align:top;letter-spacing:normal}#Traffic-Forecast-admin .totals-compare{color:#eee}#Traffic-Forecast-admin .neutral{color:#aaa}#Traffic-Forecast-admin .up{color:#32cd32}#Traffic-Forecast-admin .down{color:#fb7272}",""]);const s=a},745:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(499),i=r.n(n),o=r(922),a=r.n(o),s=r(155),u=r.n(s),l=new URL(r(168),r.b),c=new URL(r(333),r.b),d=a()(i()),p=u()(l),f=u()(c);d.push([e.id,'/*!\n * Pikaday\n * Copyright Â© 2014 David Bushell | BSD & MIT license | https://dbushell.com/\n */.pika-single{z-index:9999;display:block;position:relative;color:#333;background:#fff;border:1px solid #ccc;border-bottom-color:#bbb;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif}.pika-single:before,.pika-single:after{content:" ";display:table}.pika-single:after{clear:both}.pika-single.is-hidden{display:none}.pika-single.is-bound{position:absolute;box-shadow:0 5px 15px -5px rgba(0,0,0,.5)}.pika-lendar{float:left;width:240px;margin:8px}.pika-title{position:relative;text-align:center}.pika-label{display:inline-block;position:relative;z-index:9999;overflow:hidden;margin:0;padding:5px 3px;font-size:14px;line-height:20px;font-weight:bold;background-color:#fff}.pika-title select{cursor:pointer;position:absolute;z-index:9998;margin:0;left:0;top:5px;opacity:0}.pika-prev,.pika-next{display:block;cursor:pointer;position:relative;outline:none;border:0;padding:0;width:20px;height:30px;text-indent:20px;white-space:nowrap;overflow:hidden;background-color:rgba(0,0,0,0);background-position:center center;background-repeat:no-repeat;background-size:75% 75%;opacity:.5}.pika-prev:hover,.pika-next:hover{opacity:1}.pika-prev,.is-rtl .pika-next{float:left;background-image:url('+p+")}.pika-next,.is-rtl .pika-prev{float:right;background-image:url("+f+")}.pika-prev.is-disabled,.pika-next.is-disabled{cursor:default;opacity:.2}.pika-select{display:inline-block}.pika-table{width:100%;border-collapse:collapse;border-spacing:0;border:0}.pika-table th,.pika-table td{width:14.2857142857%;padding:0}.pika-table th{color:#999;font-size:12px;line-height:25px;font-weight:bold;text-align:center}.pika-button{cursor:pointer;display:block;box-sizing:border-box;-moz-box-sizing:border-box;outline:none;border:0;margin:0;width:100%;padding:5px;color:#666;font-size:12px;line-height:15px;text-align:right;background:#f5f5f5;height:initial}.pika-week{font-size:11px;color:#999}.is-today .pika-button{color:#3af;font-weight:bold}.is-selected .pika-button,.has-event .pika-button{color:#fff;font-weight:bold;background:#3af;box-shadow:inset 0 1px 3px #178fe5;border-radius:3px}.has-event .pika-button{background:#005da9;box-shadow:inset 0 1px 3px #0076c9}.is-disabled .pika-button,.is-inrange .pika-button{background:#d5e9f7}.is-startrange .pika-button{color:#fff;background:#6cb31d;box-shadow:none;border-radius:3px}.is-endrange .pika-button{color:#fff;background:#3af;box-shadow:none;border-radius:3px}.is-disabled .pika-button{pointer-events:none;cursor:default;color:#999;opacity:.3}.is-outside-current-month .pika-button{color:#999;opacity:.3}.is-selection-disabled{pointer-events:none;cursor:default}.pika-button:hover,.pika-row.pick-whole-week:hover .pika-button{color:#fff;background:#ff8000;box-shadow:none;border-radius:3px}.pika-table abbr{border-bottom:none;cursor:help}",""]);const h=d},85:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=85,e.exports=t},379:e=>{"use strict";var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var o={},a=[],s=0;s<e.length;s++){var u=e[s],l=n.base?u[0]+n.base:u[0],c=o[l]||0,d="".concat(l," ").concat(c);o[l]=c+1;var p=r(d),f={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=i(f,n);n.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}a.push(d)}return a}function i(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,i){var o=n(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=r(o[a]);t[s].references--}for(var u=n(e,i),l=0;l<o.length;l++){var c=r(o[l]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}o=u}}},569:e=>{"use strict";var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var i=void 0!==r.layer;i&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,i&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},333:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAU0lEQVR42u3VOwoAMAgE0dwfAnNjU26bYkBCFGwfiL9VVWoO+BJ4Gf3gtsEKKoFBNTCoCAYVwaAiGNQGMUHMkjGbgjk2mIONuXo0nC8XnCf1JXgArVIZAQh5TKYAAAAASUVORK5CYII="},168:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAUklEQVR42u3VMQoAIBADQf8Pgj+OD9hG2CtONJB2ymQkKe0HbwAP0xucDiQWARITIDEBEnMgMQ8S8+AqBIl6kKgHiXqQqAeJepBo/z38J/U0uAHlaBkBl9I4GwAAAABJRU5ErkJggg=="},488:e=>{"use strict";if("undefined"==typeof moment){var t=new Error("Cannot find module 'moment'");throw t.code="MODULE_NOT_FOUND",t}e.exports=moment}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.b=document.baseURI||self.location.href,r.nc=void 0,(()=>{"use strict";var e=r(379),t=r.n(e),n=r(795),i=r.n(n),o=r(569),a=r.n(o),s=r(565),u=r.n(s),l=r(216),c=r.n(l),d=r(589),p=r.n(d),f=r(6),h={};function m(e,t,r){return(t=k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t="function"==typeof Map?new Map:void 0;return y=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return v(e,arguments,M(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),C(n,e)},y(e)}function v(e,t,r){return v=O()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&C(i,r.prototype),i},v.apply(null,arguments)}function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(){I=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new A(i||[]);return n(a,"_invoke",{value:_(e,r,s)}),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function p(){}function f(){}function h(){}var m={};u(m,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(k([])));v&&v!==t&&r.call(v,o)&&(m=v);var g=h.prototype=p.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(n,o,a,s){var u=c(e[n],e,o);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==N(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function _(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return{value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=S(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=h,n(g,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:f,configurable:!0}),f.displayName=u(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new w(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),u(g,s,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k(n.key),n)}}function A(e,t,r){return t&&P(e.prototype,t),r&&P(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e){var t=function(e,t){if("object"!==N(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===N(t)?t:String(t)}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},E.apply(this,arguments)}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function x(e){var t=O();return function(){var r,n=M(e);if(t){var i=M(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}h.styleTagTransform=p(),h.setAttributes=u(),h.insert=a().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=c(),t()(f.Z,h),f.Z&&f.Z.locals&&f.Z.locals;var F={5611:function(e,t,r){r(3132);var n=r(9276);e.exports=n.Number.isInteger},2316:function(e,t,r){r(4586);var n=r(9276);e.exports=n.Number.isNaN},47:function(e,t,r){r(3105);var n=r(9276);e.exports=n.Object.assign},7111:function(e,t,r){var n=r(9859),i=r(6733),o=r(9821),a=n.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a function")}},1176:function(e,t,r){var n=r(9859),i=r(5052),o=n.String,a=n.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not an object")}},9540:function(e,t,r){var n=r(905),i=r(3231),o=r(9646),a=function(e){return function(t,r,a){var s,u=n(t),l=o(u),c=i(a,l);if(e&&r!=r){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===r)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},7079:function(e,t,r){var n=r(5968),i=n({}.toString),o=n("".slice);e.exports=function(e){return o(i(e),8,-1)}},7081:function(e,t,r){var n=r(8270),i=r(4826),o=r(7933),a=r(1787);e.exports=function(e,t){for(var r=i(t),s=a.f,u=o.f,l=0;l<r.length;l++){var c=r[l];n(e,c)||s(e,c,u(t,c))}}},5762:function(e,t,r){var n=r(7400),i=r(1787),o=r(5358);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},5358:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7400:function(e,t,r){var n=r(4229);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2635:function(e,t,r){var n=r(9859),i=r(5052),o=n.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},598:function(e,t,r){var n=r(1333);e.exports=n("navigator","userAgent")||""},6358:function(e,t,r){var n,i,o=r(9859),a=r(598),s=o.process,u=o.Deno,l=s&&s.versions||u&&u.version,c=l&&l.v8;c&&(i=(n=c.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},3837:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3103:function(e,t,r){var n=r(9859),i=r(7933).f,o=r(5762),a=r(7487),s=r(2079),u=r(7081),l=r(6541);e.exports=function(e,t){var r,c,d,p,f,h=e.target,m=e.global,y=e.stat;if(r=m?n:y?n[h]||s(h,{}):(n[h]||{}).prototype)for(c in t){if(p=t[c],d=e.noTargetGet?(f=i(r,c))&&f.value:r[c],!l(m?c:h+(y?".":"#")+c,e.forced)&&void 0!==d){if(N(p)==N(d))continue;u(p,d)}(e.sham||d&&d.sham)&&o(p,"sham",!0),a(r,c,p,e)}}},4229:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},266:function(e){var t=Function.prototype.call;e.exports=t.bind?t.bind(t):function(){return t.apply(t,arguments)}},1805:function(e,t,r){var n=r(7400),i=r(8270),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,l=s&&(!n||n&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:l}},5968:function(e){var t=Function.prototype,r=t.bind,n=t.call,i=r&&r.bind(n);e.exports=r?function(e){return e&&i(n,e)}:function(e){return e&&function(){return n.apply(e,arguments)}}},1333:function(e,t,r){var n=r(9859),i=r(6733);e.exports=function(e,t){return arguments.length<2?function(e){return i(e)?e:void 0}(n[e]):n[e]&&n[e][t]}},5300:function(e,t,r){var n=r(7111);e.exports=function(e,t){var r=e[t];return null==r?void 0:n(r)}},9859:function(e,t,r){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==("undefined"==typeof globalThis?"undefined":N(globalThis))&&globalThis)||n("object"==("undefined"==typeof window?"undefined":N(window))&&window)||n("object"==("undefined"==typeof self?"undefined":N(self))&&self)||n("object"==N(r.g)&&r.g)||function(){return this}()||Function("return this")()},8270:function(e,t,r){var n=r(5968),i=r(2991),o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},5977:function(e){e.exports={}},4394:function(e,t,r){var n=r(7400),i=r(4229),o=r(2635);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},9337:function(e,t,r){var n=r(9859),i=r(5968),o=r(4229),a=r(7079),s=n.Object,u=i("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?u(e,""):s(e)}:s},8511:function(e,t,r){var n=r(5968),i=r(6733),o=r(5353),a=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},6407:function(e,t,r){var n,i,o,a=r(8694),s=r(9859),u=r(5968),l=r(5052),c=r(5762),d=r(8270),p=r(5353),f=r(4399),h=r(5977),m="Object already initialized",y=s.TypeError,v=s.WeakMap;if(a||p.state){var g=p.state||(p.state=new v),b=u(g.get),w=u(g.has),_=u(g.set);n=function(e,t){if(w(g,e))throw new y(m);return t.facade=e,_(g,e,t),t},i=function(e){return b(g,e)||{}},o=function(e){return w(g,e)}}else{var S=f("state");h[S]=!0,n=function(e,t){if(d(e,S))throw new y(m);return t.facade=e,c(e,S,t),t},i=function(e){return d(e,S)?e[S]:{}},o=function(e){return d(e,S)}}e.exports={set:n,get:i,has:o,enforce:function(e){return o(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=i(t)).type!==e)throw y("Incompatible receiver, "+e+" required");return r}}}},6733:function(e){e.exports=function(e){return"function"==typeof e}},6541:function(e,t,r){var n=r(4229),i=r(6733),o=/#|\.prototype\./,a=function(e,t){var r=u[s(e)];return r==c||r!=l&&(i(t)?n(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},2292:function(e,t,r){var n=r(5052),i=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&i(e)===e}},5052:function(e,t,r){var n=r(6733);e.exports=function(e){return"object"==N(e)?null!==e:n(e)}},4231:function(e){e.exports=!1},9395:function(e,t,r){var n=r(9859),i=r(1333),o=r(6733),a=r(1321),s=r(6969),u=n.Object;e.exports=s?function(e){return"symbol"==N(e)}:function(e){var t=i("Symbol");return o(t)&&a(t.prototype,u(e))}},9646:function(e,t,r){var n=r(4237);e.exports=function(e){return n(e.length)}},3839:function(e,t,r){var n=r(6358),i=r(4229);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},8694:function(e,t,r){var n=r(9859),i=r(6733),o=r(8511),a=n.WeakMap;e.exports=i(a)&&/native code/.test(o(a))},7888:function(e,t,r){var n=r(7400),i=r(5968),o=r(266),a=r(4229),s=r(5632),u=r(894),l=r(9195),c=r(2991),d=r(9337),p=Object.assign,f=Object.defineProperty,h=i([].concat);e.exports=!p||a((function(){if(n&&1!==p({b:1},p(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach((function(e){t[e]=e})),7!=p({},e)[r]||s(p({},t)).join("")!=i}))?function(e,t){for(var r=c(e),i=arguments.length,a=1,p=u.f,f=l.f;i>a;)for(var m,y=d(arguments[a++]),v=p?h(s(y),p(y)):s(y),g=v.length,b=0;g>b;)m=v[b++],n&&!o(f,y,m)||(r[m]=y[m]);return r}:p},1787:function(e,t,r){var n=r(9859),i=r(7400),o=r(4394),a=r(1176),s=r(9310),u=n.TypeError,l=Object.defineProperty;t.f=i?l:function(e,t,r){if(a(e),t=s(t),a(r),o)try{return l(e,t,r)}catch(e){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},7933:function(e,t,r){var n=r(7400),i=r(266),o=r(9195),a=r(5358),s=r(905),u=r(9310),l=r(8270),c=r(4394),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=s(e),t=u(t),c)try{return d(e,t)}catch(e){}if(l(e,t))return a(!i(o.f,e,t),e[t])}},8151:function(e,t,r){var n=r(140),i=r(3837).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},894:function(e,t){t.f=Object.getOwnPropertySymbols},1321:function(e,t,r){var n=r(5968);e.exports=n({}.isPrototypeOf)},140:function(e,t,r){var n=r(5968),i=r(8270),o=r(905),a=r(9540).indexOf,s=r(5977),u=n([].push);e.exports=function(e,t){var r,n=o(e),l=0,c=[];for(r in n)!i(s,r)&&i(n,r)&&u(c,r);for(;t.length>l;)i(n,r=t[l++])&&(~a(c,r)||u(c,r));return c}},5632:function(e,t,r){var n=r(140),i=r(3837);e.exports=Object.keys||function(e){return n(e,i)}},9195:function(e,t){var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},2914:function(e,t,r){var n=r(9859),i=r(266),o=r(6733),a=r(5052),s=n.TypeError;e.exports=function(e,t){var r,n;if("string"===t&&o(r=e.toString)&&!a(n=i(r,e)))return n;if(o(r=e.valueOf)&&!a(n=i(r,e)))return n;if("string"!==t&&o(r=e.toString)&&!a(n=i(r,e)))return n;throw s("Can't convert object to primitive value")}},4826:function(e,t,r){var n=r(1333),i=r(5968),o=r(8151),a=r(894),s=r(1176),u=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(s(e)),r=a.f;return r?u(t,r(e)):t}},9276:function(e,t,r){var n=r(9859);e.exports=n},7487:function(e,t,r){var n=r(9859),i=r(6733),o=r(8270),a=r(5762),s=r(2079),u=r(8511),l=r(6407),c=r(1805).CONFIGURABLE,d=l.get,p=l.enforce,f=String(String).split("String");(e.exports=function(e,t,r,u){var l,d=!!u&&!!u.unsafe,h=!!u&&!!u.enumerable,m=!!u&&!!u.noTargetGet,y=u&&void 0!==u.name?u.name:t;i(r)&&("Symbol("===String(y).slice(0,7)&&(y="["+String(y).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(r,"name")||c&&r.name!==y)&&a(r,"name",y),(l=p(r)).source||(l.source=f.join("string"==typeof y?y:""))),e!==n?(d?!m&&e[t]&&(h=!0):delete e[t],h?e[t]=r:a(e,t,r)):h?e[t]=r:s(t,r)})(Function.prototype,"toString",(function(){return i(this)&&d(this).source||u(this)}))},8885:function(e,t,r){var n=r(9859).TypeError;e.exports=function(e){if(null==e)throw n("Can't call method on "+e);return e}},2079:function(e,t,r){var n=r(9859),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},4399:function(e,t,r){var n=r(3036),i=r(1441),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},5353:function(e,t,r){var n=r(9859),i=r(2079),o="__core-js_shared__",a=n[o]||i(o,{});e.exports=a},3036:function(e,t,r){var n=r(4231),i=r(5353);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.0",mode:n?"pure":"global",copyright:"ÃÂ© 2021 Denis Pushkarev (zloirock.ru)"})},3231:function(e,t,r){var n=r(3329),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},905:function(e,t,r){var n=r(9337),i=r(8885);e.exports=function(e){return n(i(e))}},3329:function(e){var t=Math.ceil,r=Math.floor;e.exports=function(e){var n=+e;return n!=n||0===n?0:(n>0?r:t)(n)}},4237:function(e,t,r){var n=r(3329),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},2991:function(e,t,r){var n=r(9859),i=r(8885),o=n.Object;e.exports=function(e){return o(i(e))}},2066:function(e,t,r){var n=r(9859),i=r(266),o=r(5052),a=r(9395),s=r(5300),u=r(2914),l=r(95),c=n.TypeError,d=l("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var r,n=s(e,d);if(n){if(void 0===t&&(t="default"),r=i(n,e,t),!o(r)||a(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},9310:function(e,t,r){var n=r(2066),i=r(9395);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},9821:function(e,t,r){var n=r(9859).String;e.exports=function(e){try{return n(e)}catch(e){return"Object"}}},1441:function(e,t,r){var n=r(5968),i=0,o=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},6969:function(e,t,r){var n=r(3839);e.exports=n&&!Symbol.sham&&"symbol"==N(Symbol.iterator)},95:function(e,t,r){var n=r(9859),i=r(3036),o=r(8270),a=r(1441),s=r(3839),u=r(6969),l=i("wks"),c=n.Symbol,d=c&&c.for,p=u?c:c&&c.withoutSetter||a;e.exports=function(e){if(!o(l,e)||!s&&"string"!=typeof l[e]){var t="Symbol."+e;s&&o(c,e)?l[e]=c[e]:l[e]=u&&d?d(t):p(t)}return l[e]}},3132:function(e,t,r){r(3103)({target:"Number",stat:!0},{isInteger:r(2292)})},4586:function(e,t,r){r(3103)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},3105:function(e,t,r){var n=r(3103),i=r(7888);n({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},2541:function(e){!function(){var t=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i");function r(e){for(var t="",r=0;r<e;r++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t}function n(e){if(!e)throw new TypeError("Invalid argument; `value` has no value.");this.value=n.EMPTY,e&&e instanceof n?this.value=e.toString():e&&"[object String]"===Object.prototype.toString.call(e)&&n.isGuid(e)&&(this.value=e),this.equals=function(e){return n.isGuid(e)&&this.value==e},this.isEmpty=function(){return this.value===n.EMPTY},this.toString=function(){return this.value},this.toJSON=function(){return this.value}}n.EMPTY="00000000-0000-0000-0000-000000000000",n.isGuid=function(e){return e&&(e instanceof n||t.test(e.toString()))},n.create=function(){return new n([r(2),r(1),r(1),r(1),r(3)].join("-"))},n.raw=function(){return[r(2),r(1),r(1),r(1),r(3)].join("-")},e.exports?e.exports=n:"undefined"!=typeof window&&(window.Guid=n)}()},8022:function(e,t,r){var n=r(4481),i=r(6426),o=i;o.v1=n,o.v4=i,e.exports=o},8725:function(e){for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var n=r||0,i=t;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},9157:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},4481:function(e,t,r){var n,i,o=r(9157),a=r(8725),s=0,u=0;e.exports=function(e,t,r){var l=t&&r||0,c=t||[],d=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==p){var f=o();null==d&&(d=n=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=i=16383&(f[6]<<8|f[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:u+1,y=h-s+(m-u)/1e4;if(y<0&&void 0===e.clockseq&&(p=p+1&16383),(y<0||h>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=m,i=p;var v=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;c[l++]=v>>>24&255,c[l++]=v>>>16&255,c[l++]=v>>>8&255,c[l++]=255&v;var g=h/4294967296*1e4&268435455;c[l++]=g>>>8&255,c[l++]=255&g,c[l++]=g>>>24&15|16,c[l++]=g>>>16&255,c[l++]=p>>>8|128,c[l++]=255&p;for(var b=0;b<6;++b)c[l+b]=d[b];return t||a(c)}},6426:function(e,t,r){var n=r(9157),i=r(8725);e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},53:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var i=r(1750),o=r(5740),a=r(3630),s=r(6809),u=function(e){D(r,e);var t=x(r);function r(){return T(this,r),t.call(this)}return A(r,[{key:"updateRenderingIfInitialized",value:function(e){return n(this,void 0,void 0,I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._initialized){t.next=2;break}return t.abrupt("return",(a.WebComponentManager.unregisterWebComponent(this._embeddingIdCounter),this.updateRendering(e)));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"updateRendering",value:function(e){return n(this,void 0,void 0,I().mark((function t(){var r,n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this._initialized=!0,e){t.next=3;break}return t.abrupt("return",void console.debug("A src needs to be set on the ".concat(this.tagName.toLowerCase()," element. Skipping rendering.")));case 3:return t.next=5,this.auth();case 5:if(t.t0=t.sent,t.t1=s.TableauAuthResponse.Failure,t.t0!==t.t1){t.next=9;break}return t.abrupt("return",void console.debug("Authentication failed."));case 9:if(this.src){t.next=11;break}return t.abrupt("return",void console.debug("A src needs to be set on the ".concat(this.tagName.toLowerCase()," element. Skipping rendering.")));case 11:if(this.iframe){t.next=13;break}return t.abrupt("return",void console.debug("No iframe available to update the src."));case 13:return r=this.readCustomParamsFromChildren(),this._embeddingIdCounter=a.WebComponentManager.registerWebComponent(this),n=o.createAskDataUrl(this.src,this.constructOptions(),this._embeddingIdCounter,r).toString(),t.abrupt("return",(this.iframe.src=n,void this.raiseIframeSrcUpdatedNotification()));case 19:t.prev=19,t.t2=t.catch(0),console.warn(t.t2);case 22:case"end":return t.stop()}}),t,this,[[0,19]])})))}},{key:"constructOptions",value:function(){return{origin:this.origin,showEmbed:this.showEmbed,showPin:this.showPin,showSave:this.showSave,showShare:this.showShare,token:this.token,iframeAuth:this.iframeAuth,debug:this.debug}}},{key:"origin",get:function(){return this.getAttribute(i.AskDataAttributes.Origin)||void 0},set:function(e){e?this.setAttribute(i.AskDataAttributes.Origin,e):this.removeAttribute(i.AskDataAttributes.Origin)}},{key:"showEmbed",get:function(){return this.hasAttribute(i.AskDataAttributes.ShowEmbed)},set:function(e){e?this.setAttribute(i.AskDataAttributes.ShowEmbed,""):this.removeAttribute(i.AskDataAttributes.ShowEmbed)}},{key:"showPin",get:function(){return this.hasAttribute(i.AskDataAttributes.ShowPin)},set:function(e){e?this.setAttribute(i.AskDataAttributes.ShowPin,""):this.removeAttribute(i.AskDataAttributes.ShowPin)}},{key:"showShare",get:function(){return this.hasAttribute(i.AskDataAttributes.ShowShare)},set:function(e){e?this.setAttribute(i.AskDataAttributes.ShowShare,""):this.removeAttribute(i.AskDataAttributes.ShowShare)}},{key:"showSave",get:function(){return this.hasAttribute(i.AskDataAttributes.ShowSave)},set:function(e){e?this.setAttribute(i.AskDataAttributes.ShowSave,""):this.removeAttribute(i.AskDataAttributes.ShowSave)}}],[{key:"observedAttributes",get:function(){return[].concat(w(E(M(r),"observedAttributes",this)),w(Object.values(i.AskDataAttributes)))}}]),r}(s.TableauWebComponent);t.TableauAskData=u},123:function(e,t,r){var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(1750)),o=r(4695),a=r(9429),s=function(e){D(r,e);var t=x(r);function r(){return T(this,r),t.apply(this,arguments)}return A(r,[{key:"getAttributeEvents",value:function(){return[[i.VizSharedAttributes.OnEditInDesktopButtonClicked,i.EmbeddingTableauEventType.EditInDesktopButtonClicked],[i.VizSharedAttributes.OnFirstInteractive,i.EmbeddingTableauEventType.FirstInteractive],[i.VizSharedAttributes.OnFirstVizSizeKnown,i.EmbeddingTableauEventType.FirstVizSizeKnown],[i.VizAuthoringAttributes.OnWorkbookPublished,i.EmbeddingTableauEventType.WorkbookPublished],[i.VizAuthoringAttributes.OnWorkbookPublishedAs,i.EmbeddingTableauEventType.WorkbookPublishedAs],[i.VizAuthoringAttributes.OnWorkbookReadyToClose,i.EmbeddingTableauEventType.WorkbookReadyToClose]]}},{key:"createFrameUrlWithParams",value:function(){var e=this.constructVizqlOptions(),t=this.readCustomParamsFromChildren();return a.createVizUrl(this.src,a.EmbeddingUrlMode.Authoring,e,this._embeddingIdCounter,[],[],t)}},{key:"constructVizqlOptions",value:function(){return{token:this.token,touchOptimize:this.touchOptimize,hideEditInDesktopButton:this.hideEditInDesktopButton,suppressDefaultEditBehavior:this.suppressDefaultEditBehavior,hideCloseButton:this.hideCloseButton,debug:this.debug,iframeAuth:this.iframeAuth}}},{key:"getRegisteredEvents",value:function(){var e=this;return E(M(r.prototype),"getRegisteredEvents",this).call(this).concat([[o.NotificationId.WorkbookPublished,function(){return!0},function(){return e.dispatchEvent(new CustomEvent(i.EmbeddingTableauEventType.WorkbookPublished))}],[o.NotificationId.WorkbookPublishedAs,function(){return!0},function(t){return e.handleWorkbookPublishedAsEvent(t)}],[o.NotificationId.WorkbookReadyToClose,function(){return!0},function(){return e.dispatchEvent(new CustomEvent(i.EmbeddingTableauEventType.WorkbookReadyToClose))}]])}},{key:"handleWorkbookPublishedAsEvent",value:function(e){var t={newUrl:e.newUrl};this.dispatchEvent(new CustomEvent(i.EmbeddingTableauEventType.WorkbookPublishedAs,{detail:t}))}},{key:"hideCloseButton",get:function(){return this.hasAttribute(i.VizAuthoringAttributes.HideCloseButton)},set:function(e){e?this.setAttribute(i.VizAuthoringAttributes.HideCloseButton,""):this.removeAttribute(i.VizAuthoringAttributes.HideCloseButton)}}],[{key:"observedAttributes",get:function(){return[].concat(w(E(M(r),"observedAttributes",this)),w(Object.values(i.VizAuthoringAttributes)))}}]),r}(r(6801).TableauVizBase);t.TableauAuthoringViz=s},4882:function(e,t,r){var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(1750)),o=r(4695),a=r(4007),s=r(4031),u=r(9973),l=r(8460),c=r(6208),d=r(9288),p=r(3504),f=r(9429),h=r(6451),m=r(3630),y=r(6801),v=function(e){D(r,e);var t=x(r);function r(){var e;return T(this,r),(e=t.apply(this,arguments)).preInitFilters=[],e}return A(r,[{key:"readFiltersFromChild",value:function(){var e=[];return[].forEach.call(this.children,(function(t){t.localName===i.VizChildElements.VizFilter&&t.getAttribute(i.VizChildElementAttributes.Field)&&void 0!==t.getAttribute(i.VizChildElementAttributes.Value)&&e.push({field:t.getAttribute(i.VizChildElementAttributes.Field),value:t.getAttribute(i.VizChildElementAttributes.Value)})})),e}},{key:"readParametersFromChild",value:function(){var e=[];return[].forEach.call(this.children,(function(t){t.localName===i.VizChildElements.VizParameter&&t.getAttribute(i.VizChildElementAttributes.Name)&&t.getAttribute(i.VizChildElementAttributes.Value)&&e.push({name:t.getAttribute(i.VizChildElementAttributes.Name),value:t.getAttribute(i.VizChildElementAttributes.Value)})})),e}},{key:"disconnectedCallback",value:function(){this.preInitFilters=[],E(M(r.prototype),"disconnectedCallback",this).call(this)}},{key:"createFrameUrlWithParams",value:function(){var e=this.constructVizqlOptions(),t=this.readFiltersFromChild().concat(this.preInitFilters),r=this.readParametersFromChild(),n=this.readCustomParamsFromChildren();return f.createVizUrl(this.src,f.EmbeddingUrlMode.Viewing,e,this._embeddingIdCounter,t,r,n)}},{key:"constructVizqlOptions",value:function(){return{disableUrlActionsPopups:this.disableUrlActionsPopups,hideTabs:this.hideTabs,toolbar:this.toolbar,instanceIdToClone:this.instanceIdToClone,device:this.device,token:this.token,touchOptimize:this.touchOptimize,hideEditButton:this.hideEditButton,hideEditInDesktopButton:this.hideEditInDesktopButton,suppressDefaultEditBehavior:this.suppressDefaultEditBehavior,debug:this.debug,iframeAuth:this.iframeAuth}}},{key:"getAttributeEvents",value:function(){return[[i.VizAttributes.OnCustomMarkContextMenuEvent,i.EmbeddingTableauEventType.CustomMarkContextMenuEvent],[i.VizAttributes.OnEditButtonClicked,i.EmbeddingTableauEventType.EditButtonClicked],[i.VizSharedAttributes.OnEditInDesktopButtonClicked,i.EmbeddingTableauEventType.EditInDesktopButtonClicked],[i.VizAttributes.OnFilterChanged,i.EmbeddingTableauEventType.FilterChanged],[i.VizSharedAttributes.OnFirstInteractive,i.EmbeddingTableauEventType.FirstInteractive],[i.VizSharedAttributes.OnFirstVizSizeKnown,i.EmbeddingTableauEventType.FirstVizSizeKnown],[i.VizAttributes.OnMarkSelectionChanged,i.EmbeddingTableauEventType.MarkSelectionChanged],[i.VizAttributes.OnParameterChanged,i.EmbeddingTableauEventType.ParameterChanged],[i.VizAttributes.OnTabSwitched,i.EmbeddingTableauEventType.TabSwitched],[i.VizAttributes.OnToolbarStateChanged,i.EmbeddingTableauEventType.ToolbarStateChanged],[i.VizAttributes.OnUrlAction,i.EmbeddingTableauEventType.UrlAction],[i.VizAttributes.OnCustomViewLoaded,i.EmbeddingTableauEventType.CustomViewLoaded],[i.VizAttributes.OnCustomViewRemoved,i.EmbeddingTableauEventType.CustomViewRemoved],[i.VizAttributes.OnCustomViewSaved,i.EmbeddingTableauEventType.CustomViewSaved],[i.VizAttributes.OnCustomViewSetDefault,i.EmbeddingTableauEventType.CustomViewSetDefault],[i.VizAttributes.OnStoryPointSwitched,i.EmbeddingTableauEventType.StoryPointSwitched]]}},{key:"getRegisteredEvents",value:function(){var e=this;return E(M(r.prototype),"getRegisteredEvents",this).call(this).concat([[o.NotificationId.SelectedMarksChanged,function(t){return e.shouldNotifyEvent(t)},function(t){return e.handleSelectedMarksChangedEvent(t)}],[o.NotificationId.FilterChanged,function(t){return e.shouldNotifyEvent(t.visualId)},function(t){return e.handleFilterChangedEvent(t)}],[o.NotificationId.EditButtonClicked,function(){return!0},function(){return e.handleEditButtonClicked()}],[o.NotificationId.CustomMarkContextMenuClicked,function(t){return e.shouldNotifyEvent(t.visualId)},function(t){return e.handleCustomMarkClickedContextMenuEvent(t)}],[o.NotificationId.ParameterChanged,function(){return!0},function(t){return e.handleParameterChangedEvent(t)}],[o.NotificationId.UrlAction,function(){return!0},function(t){return e.handleUrlAction(t)}],[o.NotificationId.StoryPointSwitched,function(){return!0},function(t){return e.handleStoryPointSwitch(t)}]])}},{key:"shouldNotifyEvent",value:function(e){switch(this.workbook.activeSheet.sheetType){case i.SheetType.Worksheet:return this.workbook.activeSheet.name===e.worksheet;case i.SheetType.Dashboard:return 1===this.workbook.activeSheet.worksheets.filter((function(t){return t.name===e.worksheet})).length;case i.SheetType.Story:var t=this.workbook.activeSheet.activeStoryPoint.containedSheet;return!!t&&(t.sheetType===i.SheetType.Worksheet?t.name===e.worksheet:t.sheetType===i.SheetType.Dashboard&&1===t.worksheets.filter((function(t){return t.name===e.worksheet})).length);default:return!1}}},{key:"handleSelectedMarksChangedEvent",value:function(e){var t=new l.MarksSelectedEvent(this.getWorksheetForNotificationHandler(e));this.dispatchEvent(new CustomEvent(i.EmbeddingTableauEventType.MarkSelectionChanged,{detail:t}))}},{key:"handleFilterChangedEvent",value:function(e){var t=new u.FilterChangedEvent(this.getWorksheetForNotificationHandler(e.visualId),e.fieldName,e.fieldId);this.dispatchEvent(new CustomEvent(i.EmbeddingTableauEventType.FilterChanged,{detail:t}))}},{key:"handleEditButtonClicked",value:function(){this.dispatchEvent(new CustomEvent(i.EmbeddingTableauEventType.EditButtonClicked))}},{key:"handleCustomMarkClickedContextMenuEvent",value:function(e){var t=new s.CustomMarkContextMenuEvent(this.getWorksheetForNotificationHandler(e.visualId),e.contextMenuId);this.dispatchEvent(new CustomEvent(i.EmbeddingTableauEventType.CustomMarkContextMenuEvent,{detail:t}))}},{key:"handleParameterChangedEvent",value:function(e){var t=new c.ParameterChangedEvent(e,this.vizImpl.embeddingId);this.dispatchEvent(new CustomEvent(i.EmbeddingTableauEventType.ParameterChanged,{detail:t}))}},{key:"handleUrlAction",value:function(e){var t=new p.UrlActionEvent(e.url,e.target);this.dispatchEvent(new CustomEvent(i.EmbeddingTableauEventType.UrlAction,{detail:t}))}},{key:"handleStoryPointSwitch",value:function(e){var t=this.vizImpl.workbookImpl.activeSheet,r=t.storyPointsInfo.find((function(e){return!0===e.active}));if(t.activeStoryPoint&&r&&t.activeStoryPoint.index!==e.index){t.updateStory(e);var n=new d.StoryPointSwitchedEvent(r,t.activeStoryPoint,this.vizImpl.workbookImpl);this.dispatchEvent(new CustomEvent(i.EmbeddingTableauEventType.StoryPointSwitched,{detail:n}))}}},{key:"getWorksheetForNotificationHandler",value:function(e){var t;switch(this.workbook.activeSheet.sheetType){case i.SheetType.Worksheet:t=this.workbook.activeSheet;break;case i.SheetType.Dashboard:var r=this.workbook.activeSheet.worksheets.filter((function(t){return t.name===e.worksheet}));if(1!==r.length)throw new a.TableauError(i.EmbeddingErrorCodes.IndexOutOfRange,"Worksheet not found");t=r[0];break;case i.SheetType.Story:var n=this.workbook.activeSheet.activeStoryPoint.containedSheet;if(!n)throw new a.TableauError(i.EmbeddingErrorCodes.IndexOutOfRange,"Worksheet not found");if(n.sheetType===i.SheetType.Worksheet)t=n;else{if(n.sheetType!==i.SheetType.Dashboard)throw new a.TableauError(i.EmbeddingErrorCodes.ImplementationError,"Could not find sheetType");var o=n.worksheets.filter((function(t){return t.name===e.worksheet}));if(1!==o.length)throw new a.TableauError(i.EmbeddingErrorCodes.IndexOutOfRange,"Worksheet not found");t=o[0]}break;default:throw new a.TableauError(i.EmbeddingErrorCodes.ImplementationError,"Could not find sheetType")}return t}},{key:"disableUrlActionsPopups",get:function(){return this.hasAttribute(i.VizAttributes.DisableUrlActionsPopups)},set:function(e){e?this.setAttribute(i.VizAttributes.DisableUrlActionsPopups,""):this.removeAttribute(i.VizAttributes.DisableUrlActionsPopups)}},{key:"hideTabs",get:function(){return this.hasAttribute(i.VizAttributes.HideTabs)},set:function(e){e?this.setAttribute(i.VizAttributes.HideTabs,""):this.removeAttribute(i.VizAttributes.HideTabs)}},{key:"toolbar",get:function(){var e=y.attributeToEnumKey(this.getAttribute(i.VizAttributes.Toolbar));return i.Toolbar[e]||y.TableauVizBase.VizAttributeDefaults.toolbar},set:function(e){e&&this.setAttribute(i.VizAttributes.Toolbar,e)}},{key:"instanceIdToClone",get:function(){var e=this.getAttribute(i.VizAttributes.InstanceIdToClone);if(e)return e},set:function(e){e?this.setAttribute(i.VizAttributes.InstanceIdToClone,e):this.removeAttribute(i.VizAttributes.InstanceIdToClone)}},{key:"device",get:function(){var e=y.attributeToEnumKey(this.getAttribute(i.VizAttributes.Device));return i.DeviceType[e]||y.TableauVizBase.VizAttributeDefaults.device},set:function(e){this.setAttribute(i.VizAttributes.Device,e)}},{key:"hideEditButton",get:function(){return this.hasAttribute(i.VizAttributes.HideEditButton)},set:function(e){e?this.setAttribute(i.VizAttributes.HideEditButton,""):this.removeAttribute(i.VizAttributes.HideEditButton)}},{key:"automaticUpdatesArePaused",get:function(){return this.vizImpl.automaticUpdatesArePaused}},{key:"pauseAutomaticUpdatesAsync",value:function(){return this.vizImpl.pauseAutomaticUpdatesAsync()}},{key:"resumeAutomaticUpdatesAsync",value:function(){return this.vizImpl.resumeAutomaticUpdatesAsync()}},{key:"toggleAutomaticUpdatesAsync",value:function(){return this.vizImpl.toggleAutomaticUpdatesAsync()}},{key:"revertAllAsync",value:function(){return this.vizImpl.revertAllAsync()}},{key:"refreshDataAsync",value:function(){return this.vizImpl.refreshDataAsync()}},{key:"exportImageAsync",value:function(){return this.vizImpl.exportImageAsync()}},{key:"exportCrosstabAsync",value:function(e,t){return this.vizImpl.exportCrosstabAsync(e,t)}},{key:"exportDataAsync",value:function(e,t){return this.vizImpl.exportDataAsync(e,t)}},{key:"exportPowerPointAsync",value:function(e){return this.vizImpl.exportPowerPointAsync(e)}},{key:"exportPDFAsync",value:function(e,t){return this.vizImpl.exportPDFAsync(e,t)}},{key:"displayDialogAsync",value:function(e){return this.vizImpl.displayDialogAsync(e)}},{key:"redoAsync",value:function(){return this.vizImpl.redoAsync()}},{key:"undoAsync",value:function(){return this.vizImpl.undoAsync()}},{key:"addFilter",value:function(e,t){this.preInitFilters.push({field:e,value:t}),m.WebComponentManager.synchronizeRender(this.updateRenderingIfInitialized.bind(this,this.src))}},{key:"workbook",get:function(){return new h.Workbook(this.vizImpl.workbookImpl)}}],[{key:"observedAttributes",get:function(){return[].concat(w(E(M(r),"observedAttributes",this)),w(Object.values(i.VizAttributes)))}}]),r}(y.TableauVizBase);t.TableauViz=v},6801:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(1750)),a=r(4695),s=r(4007),u=r(416),l=r(3630),c=r(6809),d=function(e){D(r,e);var t=x(r);function r(){return T(this,r),t.apply(this,arguments)}return A(r,[{key:"disconnectedCallback",value:function(){E(M(r.prototype),"disconnectedCallback",this).call(this),this._vizImpl&&this._vizImpl.dispose()}},{key:"updateRenderingIfInitialized",value:function(e){return n(this,void 0,void 0,I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._initialized){t.next=2;break}return t.abrupt("return",(this._vizImpl&&this._vizImpl.dispose(),l.WebComponentManager.unregisterWebComponent(this._embeddingIdCounter),this.updateRendering(e)));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"updateRendering",value:function(e){return n(this,void 0,void 0,I().mark((function t(){var r;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this._initialized=!0,e){t.next=3;break}return t.abrupt("return",void console.debug("A src needs to be set on the ".concat(this.tagName.toLowerCase()," element. Skipping rendering.")));case 3:return t.next=5,this.auth();case 5:if(t.t0=t.sent,t.t1=c.TableauAuthResponse.Failure,t.t0!==t.t1){t.next=9;break}return t.abrupt("return",void console.debug("Authentication failed."));case 9:if(this.src){t.next=11;break}return t.abrupt("return",void console.debug("A src needs to be set on the ".concat(this.tagName.toLowerCase()," element. Skipping rendering.")));case 11:if(this.iframe){t.next=13;break}return t.abrupt("return",void console.debug("No iframe available to update the src."));case 13:return this._embeddingIdCounter=l.WebComponentManager.registerWebComponent(this),this.registerAttributeEvents(),r=this.createFrameUrlWithParams(),t.abrupt("return",(this._vizImpl=this.createAndInitializeVizImpl(r),this.iframe.src=r.toString(),void this.raiseIframeSrcUpdatedNotification()));case 18:t.prev=18,t.t2=t.catch(0),console.debug(t.t2);case 21:case"end":return t.stop()}}),t,this,[[0,18]])})))}},{key:"createAndInitializeVizImpl",value:function(e){var t=new u.VizImpl(this,this.iframe,e,this._embeddingIdCounter);return t.initializeViz(),t}},{key:"registerAttributeEvents",value:function(){var e=this;this.getAttributeEvents().forEach((function(t){var r=b(t,2),n=r[0],i=r[1];e.registerCallback(n,i)}))}},{key:"initializeEvents",value:function(){var e;try{e=s.ApiServiceRegistry.get(this.vizImpl.embeddingId).getService("notification-service")}catch(e){throw new s.TableauError(o.EmbeddingErrorCodes.EventInitializationError,"Event initialization failed")}var t,r=g(this.getRegisteredEvents());try{for(r.s();!(t=r.n()).done;){var n=b(t.value,3),i=n[0],a=n[1],u=n[2];e.registerHandler(i,a,u)}}catch(e){r.e(e)}finally{r.f()}}},{key:"getRegisteredEvents",value:function(){var e=this;return[[a.NotificationId.EditInDesktopButtonClicked,function(){return!0},function(){return e.dispatchEvent(new CustomEvent(o.EmbeddingTableauEventType.EditInDesktopButtonClicked))}]]}},{key:"touchOptimize",get:function(){return this.hasAttribute(o.VizSharedAttributes.TouchOptimize)},set:function(e){e?this.setAttribute(o.VizSharedAttributes.TouchOptimize,""):this.removeAttribute(o.VizSharedAttributes.TouchOptimize)}},{key:"vizImpl",get:function(){return this._vizImpl}},{key:"hideEditInDesktopButton",get:function(){return this.hasAttribute(o.VizSharedAttributes.HideEditInDesktopButton)},set:function(e){e?this.setAttribute(o.VizSharedAttributes.HideEditInDesktopButton,""):this.removeAttribute(o.VizSharedAttributes.HideEditInDesktopButton)}},{key:"suppressDefaultEditBehavior",get:function(){return this.hasAttribute(o.VizSharedAttributes.SuppressDefaultEditBehavior)},set:function(e){e?this.setAttribute(o.VizSharedAttributes.SuppressDefaultEditBehavior,""):this.removeAttribute(o.VizSharedAttributes.SuppressDefaultEditBehavior)}},{key:"disableVersionCheck",get:function(){return this.hasAttribute(o.VizSharedAttributes.DisableVersionCheck)},set:function(e){e?this.setAttribute(o.VizSharedAttributes.DisableVersionCheck,""):this.removeAttribute(o.VizSharedAttributes.DisableVersionCheck)}},{key:"getCurrentSrcAsync",value:function(){return this.vizImpl.getCurrentSrcAsync()}}],[{key:"observedAttributes",get:function(){return[].concat(w(E(M(r),"observedAttributes",this)),w(Object.values(o.VizSharedAttributes)))}}]),r}(c.TableauWebComponent);t.TableauVizBase=d,d.VizAttributeDefaults={device:o.DeviceType.Default,toolbar:o.Toolbar.Bottom},t.attributeToEnumKey=function(e){if(!e||e.length<1)return"";var t=e.toLowerCase();return t[0].toUpperCase()+t.substring(1)}},6809:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var i,o=r(1750),a=r(3101),s=r(2848),u=r(9701),l=r(3630);!function(e){e.Skip="skip",e.Success="success",e.Failure="failure"}(i=t.TableauAuthResponse||(t.TableauAuthResponse={}));var c=function(e){D(r,e);var t=x(r);function r(){var e;return T(this,r),(e=t.call(this))._initialized=!1,e._embeddingIdCounter=0,e._fixedSize=!1,e.attachShadow({mode:"open"}),e}return A(r,[{key:"disconnectedCallback",value:function(){var e;this._iframe&&(null===(e=this.shadowRoot)||void 0===e||e.removeChild(this._iframe)),l.WebComponentManager.unregisterWebComponent(this._embeddingIdCounter),this._initialized=!1}},{key:"connectedCallback",value:function(){var e=this;"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function(){e.initialize()})):this.initialize()}},{key:"attributeChangedCallback",value:function(e,t,r){(t||t!==r)&&(e!==o.WebComponentAttributes.Width&&e!==o.WebComponentAttributes.Height?l.WebComponentManager.synchronizeRender(this.updateRenderingIfInitialized.bind(this,this.src)):this.setFrameSize())}},{key:"initialize",value:function(){this._initialized||(this.style.display="flex",this.setupFrame(),this.registerAttributeAuthErrorEvent(),l.WebComponentManager.synchronizeRender(this.updateRendering.bind(this,this.src)))}},{key:"fixedSize",get:function(){return this._fixedSize}},{key:"readCustomParamsFromChildren",value:function(){var e=[];return Array.from(this.children).forEach((function(t){t.localName===o.WebComponentChildElements.CustomParameter&&t.getAttribute(o.WebComponentChildElementAttributes.Name)&&t.getAttribute(o.WebComponentChildElementAttributes.Value)&&e.push({name:t.getAttribute(o.WebComponentChildElementAttributes.Name),value:t.getAttribute(o.WebComponentChildElementAttributes.Value)})})),e}},{key:"localizedTitle",value:function(e){return r.localizedTitles[e]||r.localizedTitles[e.substr(0,2)]||r.localizedTitles.en}},{key:"setupFrame",value:function(){this._iframe=document.createElement("iframe");var e=navigator.language,t=this.localizedTitle(e);this._iframe.setAttribute("title",t),this._iframe.setAttribute("allowTransparency","true"),this._iframe.setAttribute("allowFullScreen","true"),this._iframe.style.margin="0px",this._iframe.style.padding="0px",this._iframe.style.border="none",this._iframe.style.position="relative",this._iframe.id=this.id,this._iframe.name=this.id,this.setFrameSize(),this.shadowRoot&&this.shadowRoot.appendChild(this._iframe)}},{key:"setFrameSize",value:function(){this._iframe&&(this._iframe.style.height=this.height,this._iframe.style.width=this.width)}},{key:"computeElementSize",value:function(){var e=this.getPixelAttribute(o.WebComponentAttributes.Height),t=this.getPixelAttribute(o.WebComponentAttributes.Width);if(e&&t)return this._fixedSize=!0,{height:e,width:t};if(this.parentElement){var n=u.HtmlElementHelpers.getContentSize(this.parentElement),i=n.height,a=n.width;if(i&&a)return this._fixedSize=!0,{height:"".concat(i,"px"),width:"".concat(a,"px")}}return this._fixedSize=!1,{height:r.AttributeDefaults.height,width:r.AttributeDefaults.width}}},{key:"src",get:function(){return this.getAttribute(o.WebComponentAttributes.Src)},set:function(e){e&&this.setAttribute(o.WebComponentAttributes.Src,e)}},{key:"width",get:function(){return this.computeElementSize().width},set:function(e){this.setAttribute(o.WebComponentAttributes.Width,e)}},{key:"height",get:function(){return this.computeElementSize().height},set:function(e){this.setAttribute(o.WebComponentAttributes.Height,e)}},{key:"debug",get:function(){return this.hasAttribute(o.WebComponentAttributes.Debug)},set:function(e){e?this.setAttribute(o.WebComponentAttributes.Debug,""):this.removeAttribute(o.WebComponentAttributes.Debug)}},{key:"token",get:function(){var e=this.getAttribute(o.WebComponentAttributes.Token);if(e)return e},set:function(e){e?this.setAttribute(o.WebComponentAttributes.Token,e):this.removeAttribute(o.WebComponentAttributes.Token)}},{key:"iframeAuth",get:function(){return this.hasAttribute(o.WebComponentAttributes.IframeAuth)},set:function(e){e?this.setAttribute(o.WebComponentAttributes.IframeAuth,""):this.removeAttribute(o.WebComponentAttributes.IframeAuth)}},{key:"getPixelAttribute",value:function(e){var t=this.getAttribute(e);return t&&""!==t?isNaN(Number(t))?t:"".concat(Math.round(Number(t)),"px"):""}},{key:"iframe",get:function(){return this._iframe}},{key:"registerAttributeAuthErrorEvent",value:function(){var e=this;this.getWebComponentAttributeEvents().forEach((function(t){var r=b(t,2),n=r[0],i=r[1];e.registerCallback(n,i)}))}},{key:"getWebComponentAttributeEvents",value:function(){return[[o.WebComponentAttributes.OnVizLoadError,o.EmbeddingTableauEventType.VizLoadError]]}},{key:"registerCallback",value:function(e,t){var r=this.getAttribute(e);r&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(r)&&window[r]&&this.addEventListener(t,window[r])}},{key:"auth",value:function(){return n(this,void 0,void 0,I().mark((function e(){var t,r,n,a,u,l,c;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.src){e.next=3;break}return e.abrupt("return",i.Skip);case 3:if(this.token){e.next=5;break}return e.abrupt("return",i.Skip);case 5:if(!this.iframeAuth){e.next=7;break}return e.abrupt("return",i.Skip);case 7:return t=s.getSiteId(this.src),r="".concat(new URL(this.src).origin.toString(),"/vizportal/api/web/v1/auth/embed/signin"),n={siteName:t,jwt:this.token},a={method:"POST",credentials:"include",headers:{"content-type":"application/json"},body:JSON.stringify(n)},e.next=13,fetch(r,a);case 13:if(!(u=e.sent).ok){e.next=16;break}return e.abrupt("return",i.Success);case 16:return e.next=18,u.text();case 18:return l=e.sent,c={statusCode:u.status,errorMessage:l},e.abrupt("return",this.isFallbackToRedirectAuthNeeded(c)?(this.iframeAuth=!0,console.debug("Auth Fallback trigger"),i.Failure):(this.raiseVizLoadErrorNotification(o.EmbeddingErrorCodes.AuthFailed,c),i.Failure));case 23:return e.prev=23,e.t0=e.catch(0),e.abrupt("return",(this.raiseVizLoadErrorNotification(o.EmbeddingErrorCodes.UnknownAuthError,e.t0),i.Failure));case 26:case"end":return e.stop()}}),e,this,[[0,23]])})))}},{key:"isFallbackToRedirectAuthNeeded",value:function(e){try{if(404===e.statusCode)return!0;if(401===e.statusCode){var t=JSON.parse(e.errorMessage).result.errors;if(t&&t.length>0&&67===t[0].code)return!0}return!1}catch(e){return console.error("Parsing error: "+e),!1}}},{key:"raiseIframeSrcUpdatedNotification",value:function(){this.dispatchEvent(new CustomEvent(o.EmbeddingTableauEventType.IframeSrcUpdated))}},{key:"raiseVizLoadErrorNotification",value:function(e,t){try{console.error(t);var r=new a.VizLoadErrorEvent(e,JSON.stringify(t));this.dispatchEvent(new CustomEvent(o.EmbeddingTableauEventType.VizLoadError,{detail:r}))}catch(e){var n=new a.VizLoadErrorEvent(o.EmbeddingErrorCodes.UnknownAuthError,"");this.dispatchEvent(new CustomEvent(o.EmbeddingTableauEventType.VizLoadError,{detail:n}))}}}],[{key:"observedAttributes",get:function(){return Object.values(o.WebComponentAttributes)}}]),r}(y(HTMLElement));t.TableauWebComponent=c,c.localizedTitles={en:"Data Visualization","en-GB":"Data Visualisation",fr:"Visualisation de donnÃÂ©es",es:"VisualizaciÃÂ³n de datos",it:"Visualizzazione dati",pt:"VisualizaÃÂ§ÃÂ£o de dados",ja:"Ã£Æâ¡Ã£ÆÂ¼Ã£âÂ¿ Ã£ÆâÃ£âÂ¸Ã£ÆÂ¥Ã£âÂ¢Ã£ÆÂ©Ã£âÂ¤Ã£âÂ¼Ã£ÆÂ¼Ã£âÂ·Ã£ÆÂ§Ã£ÆÂ³",de:"Datenvisualisierung",ko:"Ã«ÂÂ°Ã¬ÂÂ´Ã­âÂ° Ã«Â¹âÃ¬Â£Â¼Ã¬âÂ¼Ã«Â¦Â¬Ã¬ ÅÃ¬ÂÂ´Ã¬â¦Ë","zh-CN":"Ã¦â¢Â°Ã¦ÂÂ®Ã¥ÂÂ¯Ã¨Â§â Ã¥Åâ","zh-TW":"Ã¨Â³â¡Ã¦ââ¢Ã¥ÂÂ¯Ã¨Â¦âÃ¥Åâ"},c.AttributeDefaults={width:"800px",height:"600px"}},4031:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1750),i=function(e){D(r,e);var t=x(r);function r(e,i){var o;return T(this,r),(o=t.call(this,n.EmbeddingTableauEventType.CustomMarkContextMenuEvent,e))._contextMenuId=i,o}return A(r,[{key:"getContextMenuId",value:function(){return this._contextMenuId}},{key:"getSelectedMarksAsync",value:function(){return this.worksheet.getSelectedMarksAsync()}}]),r}(r(5408).TableauWorksheetEvent);t.CustomMarkContextMenuEvent=i},9973:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1750),i=r(4007),o=function(e){D(r,e);var t=x(r);function r(e,i,o){var a;return T(this,r),(a=t.call(this,n.EmbeddingTableauEventType.FilterChanged,e))._fieldName=i,a._fieldId=o,a}return A(r,[{key:"fieldName",get:function(){return this._fieldName}},{key:"fieldId",get:function(){return this._fieldId}},{key:"getFilterAsync",value:function(){var e=this;return this.worksheet.getFiltersAsync().then((function(t){var r=e.fieldId?t.find((function(t){return t.fieldId===e.fieldId}),e):t.find((function(t){return t.fieldName===e.fieldName}),e);if(!r)throw new i.TableauError(n.EmbeddingErrorCodes.FilterMissingOrNotImplemented,"Cannot find filter: ".concat(e._fieldName,"."));return r}))}}]),r}(r(5408).TableauWorksheetEvent);t.FilterChangedEvent=o},5538:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FirstVizSizeKnownEvent=function(){function e(t){T(this,e),this._vizSize=t}return A(e,[{key:"vizSize",get:function(){return this._vizSize}}]),e}()},8460:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1750),i=function(e){D(r,e);var t=x(r);function r(e){return T(this,r),t.call(this,n.EmbeddingTableauEventType.MarkSelectionChanged,e)}return A(r,[{key:"getMarksAsync",value:function(){return this.worksheet.getSelectedMarksAsync()}}]),r}(r(5408).TableauWorksheetEvent);t.MarksSelectedEvent=i},6208:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1750),i=r(4007),o=r(1062);t.ParameterChangedEvent=function(){function e(t,r){T(this,e),this._globalFieldName=t,this._embeddingId=r}return A(e,[{key:"getParameterAsync",value:function(){var e=this;return i.ApiServiceRegistry.get(this._embeddingId).getService("parameters-service").findParameterByGlobalFieldNameAsync(this._globalFieldName).then((function(t){if(void 0===t)throw new i.TableauError(n.EmbeddingErrorCodes.MissingParameter,"Cannot find parameter: ".concat(e._globalFieldName));return new o.Parameter(t)}))}}]),e}()},9288:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1970),i=r(3440);t.StoryPointSwitchedEvent=function(){function e(t,r,n){T(this,e),this._oldStoryPointInfoImpl=t,this._currStoryPointImpl=r,this._workbookImpl=n}return A(e,[{key:"oldStoryPointInfo",get:function(){return new i.StoryPointInfo(this._oldStoryPointInfoImpl,this._workbookImpl)}},{key:"newStoryPoint",get:function(){return new n.StoryPoint(this._currStoryPointImpl,this._workbookImpl)}}]),e}()},7722:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TabSwitchedEvent=function(){function e(t,r){T(this,e),this._oldSheetName=t,this._newSheetName=r}return A(e,[{key:"oldSheetName",get:function(){return this._oldSheetName}},{key:"newSheetName",get:function(){return this._newSheetName}}]),e}()},696:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TableauSheetEvent=function(){function e(t,r){T(this,e),this._sheet=r}return A(e,[{key:"sheet",get:function(){return this._sheet}}]),e}()},5408:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){D(r,e);var t=x(r);function r(e,n){var i;return T(this,r),(i=t.call(this,e,n))._worksheet=n,i}return A(r,[{key:"worksheet",get:function(){return this._worksheet}}]),r}(r(696).TableauSheetEvent);t.TableauWorksheetEvent=n},1912:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarStateChangedEvent=function(){function e(t,r){T(this,e),this._canRedo=t,this._canUndo=r}return A(e,[{key:"canRedo",get:function(){return this._canRedo}},{key:"canUndo",get:function(){return this._canUndo}}]),e}()},3504:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.UrlActionEvent=function(){function e(t,r){T(this,e),this._url=t,this._target=r}return A(e,[{key:"url",get:function(){return this._url}},{key:"target",get:function(){return this._target}}]),e}()},3101:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.VizLoadErrorEvent=function(){function e(t,r){T(this,e),this._errorCode=t,this._message=r}return A(e,[{key:"message",get:function(){return this._message}},{key:"errorCode",get:function(){return this._errorCode}}]),e}()},9733:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(1750)),a=r(4695),s=r(4007),u=function(e){D(r,e);var t=x(r);function r(e,n){var i;return T(this,r),(i=t.call(this))._registryId=n,i._publishedSheetsInfo=[],i._customViews=new Map,i._name=e.workbookName,i._canDownloadWorkbook=e.canDownloadWorkbook,i.initializeWorkbook(e),i}return A(r,[{key:"activeSheet",get:function(){return this._activeSheetImpl}},{key:"publishedSheetsInfo",get:function(){return this._publishedSheetsInfo}},{key:"name",get:function(){return this._name}},{key:"canDownloadWorkbook",get:function(){return this._canDownloadWorkbook}},{key:"pendingTabSwitchPromise",get:function(){return this._pendingTabSwitchPromise}},{key:"pendingShowCustomViewPromise",get:function(){return this._pendingShowCustomViewPromise}},{key:"clearPendingShowCustomViewPromise",value:function(){this._pendingShowCustomViewPromise=void 0}},{key:"activeCustomView",get:function(){return this._currentCustomView}},{key:"activateSheetAsync",value:function(e){var t=this;s.ErrorHelpers.verifyParameter(e,"sheetNameOrIndex");var r=this.convertSheetIndexToSheetName(e);return s.ErrorHelpers.verifyParameterType(r,"string","sheetNameOrIndex"),this.validatePublishedSheet(r)||this.verifyDashboardSheets(r),this._activeSheetImpl&&r===this._activeSheetImpl.name?new Promise((function(e,r){e(t)})):(s.ApiServiceRegistry.get(this._registryId).getService("viz-service").activateSheetAsync(r),new Promise((function(e,r){t._pendingTabSwitchPromise={resolve:e,reject:r}})))}},{key:"getParametersAsync",value:function(){return s.ApiServiceRegistry.get(this._registryId).getService("parameters-service").getAllParametersAsync()}},{key:"changeParameterValueAsync",value:function(e,t){return n(this,void 0,void 0,I().mark((function r(){var n,i;return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s.ErrorHelpers.verifyParameter(e,"parameterName"),n=s.ApiServiceRegistry.get(this._registryId).getService("parameters-service"),r.next=4,n.findParameterByNameAsync(e);case 4:return i=r.sent,r.abrupt("return",i?i.changeValueAsync(t).then((function(){return i})):void 0);case 6:case"end":return r.stop()}}),r,this)})))}},{key:"updateExistingActiveSheetReferences",value:function(e){var t=this;if(this._activeSheetImpl){if(this._activeSheetImpl.name===e)return;this._activeSheetImpl.active=!1,this._publishedSheetsInfo.forEach((function(e,r){e.name===t._activeSheetImpl.name&&(e.active=!1)}))}}},{key:"processCustomViews",value:function(e,t){var r,n=this,i=null===(r=t.currentView)||void 0===r?void 0:r.luid,o=[];switch(e){case a.NotificationId.CustomViewsLoaded:case a.NotificationId.CustomViewSaved:this.refreshCustomViewCache(t),i&&o.push(this._customViews.get(i));break;case a.NotificationId.CustomViewRemoved:var u=new Map(this._customViews);this._customViews.clear(),t.customViewsList.map((function(e){n._customViews.set(e.luid,new s.CustomViewImpl(e,n._registryId)),u.delete(e.luid)}));var l,c=g(u.values());try{for(c.s();!(l=c.n()).done;){var d=l.value;o.push(d)}}catch(e){c.e(e)}finally{c.f()}break;case a.NotificationId.CustomViewSetDefault:this.refreshCustomViewCache(t);var p=t.customViewsList.find((function(e){return e.isDefault}));p&&o.push(new s.CustomViewImpl(p,this._registryId))}return this._currentCustomView=i?this._customViews.get(i):void 0,o}},{key:"refreshCustomViewCache",value:function(e){var t=this;this._customViews.clear(),e.customViewsList.map((function(e){t._customViews.set(e.luid,new s.CustomViewImpl(e,t._registryId))}))}},{key:"revertAllAsync",value:function(){return s.ApiServiceRegistry.get(this._registryId).getService("ToolbarService").revertAllAsync()}},{key:"getCustomViewsAsync",value:function(){return s.ApiServiceRegistry.get(this._registryId).getService("viz-service").getCustomViewsAsync()}},{key:"showCustomViewAsync",value:function(e){var t=this;return s.ApiServiceRegistry.get(this._registryId).getService("viz-service").showCustomViewAsync(e),new Promise((function(e,r){t._pendingShowCustomViewPromise={resolve:e,reject:r}}))}},{key:"removeCustomViewAsync",value:function(e){return s.ApiServiceRegistry.get(this._registryId).getService("viz-service").removeCustomViewAsync(e)}},{key:"saveCustomViewAsync",value:function(e){return s.ApiServiceRegistry.get(this._registryId).getService("viz-service").saveCustomViewAsync(e)}},{key:"setActiveCustomViewAsDefaultAsync",value:function(){return s.ApiServiceRegistry.get(this._registryId).getService("viz-service").setActiveCustomViewAsDefaultAsync()}},{key:"initializeWorkbook",value:function(e){var t=this;e.publishedSheets.forEach((function(r,n){var i=s.SheetUtils.getSheetSizeFromSizeConstraints(r.sizeConstraint),a=r.name===e.currWorksheetName,u=s.SheetUtils.getSheetTypeEnum(r.sheetType),l=new s.SheetInfoImpl(r.name,u,i,n,a,!1,r.url);if(t._publishedSheetsInfo.push(l),a)switch(l.sheetType){case o.SheetType.Worksheet:var c={worksheet:l.name};t._activeSheetImpl=new s.WorksheetImpl(l,t._registryId,c,null,null);break;case o.SheetType.Dashboard:var d={sheetName:l.name,isDashboard:!0};t._activeSheetImpl=new s.DashboardImpl(l,e.dashboardZones,d,t._registryId,null);break;case o.SheetType.Story:if(!e.story)throw new s.TableauError(o.SharedErrorCodes.ServerError,"Unable to receive story information from Tableau");t._activeSheetImpl=new s.StoryImpl(l,e.story,e.publishedSheets,t._registryId);break;default:throw new s.TableauError(o.SharedErrorCodes.ServerError,"Invalid SheetType")}}))}},{key:"convertSheetIndexToSheetName",value:function(e){if("number"==typeof e){var t=e;if(this.publishedSheetsInfo[t])return this.publishedSheetsInfo[t].name;throw new s.TableauError(o.EmbeddingErrorCodes.IndexOutOfRange,"Index ".concat(t," is out of range."))}return e}},{key:"validatePublishedSheet",value:function(e){return void 0!==this.publishedSheetsInfo.find((function(t){return t.name===e}))}},{key:"verifyDashboardSheets",value:function(e){if(this._activeSheetImpl.sheetType===o.SheetType.Dashboard){var t=this._activeSheetImpl,r=t.worksheetsImpl.findIndex((function(t){return t.name===e}));if(-1!==r){if(t.worksheetsImpl[r].hidden)throw new s.TableauError(o.SharedErrorCodes.ServerError,"Cannot activate hidden sheet");return}}throw new s.TableauError(o.EmbeddingErrorCodes.SheetNotInWorkbook,"Sheet is not found in Workbook")}}]),r}(s.WorkbookImpl);t.EmbeddingWorkbookImpl=u},416:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(1750)),a=r(3069),s=r(4695),u=r(4007),l=r(5538),c=r(7722),d=r(1912),p=r(9733),f=r(206),h=r(9767),m=r(7193),y=r(9701);t.VizImpl=function(){function e(t,r,n,i){if(T(this,e),this._viz=t,this._iframe=r,this._frameUrl=n,this._embeddingId=i,this._automaticUpdatesArePaused=!1,this._resizeEventType="resize",!this._iframe)throw new u.TableauError(o.EmbeddingErrorCodes.InternalError,"Iframe has not been created yet")}return A(e,[{key:"workbookImpl",get:function(){return this._workbookImpl}},{key:"iframe",get:function(){return this._iframe}},{key:"embeddingId",get:function(){return this._embeddingId}},{key:"exportScenariosForPdfAndPowerPoint",get:function(){return{currentSheetName:this._workbookImpl.activeSheet.name,exportableSheetNamesFromDashboard:this.exportableSheetNamesFromDashboard,exportableSheetNamesFromWorkbook:this.exportableSheetNamesFromWorkbook}}},{key:"exportableSheetNamesFromDashboard",get:function(){var e=this._workbookImpl.activeSheet;return e&&e.sheetType===o.SheetType.Dashboard?e.getWorksheetNamesFromZones():[]}},{key:"exportableSheetNamesFromWorkbook",get:function(){var e=[];if(this._workbookImpl){var t,r=g(this._workbookImpl.publishedSheetsInfo);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(n.name)}}catch(e){r.e(e)}finally{r.f()}}return e}},{key:"automaticUpdatesArePaused",get:function(){return this._automaticUpdatesArePaused},set:function(e){this._automaticUpdatesArePaused=e}},{key:"getVisualIdForSheetName",value:function(e){var t,r,n,i=this._workbookImpl.activeSheet;switch(i.sheetType){case o.SheetType.Worksheet:if(i.name===e)return i.visualId;break;case o.SheetType.Dashboard:var a,s=i,l=g(s.getWorksheetNamesFromZones());try{for(l.s();!(a=l.n()).done;){var c=a.value;if(c===e)return{worksheet:c,dashboard:s.name}}}catch(e){l.e(e)}finally{l.f()}break;case o.SheetType.Story:var d=i,p=null===(t=d.activeStoryPoint)||void 0===t?void 0:t.containedSheet;if(p&&p.sheetType===o.SheetType.Worksheet&&p.name===e){var f=Object.assign({},p.visualId);return f.dashboard=f.worksheet,f.storyboard=d.name,f.storyPointID=null===(r=d.activeStoryPoint)||void 0===r?void 0:r.storyPointId,f}if(p&&p.sheetType===o.SheetType.Dashboard){var h,m=p,y=g(m.getWorksheetNamesFromZones());try{for(y.s();!(h=y.n()).done;){var v=h.value;if(v===e)return{worksheet:v,dashboard:m.name,storyboard:d.name,storyPointID:null===(n=d.activeStoryPoint)||void 0===n?void 0:n.storyPointId}}}catch(e){y.e(e)}finally{y.f()}}break;default:throw new u.TableauError(o.SharedErrorCodes.ServerError,"Invalid SheetType")}throw new u.TableauError(o.SharedErrorCodes.InvalidParameter,"sheetName parameter must belong to a worksheet within the current view")}},{key:"exportableWorksheetNames",get:function(){var e,t=this._workbookImpl.activeSheet;switch(t.sheetType){case o.SheetType.Worksheet:return[t.name];case o.SheetType.Dashboard:return t.getWorksheetNamesFromZones();case o.SheetType.Story:var r=null===(e=t.activeStoryPoint)||void 0===e?void 0:e.containedSheet;if(r&&r.sheetType===o.SheetType.Worksheet)return[r.name];if(r&&r.sheetType===o.SheetType.Dashboard)return r.getWorksheetNamesFromZones()}return[]}},{key:"initializeViz",value:function(){var e=this,t=this._iframe.contentWindow;if(!t)throw new u.TableauError(o.EmbeddingErrorCodes.InternalError,"Iframe has not been created yet");try{this._messenger=new s.CrossFrameMessenger(window,t,this._frameUrl.origin),this._dispatcher=new u.CrossFrameDispatcher(this._messenger),m.registerInitializationEmbeddingServices(this._dispatcher,this.embeddingId);var r=u.ApiServiceRegistry.get(this.embeddingId).getService("initialization-service"),n=r.registerHandler(s.NotificationId.FirstVizSizeKnown,(function(){return!0}),(function(t){e.handleVizSizeKnownEvent(t),n()})),i=r.registerHandler(s.NotificationId.VizInteractive,(function(){return!0}),(function(t){e.handleVizInteractiveEvent(t),i()}));r.registerHandler(s.NotificationId.ToolbarStateChanged,(function(){return!0}),(function(t){return e.handleToolbarStateEvent(t)})),r.registerHandler(s.NotificationId.TabSwitched,(function(){return!0}),(function(t){return e.handleTabSwitch(t)})),r.registerHandler(s.NotificationId.CustomViewsLoaded,(function(){return!0}),(function(t){return e.handleCustomViews(t)})),r.registerHandler(s.NotificationId.CustomViewRemoved,(function(){return!0}),(function(t){return e.handleCustomViewRemoved(t)})),r.registerHandler(s.NotificationId.CustomViewSaved,(function(){return!0}),(function(t){return e.handleCustomViewSaved(t)})),r.registerHandler(s.NotificationId.CustomViewSetDefault,(function(){return!0}),(function(t){return e.handleCustomViewSetDefault(t)})),this._messenger.startListening()}catch(t){throw new u.TableauError(o.EmbeddingErrorCodes.InternalError,"Unexpected error during initialization.")}}},{key:"dispose",value:function(){this._messenger&&this._messenger.stopListening(),this.removeWindowResizeHandler()}},{key:"getCurrentSrcAsync",value:function(){return u.ApiServiceRegistry.get(this.embeddingId).getService("viz-service").getCurrentSrcAsync()}},{key:"revertAllAsync",value:function(){return u.ApiServiceRegistry.get(this.embeddingId).getService("ToolbarService").revertAllAsync()}},{key:"redoAsync",value:function(){return u.ApiServiceRegistry.get(this.embeddingId).getService("ToolbarService").redoAsync()}},{key:"undoAsync",value:function(){return u.ApiServiceRegistry.get(this.embeddingId).getService("ToolbarService").undoAsync()}},{key:"refreshDataAsync",value:function(){return u.ApiServiceRegistry.get(this.embeddingId).getService("data-source-service").refreshAsync()}},{key:"pauseAutomaticUpdatesAsync",value:function(){return this._automaticUpdatesArePaused?Promise.resolve():this.setAutoUpdateAsync(!1)}},{key:"resumeAutomaticUpdatesAsync",value:function(){return this._automaticUpdatesArePaused?this.setAutoUpdateAsync(!0):Promise.resolve()}},{key:"toggleAutomaticUpdatesAsync",value:function(){return this.setAutoUpdateAsync(this._automaticUpdatesArePaused)}},{key:"exportImageAsync",value:function(){return u.ApiServiceRegistry.get(this.embeddingId).getService("ToolbarService").exportImageAsync()}},{key:"exportCrosstabAsync",value:function(e,t){return n(this,void 0,void 0,I().mark((function r(){var n;return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=u.ApiServiceRegistry.get(this.embeddingId).getService("export-service"),r.next=3,n.exportCrosstabAsync(e,t,this.exportableWorksheetNames,this._workbookImpl.activeSheet.sheetType);case 3:case"end":return r.stop()}}),r,this)})))}},{key:"exportDataAsync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.ExportHelpers.DefaultDataOptions;return u.ApiServiceRegistry.get(this.embeddingId).getService("export-service").exportDataAsync(this.getVisualIdForSheetName(e),t)}},{key:"exportPowerPointAsync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n(this,void 0,void 0,I().mark((function t(){var r,n;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.ApiServiceRegistry.get(this.embeddingId).getService("export-service"),n=this.exportScenariosForPdfAndPowerPoint,0===e.length&&e.push(n.currentSheetName),t.next=4,r.exportPowerPointAsync(e,n);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"exportPDFAsync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.ExportHelpers.DefaultPDFOptions;return n(this,void 0,void 0,I().mark((function r(){var n,i;return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=u.ApiServiceRegistry.get(this.embeddingId).getService("export-service"),i=this.exportScenariosForPdfAndPowerPoint,0===e.length&&e.push(i.currentSheetName),r.next=4,n.exportPDFAsync(e,t,i);case 4:case"end":return r.stop()}}),r,this)})))}},{key:"displayDialogAsync",value:function(e){var t=u.ApiServiceRegistry.get(this.embeddingId).getService("ToolbarService");switch(e){case a.TableauDialogType.ExportWorkbook:if(!this.workbookImpl.canDownloadWorkbook)throw new u.TableauError(o.EmbeddingErrorCodes.DownloadWorkbookNotAllowed,"Download workbook is not allowed");return t.displayDownloadWorkbookDialogAsync();case a.TableauDialogType.ExportPDF:return t.displayExportPdfDialogAsync();case a.TableauDialogType.ExportPowerPoint:return t.displayExportPowerpointDialogAsync();case a.TableauDialogType.ExportData:return t.displayExportDataDialogAsync();case a.TableauDialogType.ExportCrossTab:return t.displayExportCrosstabDialogAsync();case a.TableauDialogType.Share:return t.displayShareDialogAsync();default:throw new u.TableauError(o.EmbeddingErrorCodes.UnknownDialogType,"Unknown dialog type")}}},{key:"setAutoUpdateAsync",value:function(e){var t=this;return u.ApiServiceRegistry.get(this.embeddingId).getService("ToolbarService").setAutoUpdateAsync(e).then((function(){t._automaticUpdatesArePaused=!e}))}},{key:"isVersionCompatible",value:function(e){return!!e&&(s.VersionLessThan(s.INTERNAL_CONTRACT_VERSION,e)||s.VersionEqualTo(s.INTERNAL_CONTRACT_VERSION,e))}},{key:"handleVizInteractiveEvent",value:function(e){if(!this._viz.disableVersionCheck&&!this.isVersionCompatible(e.platformVersion))throw this._messenger.stopListening(),new u.TableauError(o.EmbeddingErrorCodes.IncompatibleVersionError,"The version of the Embedding library is not compatible with the version of Tableau. The visualization will load, but the Embedding API methods and events are not available.");u.registerAllSharedServices(this._dispatcher,this.embeddingId),m.registerAllEmbeddingServices(this._dispatcher,this.embeddingId),this._viz.initializeEvents(),this._workbookImpl=new p.EmbeddingWorkbookImpl(e,this.embeddingId);var t=[];this._customViewsTemp&&(t=this._workbookImpl.processCustomViews(s.NotificationId.CustomViewsLoaded,this._customViewsTemp)),this._viz.dispatchEvent(new CustomEvent(o.EmbeddingTableauEventType.FirstInteractive)),this._customViewsTemp&&(this.sendCustomViewEvents(o.EmbeddingTableauEventType.CustomViewLoaded,t),this._customViewsTemp=null)}},{key:"handleVizSizeKnownEvent",value:function(e){var t=u.SheetUtils.getSheetSizeFromSizeConstraints(e.sheetSize);this._vizSize=new h.VizSize(t,e.chromeHeight);var r=new l.FirstVizSizeKnownEvent(this._vizSize);this._viz.dispatchEvent(new CustomEvent(o.EmbeddingTableauEventType.FirstVizSizeKnown,{detail:r})),this._viz.fixedSize||(this.refreshSize(),this.addWindowResizeHandler())}},{key:"refreshSize",value:function(){var e=this.calculateLayoutSize(),t=e.height,r=e.width;t!==this._vizSize.chromeHeight&&(this._iframe.style.height=t+"px",this._iframe.style.width=r+"px")}},{key:"calculateLayoutSize",value:function(){var e,t,r,n,i=this._viz.parentElement?y.HtmlElementHelpers.getContentSize(this._viz.parentElement):{height:0,width:0},a=this._vizSize,s=a.chromeHeight,l=a.sheetSize,c=0,d=0,p=l.minSize||{height:0,width:0},f=l.maxSize||{height:0,width:0};if(l.behavior===o.SheetSizeBehavior.Exactly)c=f.width,d=f.height+s;else switch(l.behavior){case o.SheetSizeBehavior.Range:e=p.width,t=f.width,r=p.height+s,n=f.height+s,c=Math.max(e,Math.min(t,i.width)),d=Math.max(r,Math.min(n,i.height));break;case o.SheetSizeBehavior.AtLeast:e=p.width,r=p.height+s,c=Math.max(e,i.width),d=Math.max(r,i.height);break;case o.SheetSizeBehavior.AtMost:t=f.width,n=f.height+s,c=Math.min(t,i.width),d=Math.min(n,i.height);break;case o.SheetSizeBehavior.Automatic:c=i.width,d=Math.max(i.height,s);break;default:throw new u.TableauError(o.EmbeddingErrorCodes.InvalidSizeBehavior,"Unknown SheetSizeBehavior for viz: "+l.behavior)}return{height:d,width:c}}},{key:"removeWindowResizeHandler",value:function(){this._windowResizeHandler&&window.removeEventListener(this._resizeEventType,this._windowResizeHandler)}},{key:"addWindowResizeHandler",value:function(){this._windowResizeHandler||(this._windowResizeHandler=this.refreshSize.bind(this),window.addEventListener(this._resizeEventType,this._windowResizeHandler))}},{key:"handleToolbarStateEvent",value:function(e){var t=new d.ToolbarStateChangedEvent(e.toolbarState.canRedo,e.toolbarState.canUndo);this._viz.dispatchEvent(new CustomEvent(o.EmbeddingTableauEventType.ToolbarStateChanged,{detail:t}))}},{key:"handleTabSwitch",value:function(e){if(this._workbookImpl&&e.oldSheetName){var t=this._workbookImpl.pendingTabSwitchPromise;this._workbookImpl.updateExistingActiveSheetReferences(e.currWorksheetName),this._workbookImpl=new p.EmbeddingWorkbookImpl(e,this.embeddingId),t&&t.resolve(this._workbookImpl);var r=new c.TabSwitchedEvent(e.oldSheetName,e.currWorksheetName);this._viz.dispatchEvent(new CustomEvent(o.EmbeddingTableauEventType.TabSwitched,{detail:r}))}}},{key:"handleCustomViews",value:function(e){if(this._workbookImpl){var t=this._workbookImpl.processCustomViews(s.NotificationId.CustomViewsLoaded,e),r=this._workbookImpl.pendingShowCustomViewPromise;r&&(t[0]?r.resolve(t[0]):r.reject("No custom view."),this._workbookImpl.clearPendingShowCustomViewPromise()),this.sendCustomViewEvents(o.EmbeddingTableauEventType.CustomViewLoaded,t)}else this._customViewsTemp=e}},{key:"handleCustomViewRemoved",value:function(e){var t=this._workbookImpl.processCustomViews(s.NotificationId.CustomViewRemoved,e);this.sendCustomViewEvents(o.EmbeddingTableauEventType.CustomViewRemoved,t)}},{key:"handleCustomViewSaved",value:function(e){var t=this._workbookImpl.processCustomViews(s.NotificationId.CustomViewSaved,e);this.sendCustomViewEvents(o.EmbeddingTableauEventType.CustomViewSaved,t)}},{key:"handleCustomViewSetDefault",value:function(e){var t=this._workbookImpl.processCustomViews(s.NotificationId.CustomViewSetDefault,e);this.sendCustomViewEvents(o.EmbeddingTableauEventType.CustomViewSetDefault,t)}},{key:"sendCustomViewEvents",value:function(e,t){var r,n=g(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i){var o={customView:new f.CustomView(i,this._workbookImpl)};this._viz.dispatchEvent(new CustomEvent(e,{detail:o}))}}}catch(e){n.e(e)}finally{n.f()}}}]),e}()},206:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(6451),i=function(){function e(t,r){T(this,e),this._customViewImpl=t,this._workbookImpl=r}return A(e,[{key:"name",get:function(){return this._customViewImpl.name},set:function(e){this._customViewImpl.name=e}},{key:"shared",get:function(){return this._customViewImpl.shared},set:function(e){this._customViewImpl.shared=e}},{key:"default",get:function(){return this._customViewImpl.isDefault},set:function(e){this._customViewImpl.isDefault=e}},{key:"ownerName",get:function(){return this._customViewImpl.ownerName}},{key:"url",get:function(){return this._customViewImpl.url}},{key:"workbook",get:function(){return new n.Workbook(this._workbookImpl)}},{key:"saveAsync",value:function(){var t=this;return this._customViewImpl.saveAsync().then((function(r){return new e(r,t._workbookImpl)}))}}]),e}();t.CustomView=i},1262:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(6397),i=r(7996),o=r(1970),a=r(5334),s=function(e){D(r,e);var t=x(r);function r(e,n){var i;return T(this,r),(i=t.call(this,e,n))._dashboardImpl=e,e.initializeWithPublicInterfaces(),i}return A(r,[{key:"objects",get:function(){var e=this;return this._dashboardImpl.objects.map((function(t){return new n.DashboardObject(t,e._workbookImpl)}))}},{key:"worksheets",get:function(){var e=this;return this._dashboardImpl.worksheetsImpl.map((function(t){return new a.Worksheet(t,e._workbookImpl)}))}},{key:"parentStoryPoint",get:function(){return null==this._dashboardImpl.parentStoryPoint?null:new o.StoryPoint(this._dashboardImpl.parentStoryPoint,this._workbookImpl)}},{key:"getFiltersAsync",value:function(){return this._dashboardImpl.getFiltersAsync()}},{key:"applyFilterAsync",value:function(e,t,r,n){return this._dashboardImpl.applyFilterAsync(e,t,r,n)}}]),r}(i.Sheet);t.Dashboard=s},6397:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1262),i=r(5334);t.DashboardObject=function(){function e(t,r){T(this,e),this._dashboardObjectImpl=t,this._workbookImpl=r}return A(e,[{key:"dashboard",get:function(){return new n.Dashboard(this._dashboardObjectImpl.dashboardImpl,this._workbookImpl)}},{key:"type",get:function(){return this._dashboardObjectImpl.type}},{key:"position",get:function(){return this._dashboardObjectImpl.position}},{key:"size",get:function(){return this._dashboardObjectImpl.size}},{key:"worksheet",get:function(){if(this._dashboardObjectImpl.worksheetImpl)return new i.Worksheet(this._dashboardObjectImpl.worksheetImpl,this._workbookImpl)}},{key:"name",get:function(){return this._dashboardObjectImpl.name}},{key:"isFloating",get:function(){return this._dashboardObjectImpl.isFloating}},{key:"isVisible",get:function(){return this._dashboardObjectImpl.isVisible}},{key:"id",get:function(){return this._dashboardObjectImpl.id}}]),e}()},5740:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1750),i=r(4695),o=r(4007),a=r(2848);t.createAskDataUrl=function(e,t,r,u){var l,c=e.split("?")[0];try{l=new URL(c),a.validateUrl(l)}catch(e){throw new o.TableauError(n.EmbeddingErrorCodes.InvalidUrl,e.message)}var d=function(e,t){var r=new Map,n="".concat(i.INTERNAL_CONTRACT_VERSION.major,".").concat(i.INTERNAL_CONTRACT_VERSION.minor,".").concat(i.INTERNAL_CONTRACT_VERSION.fix);r.set(i.AskDataOptionNames.ApiInternalVersion,n);var a=o.ApiVersion.Instance.formattedValue;return r.set(i.AskDataOptionNames.ApiExternalVersion,a),r.set(i.AskDataOptionNames.ApiID,"embhost".concat(t)),r.set(i.AskDataOptionNames.AskDataWebComponent,"true"),r}(0,r),p=new s(l).appendDefaultParameters(d).appendUserOptions(t).appendCustomParams(u);return t.iframeAuth&&p.setToken(t.token),p.build()};var s=function(e){D(r,e);var t=x(r);function r(e){var n;return T(this,r),(n=t.call(this))._url=e,n._optionNames=i.AskDataOptionNames,n}return A(r,[{key:"sanitizeParameterValue",value:function(e,t){return this.sanitizeValue(t)}}]),r}(a.EmbeddingUrlBuilder);t.EmbeddingAskDataUrlBuilder=s},2848:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SANITIZED_VALUES={YES_VALUE:"y",NO_VALUE:"n"};var r=new Set(["https:","http:"]);function n(e){var t=e.toString();return t=t.replace("/#/site/","/t/").replace("/#/","/"),new URL(t)}t.EmbeddingUrlBuilder=function(){function e(){T(this,e)}return A(e,[{key:"build",value:function(){return this._url}},{key:"appendDefaultParameters",value:function(e){var t,r=g(e.keys());try{for(r.s();!(t=r.n()).done;){var n=t.value,i=e.get(n);i&&!this._url.searchParams.has(n)&&this._url.searchParams.append(n,i)}}catch(e){r.e(e)}finally{r.f()}return this}},{key:"appendUserOptions",value:function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];if(null!==e[n]&&void 0!==e[n]){var i=this._optionNames[n];if(i){var o=this.sanitizeParameterValue(i,e[n]);this._url.searchParams.append(i,o)}}}return this}},{key:"appendCustomParams",value:function(e){var t,r=g(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;this._url.searchParams.set(n.name,n.value)}}catch(e){r.e(e)}finally{r.f()}return this}},{key:"setToken",value:function(e){if(this._token)throw new Error("The token has already been set to ".concat(this._token));if(!e)return this;this._token=e;var t=this._url.toString().substring(this._url.origin.length);return this._url=new URL("".concat(this._url.origin,"/vizportal/api/web/v1/auth/embed/target")),this._url.searchParams.append("token",e),this._url.searchParams.append("target",t),this}},{key:"sanitizeValue",value:function(e){var r=String(e);switch(r){case"true":return t.SANITIZED_VALUES.YES_VALUE;case"false":return t.SANITIZED_VALUES.NO_VALUE;default:return r}}}]),e}(),t.validateUrl=function(e){!function(e){var t=e.protocol;if(!r.has(t))throw new Error("Invalid protocol in URL '".concat(e,"'. The protocols supported are ").concat(Array.from(r).join(", "),"."))}(e)},t.getSiteId=function(e){var t=n(new URL(e.toString())).pathname.split("/").filter((function(e){return e}));return 0===t.length||"t"!==t[0]||t.length<2?"":t[1]},t.canonicalizeVizPortalRoutingHashes=n},9429:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(1750),o=r(4695),a=r(4007),s=r(2848),u=r(909);!function(e){e[e.Viewing=0]="Viewing",e[e.Authoring=1]="Authoring"}(n=t.EmbeddingUrlMode||(t.EmbeddingUrlMode={}));var l=new Map([[n.Viewing,u.VizUrlMode.Viewing],[n.Authoring,u.VizUrlMode.Authoring]]),c=function(e){D(r,e);var t=x(r);function r(e){var n;return T(this,r),(n=t.call(this))._url=e,n._optionNames=o.VizOptionNames,n}return A(r,[{key:"appendFilters",value:function(e){var t,r=g(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;this._url.searchParams.append(n.field,n.value)}}catch(e){r.e(e)}finally{r.f()}return this}},{key:"appendParams",value:function(e){var t,r=g(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;this._url.searchParams.append(n.name,n.value)}}catch(e){r.e(e)}finally{r.f()}return this}},{key:"sanitizeParameterValue",value:function(e,t){var r;switch(e){case o.VizOptionNames.hideTabs:r=this.sanitizeValue(!t);break;case o.VizOptionNames.toolbar:r=this.sanitizeValue(t!==i.Toolbar.Hidden&&t);break;default:r=this.sanitizeValue(t)}return r}}]),r}(s.EmbeddingUrlBuilder);t.EmbeddingVizUrlBuilder=c,t.createVizUrl=function(e,t,r,n,d,p,f){if(!e)throw new a.TableauError(i.EmbeddingErrorCodes.InternalError,"We should not have attempted to render the component without a src");var h=l.get(t);if(!h)throw new a.TableauError(i.EmbeddingErrorCodes.InternalError,"'".concat(t,"' is not yet supported."));var m,y=e.split("?")[0];try{m=new URL(y),s.validateUrl(m)}catch(e){throw new a.TableauError(i.EmbeddingErrorCodes.InvalidUrl,e.message)}try{m=u.VizUrl.create(y).withMode(h).toURL()}catch(e){}var v=function(e,t){var r=new Map;r.set(o.VizOptionNames.Embed,s.SANITIZED_VALUES.YES_VALUE),r.set(o.VizOptionNames.ApiID,"embhost".concat(t)),"public.tableau.com"===e.hostname&&r.set(o.VizOptionNames.ShowVizHome,s.SANITIZED_VALUES.NO_VALUE);var n="".concat(o.INTERNAL_CONTRACT_VERSION.major,".").concat(o.INTERNAL_CONTRACT_VERSION.minor,".").concat(o.INTERNAL_CONTRACT_VERSION.fix);r.set(o.VizOptionNames.ApiInternalVersion,n);var i=a.ApiVersion.Instance.formattedValue;return r.set(o.VizOptionNames.ApiExternalVersion,i),r.set(o.VizOptionNames.NavType,"0"),r.set(o.VizOptionNames.NavSrc,"Opt"),r}(m,n),g=new c(m).appendDefaultParameters(v).appendUserOptions(r).appendFilters(d).appendParams(p).appendCustomParams(f);return r.iframeAuth&&g.setToken(r.token),g.build()}},1062:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Parameter=function(){function e(t){T(this,e),this.parameterImpl=t}return A(e,[{key:"name",get:function(){return this.parameterImpl.name}},{key:"currentValue",get:function(){return this.parameterImpl.currentValue}},{key:"dataType",get:function(){return this.parameterImpl.dataType}},{key:"allowableValues",get:function(){return this.parameterImpl.allowableValues}},{key:"id",get:function(){return this.parameterImpl.id}},{key:"changeValueAsync",value:function(e){return this.parameterImpl.changeValueAsync(e)}}]),e}()},7996:function(e,t,r){var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(1750)),o=r(4007),a=r(6451);t.Sheet=function(){function e(t,r){T(this,e),this._sheetImpl=t,this._workbookImpl=r}return A(e,[{key:"isHidden",get:function(){return this._sheetImpl.hidden}},{key:"isActive",get:function(){return this._sheetImpl.active}},{key:"name",get:function(){return this._sheetImpl.name}},{key:"sheetType",get:function(){return this._sheetImpl.sheetType}},{key:"size",get:function(){if(o.SheetUtils.isValidSheetSize(this._sheetImpl.size))return this._sheetImpl.size;throw new o.TableauError(i.EmbeddingErrorCodes.NotImplemented,"Not implemented")}},{key:"url",get:function(){if(this.isHidden)throw new o.TableauError(i.EmbeddingErrorCodes.NoUrlForHiddenWorksheet,"No URL for hidden worksheet");return this._sheetImpl.url}},{key:"index",get:function(){return this._sheetImpl.index}},{key:"workbook",get:function(){return new a.Workbook(this._workbookImpl)}},{key:"changeSizeAsync",value:function(e){return this._sheetImpl.changeSizeAsync(e)}}]),e}()},8826:function(e,t,r){var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(1750)),o=r(4007),a=r(6451);t.SheetInfo=function(){function e(t,r){T(this,e),this._sheetInfoImpl=t,this._workbookImpl=r}return A(e,[{key:"name",get:function(){return this._sheetInfoImpl.name}},{key:"sheetType",get:function(){return this._sheetInfoImpl.sheetType}},{key:"index",get:function(){if(void 0!==this._sheetInfoImpl.index)return this._sheetInfoImpl.index;throw new o.TableauError(i.EmbeddingErrorCodes.ImplementationError,"index not implemented")}},{key:"isActive",get:function(){return!!this._sheetInfoImpl.isActive&&this._sheetInfoImpl.isActive}},{key:"isHidden",get:function(){return!!this._sheetInfoImpl.isHidden&&this._sheetInfoImpl.isHidden}},{key:"workbook",get:function(){return new a.Workbook(this._workbookImpl)}},{key:"url",get:function(){return this._sheetInfoImpl.url?this._sheetInfoImpl.url:""}},{key:"size",get:function(){if(o.SheetUtils.isValidSheetSize(this._sheetInfoImpl.sheetSize))return this._sheetInfoImpl.sheetSize;throw new o.TableauError(i.EmbeddingErrorCodes.NotImplemented,"Not implemented")}}]),e}()},8894:function(e,t,r){var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(1750)),o=r(4007),a=r(7996),s=r(1970),u=r(3440),l=function(e){D(r,e);var t=x(r);function r(e,n){var i;return T(this,r),(i=t.call(this,e,n))._storyImpl=e,i}return A(r,[{key:"activeStoryPoint",get:function(){if(!this._storyImpl.activeStoryPoint)throw new o.TableauError(i.EmbeddingErrorCodes.ImplementationError,"Active story point has not been initialized");return new s.StoryPoint(this._storyImpl.activeStoryPoint,this._workbookImpl)}},{key:"storyPointsInfo",get:function(){var e=this;return this._storyImpl.storyPointsInfo.map((function(t){return new u.StoryPointInfo(t,e._workbookImpl)}))}},{key:"activateNextStoryPointAsync",value:function(){var e=this;return this._storyImpl.activateNextStoryPointAsync().then((function(t){return new s.StoryPoint(t,e._workbookImpl)}))}},{key:"activatePreviousStoryPointAsync",value:function(){var e=this;return this._storyImpl.activatePreviousStoryPointAsync().then((function(t){return new s.StoryPoint(t,e._workbookImpl)}))}},{key:"activateStoryPointAsync",value:function(e){var t=this;return this._storyImpl.activateStoryPointAsync(e).then((function(e){return new s.StoryPoint(e,t._workbookImpl)}))}},{key:"revertStoryPointAsync",value:function(e){var t=this;return this._storyImpl.revertStoryPointAsync(e).then((function(e){return new u.StoryPointInfo(e,t._workbookImpl)}))}}]),r}(a.Sheet);t.Story=l},1970:function(e,t,r){var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(1750)),o=r(4007),a=r(1262),s=r(8894),u=r(5334);t.StoryPoint=function(){function e(t,r){T(this,e),this._storyPointImpl=t,this._workbookImpl=r}return A(e,[{key:"index",get:function(){return this._storyPointImpl.index}},{key:"caption",get:function(){return this._storyPointImpl.caption}},{key:"active",get:function(){return this._storyPointImpl.active}},{key:"updated",get:function(){return this._storyPointImpl.updated}},{key:"containedSheet",get:function(){var e=this._storyPointImpl.containedSheet;if(e)switch(e.sheetType){case i.SheetType.Worksheet:return new u.Worksheet(e,this._workbookImpl);case i.SheetType.Dashboard:return new a.Dashboard(e,this._workbookImpl);case i.SheetType.Story:throw new o.TableauError(i.EmbeddingErrorCodes.ImplementationError,"A story cannot contain another story");default:throw new o.TableauError(i.EmbeddingErrorCodes.ImplementationError,"Unable to initialize contained sheet")}}},{key:"parentStory",get:function(){return new s.Story(this._storyPointImpl.parentStory,this._workbookImpl)}}]),e}()},3440:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(8894);t.StoryPointInfo=function(){function e(t,r){T(this,e),this._storyPointInfoImpl=t,this._workbookImpl=r}return A(e,[{key:"index",get:function(){return this._storyPointInfoImpl.index}},{key:"caption",get:function(){return this._storyPointInfoImpl.caption}},{key:"active",get:function(){return this._storyPointInfoImpl.active}},{key:"updated",get:function(){return this._storyPointInfoImpl.updated}},{key:"parentStory",get:function(){return new n.Story(this._storyPointInfoImpl.parentStory,this._workbookImpl)}}]),e}()},9767:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.VizSize=function(){function e(t,r){T(this,e),this._sheetSize=t,this._chromeHeight=r}return A(e,[{key:"sheetSize",get:function(){return this._sheetSize}},{key:"chromeHeight",get:function(){return this._chromeHeight}}]),e}()},909:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(2848);t.VizUrlMode={Viewing:"views",Authoring:"authoring"};var i=function(){function e(t,r){T(this,e),this._url=t,this._segments=r}return A(e,[{key:"mode",get:function(){return this._segments.mode}},{key:"siteId",get:function(){return this._segments.siteId}},{key:"workbookId",get:function(){return this._segments.workbookId}},{key:"sheetId",get:function(){return this._segments.sheetId}},{key:"customView",get:function(){return this._segments.customView}},{key:"toURL",value:function(){return new URL(this.toString())}},{key:"toString",value:function(){return this._url.toString()}},{key:"withMode",value:function(e){if(this._segments.mode===e)return this;var t=this._getSegmentsForMode(e);return this._makeVizUrlFromPathSegments(t)}},{key:"withCustomView",value:function(e){var t;if(e.luid===(null===(t=this.customView)||void 0===t?void 0:t.luid)&&e.name===this.customView.name)return this;var r=this._getSegmentsForMode(this.mode);return r.customView=e,this._makeVizUrlFromPathSegments(r)}},{key:"withSheetId",value:function(e){if(this.sheetId===e)return this;var t=Object.assign(Object.assign({},this._segments),{sheetId:e});return this._makeVizUrlFromPathSegments(t)}},{key:"withWorkbookId",value:function(e){if(this.workbookId===e)return this;var t=Object.assign(Object.assign({},this._segments),{workbookId:e});return this._makeVizUrlFromPathSegments(t)}},{key:"_getSegmentsForMode",value:function(e){return e===t.VizUrlMode.Authoring&&(this._segments.customView=void 0),Object.assign(Object.assign({},this._segments),{mode:e})}},{key:"_makeVizUrlFromPathSegments",value:function(t){var r=e._buildPathName(t),n=new URL(this._url.toString());return n.pathname=r,new e(n,t)}}],[{key:"create",value:function(t){var r=n.canonicalizeVizPortalRoutingHashes(new URL(t.toString())),i=e._parsePathName(r.pathname);return r.pathname=e._buildPathName(i),new e(r,i)}},{key:"_parsePathName",value:function(e){var r,n,i,o,a=e.split("/").filter((function(e){return e}));if(0===a.length)throw new Error("Invalid path name");if("t"===a[0]){if(a.length<2)throw new Error("Invalid site in path '".concat(e,"'"));o=a[1],a.splice(0,2)}var s=a.shift();if(!s)throw new Error("Missing mode in path '".concat(e,"'"));var u=s;if(!Object.values(t.VizUrlMode).includes(u))throw new Error("Invalid Viz Url Mode '".concat(s,"' in path '").concat(e,"'"));if(0===a.length)throw new Error("Missing workbook/sheet name in path '".concat(e,"'"));var l,c=null!=(r=a.shift())?r:"",d=a.shift();if(0!==a.length&&2!==a.length)throw new Error("Invalid path name: unknown parts after sheet id: '".concat(e,"'"));return 2===a.length&&(l={luid:null!=(n=a.shift())?n:"",name:null!=(i=a.shift())?i:""}),{mode:u,siteId:o,workbookId:c,sheetId:d,customView:l}}},{key:"_buildPathName",value:function(e){var r=[];return e.siteId&&(r.push("t"),r.push(e.siteId)),r.push(e.mode),e.workbookId&&r.push(e.workbookId),e.sheetId&&r.push(e.sheetId),e.customView&&e.mode===t.VizUrlMode.Viewing&&(r.push(e.customView.luid),r.push(e.customView.name)),r.join("/")}}]),e}();t.VizUrl=i},6451:function(e,t,r){var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(1750)),o=r(4007),a=r(206),s=r(1262),u=r(1062),l=r(8826),c=r(8894),d=r(5334);t.Workbook=function(){function e(t){T(this,e),this._workbookImpl=t}return A(e,[{key:"activeSheet",get:function(){switch(this._workbookImpl.activeSheet.sheetType){case i.SheetType.Worksheet:return new d.Worksheet(this._workbookImpl.activeSheet,this._workbookImpl);case i.SheetType.Dashboard:return new s.Dashboard(this._workbookImpl.activeSheet,this._workbookImpl);case i.SheetType.Story:return new c.Story(this._workbookImpl.activeSheet,this._workbookImpl);default:throw new o.TableauError(i.EmbeddingErrorCodes.ImplementationError,"Unable to initialize ActiveSheet")}}},{key:"publishedSheetsInfo",get:function(){var e=this;return this._workbookImpl.publishedSheetsInfo.map((function(t){return new l.SheetInfo(t,e._workbookImpl)}))}},{key:"name",get:function(){return this._workbookImpl.name}},{key:"activeCustomView",get:function(){return this._workbookImpl.activeCustomView?new a.CustomView(this._workbookImpl.activeCustomView,this._workbookImpl):void 0}},{key:"activateSheetAsync",value:function(e){var t=this;return this._workbookImpl.activateSheetAsync(e).then((function(e){return t._workbookImpl!==e&&(t._workbookImpl=e),t.activeSheet}))}},{key:"revertAllAsync",value:function(){return this._workbookImpl.revertAllAsync()}},{key:"getCustomViewsAsync",value:function(){var e=this;return this._workbookImpl.getCustomViewsAsync().then((function(t){return t.map((function(t){return new a.CustomView(t,e._workbookImpl)}))}))}},{key:"showCustomViewAsync",value:function(e){var t=this;return this._workbookImpl.showCustomViewAsync(e).then((function(e){return new a.CustomView(e,t._workbookImpl)}))}},{key:"removeCustomViewAsync",value:function(e){var t=this;return this._workbookImpl.removeCustomViewAsync(e).then((function(e){return new a.CustomView(e,t._workbookImpl)}))}},{key:"saveCustomViewAsync",value:function(e){var t=this;return this._workbookImpl.saveCustomViewAsync(e).then((function(e){return new a.CustomView(e,t._workbookImpl)}))}},{key:"setActiveCustomViewAsDefaultAsync",value:function(){return this._workbookImpl.setActiveCustomViewAsDefaultAsync()}},{key:"getParametersAsync",value:function(){return this._workbookImpl.getParametersAsync().then((function(e){return e.map((function(e){return new u.Parameter(e)}))}))}},{key:"changeParameterValueAsync",value:function(e,t){return this._workbookImpl.changeParameterValueAsync(e,t).then((function(t){if(t)return new u.Parameter(t);throw new o.TableauError(i.EmbeddingErrorCodes.InvalidParameter,"Invalid parameter:  ".concat(e))}))}}]),e}()},5334:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1262),i=r(7996),o=r(1970),a=function(e){D(r,e);var t=x(r);function r(e,n){var i;return T(this,r),(i=t.call(this,e,n))._worksheetImpl=e,i}return A(r,[{key:"parentDashboard",get:function(){return null==this._worksheetImpl.parentDashboard?null:new n.Dashboard(this._worksheetImpl.parentDashboard,this._workbookImpl)}},{key:"parentStoryPoint",get:function(){return null==this._worksheetImpl.parentStoryPoint?null:new o.StoryPoint(this._worksheetImpl.parentStoryPoint,this._workbookImpl)}},{key:"getDataSourcesAsync",value:function(){return this._worksheetImpl.getDataSourcesAsync()}},{key:"getSummaryDataAsync",value:function(e){return this._worksheetImpl.getSummaryDataAsync(e)}},{key:"getSummaryDataReaderAsync",value:function(e,t){return this._worksheetImpl.getSummaryDataReaderAsync(e,t)}},{key:"getSummaryColumnsInfoAsync",value:function(){return this._worksheetImpl.getSummaryColumnsInfoAsync()}},{key:"getUnderlyingDataAsync",value:function(e){return console.warn("Worksheet.getUnderlyingDataAsync is deprecated. Please use Worksheet.getUnderlyingTablesAsync and Worksheet.getUnderlyingTableDataAsync"),this._worksheetImpl.getUnderlyingDataAsync(e)}},{key:"getUnderlyingTablesAsync",value:function(){return this._worksheetImpl.getUnderlyingTablesAsync()}},{key:"getUnderlyingTableDataAsync",value:function(e,t){return this._worksheetImpl.getUnderlyingTableDataAsync(e,t)}},{key:"getUnderlyingTableDataReaderAsync",value:function(e,t,r){return this._worksheetImpl.getUnderlyingTableDataReaderAsync(e,t,r)}},{key:"getFiltersAsync",value:function(){return this._worksheetImpl.getFiltersAsync()}},{key:"applyFilterAsync",value:function(e,t,r,n){return this._worksheetImpl.applyFilterAsync(e,t,r,n)}},{key:"applyRangeFilterAsync",value:function(e,t){return this._worksheetImpl.applyRangeFilterAsync(e,t)}},{key:"clearFilterAsync",value:function(e){return this._worksheetImpl.clearFilterAsync(e)}},{key:"applyRelativeDateFilterAsync",value:function(e,t){return this._worksheetImpl.applyRelativeDateFilterAsync(e,t)}},{key:"applyHierarchicalFilterAsync",value:function(e,t,r,n){return this._worksheetImpl.applyHierarchicalFilterAsync(e,t,r,n)}},{key:"clearSelectedMarksAsync",value:function(){return this._worksheetImpl.clearSelectedMarksAsync()}},{key:"getSelectedMarksAsync",value:function(){return this._worksheetImpl.getSelectedMarksAsync()}},{key:"annotateMarkAsync",value:function(e,t){return this._worksheetImpl.annotateMarkAsync(e,t)}},{key:"getAnnotationsAsync",value:function(){return this._worksheetImpl.getAnnotationsAsync()}},{key:"removeAnnotationAsync",value:function(e){return this._worksheetImpl.removeAnnotationAsync(e)}},{key:"selectMarksByValueAsync",value:function(e,t){return this._worksheetImpl.selectMarksByValueAsync(e,t)}},{key:"appendContextMenuAsync",value:function(e,t){return this._worksheetImpl.appendContextMenuAsync(e,t)}},{key:"removeContextMenuAsync",value:function(e,t){return this._worksheetImpl.removeContextMenuAsync(e,t)}},{key:"executeContextMenuAsync",value:function(e,t){return this._worksheetImpl.executeContextMenuAsync(e,t)}},{key:"renameContextMenuAsync",value:function(e,t,r){return this._worksheetImpl.renameContextMenuAsync(e,t,r)}}]),r}(i.Sheet);t.Worksheet=a},8345:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){D(r,e);var t=x(r);function r(){return T(this,r),t.apply(this,arguments)}return A(r,[{key:"serviceName",get:function(){return"initialization-service"}}]),r}(r(4007).NotificationServiceImplBase);t.InitializationServiceImpl=n},4450:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(4695),i=function(e){D(r,e);var t=x(r);function r(){return T(this,r),t.apply(this,arguments)}return A(r,[{key:"serviceName",get:function(){return"ToolbarService"}},{key:"revertAllAsync",value:function(){var e=n.VerbId.RevertWorkbook,t=m({},n.ParameterId.FunctionName,"revertAllAsync");return this.execute(e,t).then((function(e){}))}},{key:"redoAsync",value:function(){var e=n.VerbId.Redo,t=m({},n.ParameterId.FunctionName,"redoAsync");return this.execute(e,t).then((function(e){}))}},{key:"undoAsync",value:function(){var e=n.VerbId.Undo,t=m({},n.ParameterId.FunctionName,"undoAsync");return this.execute(e,t).then((function(e){}))}},{key:"exportImageAsync",value:function(){var e=n.VerbId.ExportImage,t=m({},n.ParameterId.FunctionName,"exportImageAsync");return this.execute(e,t).then((function(e){}))}},{key:"setAutoUpdateAsync",value:function(e){var t,r=n.VerbId.SetAutoUpdate,i=(m(t={},n.ParameterId.FunctionName,"setAutoUpdateAsync"),m(t,n.ParameterId.State,e),t);return this.execute(r,i).then((function(){}))}},{key:"displayDownloadWorkbookDialogAsync",value:function(){var e=n.VerbId.DownloadWorkbook,t=m({},n.ParameterId.FunctionName,"displayDialogAsync(Workbook)");return this.execute(e,t).then((function(e){}))}},{key:"displayExportPdfDialogAsync",value:function(){var e=n.VerbId.ExportPdf,t=m({},n.ParameterId.FunctionName,"displayDialogAsync(ExportPDF)");return this.execute(e,t).then((function(e){}))}},{key:"displayExportPowerpointDialogAsync",value:function(){var e=n.VerbId.ExportPowerpoint,t=m({},n.ParameterId.FunctionName,"displayDialogAsync(ExportPowerPoint)");return this.execute(e,t).then((function(e){}))}},{key:"displayExportDataDialogAsync",value:function(){var e=n.VerbId.ExportData,t=m({},n.ParameterId.FunctionName,"displayDialogAsync(ExportData)");return this.execute(e,t).then((function(e){}))}},{key:"displayExportCrosstabDialogAsync",value:function(){var e=n.VerbId.ExportCrosstab,t=m({},n.ParameterId.FunctionName,"displayDialogAsync(ExportCrossTab)");return this.execute(e,t).then((function(e){}))}},{key:"displayShareDialogAsync",value:function(){var e=n.VerbId.Share,t=m({},n.ParameterId.FunctionName,"displayDialogAsync(Share)");return this.execute(e,t).then((function(e){}))}}]),r}(r(4007).ServiceImplBase);t.ToolbarServiceImpl=i},4104:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(4007),i=r(8345),o=r(4450);t.registerAllEmbeddingServices=function(e,t){var r=n.ApiServiceRegistry.get(t);r.registerService(new n.ClientInfoServiceImpl(e,t)),r.registerService(new n.SizeServiceImpl(e,t)),r.registerService(new n.StoryActivationServiceImpl(e,t)),r.registerService(new o.ToolbarServiceImpl(e,t))},t.registerInitializationEmbeddingServices=function(e,t){n.ApiServiceRegistry.get(t).registerService(new i.InitializationServiceImpl(e))}},7193:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(4104);t.registerAllEmbeddingServices=n.registerAllEmbeddingServices,t.registerInitializationEmbeddingServices=n.registerInitializationEmbeddingServices},9701:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=A((function e(){T(this,e)}));t.HtmlElementHelpers=r,r.getContentSize=function(e){var t=window.getComputedStyle(e),r=parseInt(t.paddingLeft,10)||0,n=parseInt(t.paddingTop,10)||0,i=parseInt(t.paddingRight,10)||0,o=parseInt(t.paddingBottom,10)||0;return{width:e.clientWidth-Math.round(r+i),height:e.clientHeight-Math.round(n+o)}}},5620:function(e,t){var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseQueue=function(){function e(){T(this,e),this.queue=[],this.pending=0,this.concurrency=1}return A(e,[{key:"add",value:function(e){var t=this;return new Promise((function(n,i){t.queue.push((function(){return r(t,void 0,void 0,I().mark((function t(){var r;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e();case 3:r=t.sent,n(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),i(t.t0);case 10:return t.prev=10,this.pending--,this.poll(),t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[0,7,10,13]])})))}))}))}},{key:"poll",value:function(){if(this.pending<this.concurrency&&this.queue.length>0){var e=this.queue.shift();this.pending++,e()}}},{key:"size",value:function(){return this.queue.length}}]),e}()},3630:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(5620),i=function(){function e(){T(this,e)}return A(e,null,[{key:"registerWebComponent",value:function(e){var t=this.embeddingIndex;return this.webComponents.set(t,e),this.embeddingIndex++,t}},{key:"unregisterWebComponent",value:function(e){this.webComponents.delete(e)}},{key:"getWebComponents",value:function(){var e=new Map;return this.webComponents.forEach((function(t,r){e.set(r,t)})),e}},{key:"synchronizeRender",value:function(e){var t=this.queue.add(e);return this.queue.poll(),t}},{key:"clear",value:function(){this.webComponents.clear()}}]),e}();t.WebComponentManager=i,i.embeddingIndex=0,i.webComponents=new Map,i.queue=new n.PromiseQueue},9654:function(e,t,r){function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(2996));var i=r(3069);t.ApiMenuType=i.ApiMenuType,t.CrosstabFileFormat=i.CrosstabFileFormat,t.DeviceType=i.DeviceType,t.EmbeddingErrorCodes=i.EmbeddingErrorCodes,t.PrintOrientation=i.PrintOrientation,t.PrintPageSize=i.PrintPageSize,t.PrintScaling=i.PrintScaling,t.SheetSizeBehavior=i.SheetSizeBehavior,t.TableauDialogType=i.TableauDialogType,t.EmbeddingTableauEventType=i.TableauEventType,t.Toolbar=i.Toolbar,n(r(7940)),n(r(7154)),n(r(6408))},1615:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(423);t.ErrorCodes=n.ErrorCodes,t.ExtensionContext=n.ExtensionContext,t.ExtensionMode=n.ExtensionMode,t.TableauEventType=n.TableauEventType,t.VizImageEncodingType=n.VizImageEncodingType,t.VizImagePaletteType=n.VizImagePaletteType,t.VizImageSizeSettingAlignmentType=n.VizImageSizeSettingAlignmentType,t.VizImageSizeSettingType=n.VizImageSizeSettingType,t.VizImageSortDirectionType=n.VizImageSortDirectionType,function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(6408))},1750:function(e,t,r){function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(9654)),n(r(1615))},2996:function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.AskDataAttributes||(t.AskDataAttributes={})).Origin="origin",r.ShowEmbed="show-embed",r.ShowPin="show-pin",r.ShowSave="show-save",r.ShowShare="show-share"},3069:function(e,t){var r,n,i,o,a,s,u,l,c,d,p,f,h;Object.defineProperty(t,"__esModule",{value:!0}),(h=t.CrosstabFileFormat||(t.CrosstabFileFormat={})).CSV="csv",h.Excel="xlsx",(f=t.DeviceType||(t.DeviceType={})).Default="default",f.Desktop="desktop",f.Tablet="tablet",f.Phone="phone",(p=t.EmbeddingErrorCodes||(t.EmbeddingErrorCodes={})).AuthFailed="auth-failed",p.BrowserNotCapable="browser-not-capable",p.DownloadWorkbookNotAllowed="download-workbook-not-allowed",p.FilterCannotBePerformed="filter-cannot-be-performed",p.IndexOutOfRange="index-out-of-range",p.InternalError="internal-error",p.InvalidCustomViewName="invalid-custom-view-name",p.InvalidDateParameter="invalid-date-parameter",p.invalidFilterFieldNameOrValue="invalid-filter-field-name",p.InvalidParameter="invalid-parameter",p.InvalidSize="invalid-size",p.InvalidSizeBehavior="invalid-size-behavior",p.InvalidSizeBehaviorOnWorksheet="invalid-size-behavior-on-worksheet",p.InvalidUrl="invalid-url",p.MissingMaxSize="missing-max-size",p.MissingMinSize="missing-min-size",p.MissingMinMaxSize="missing-min-max-size",p.MissingParameter="missing-parameter",p.MissingRangeNForRelativeDateFilters="missing-range-n-for-relative-date-filters",p.NoUrlForHiddenWorksheet="no-url-for-hidden-worksheet",p.NoUrlOrParentElementNotFound="no-url-or-parent-element-not-found",p.NotActiveSheet="not-active-sheet",p.NullOrEmptyParameter="null-or-empty-parameter",p.SheetNotInWorkbook="sheet-not-in-workbook",p.StaleDataReference="stale-data-reference",p.UnknownAuthError="unknown-auth-error",p.UnsupportedEventName="unsupported-event-name",p.VizAlreadyInManager="viz-already-in-manager",p.ImplementationError="wrong-implementation",p.NotImplemented="not-implemented",p.EventInitializationError="event-initialization-error",p.IncompatibleVersionError="incompatible-version-error",p.UnknownDialogType="unknown-dialog-type",p.FilterMissingOrNotImplemented="filter-missing-not-implemented",p.StoryPointIdMismatch="storypoint-id-mismatch",(d=t.FileFormats||(t.FileFormats={})).PDF="pdf",d.PNG="png",(c=t.PrintOrientation||(t.PrintOrientation={})).Portrait="portrait",c.Landscape="landscape",(l=t.PrintPageSize||(t.PrintPageSize={})).Letter="letter",l.Legal="legal",l.Note="note",l.Folio="folio",l.Tabloid="tabloid",l.Ledger="ledger",l.Statement="statement",l.Executive="executive",l.A3="A3",l.A4="A4",l.A5="A5",l.B4="B4",l.B5="B5",l.Quarto="quarto",l.Unspecified="unspecified",(u=t.PrintScaling||(t.PrintScaling={})).Automatic="automatic",u.Perc25="25%",u.Perc50="50%",u.Perc60="60%",u.Perc75="75%",u.Perc80="80%",u.Perc90="90%",u.Perc100="100%",u.Perc200="200%",u.Perc400="400%",u.AtMost1PageHigh="at-most-1-page-high",u.AtMost2PagesHigh="at-most-2-pages-high",u.AtMost1PageWide="at-most-1-page-wide",u.AtMost2PagesWide="at-most-2-pages-wide",(s=t.RevertVizSelection||(t.RevertVizSelection={})).All="all",s.Axes="axes",s.Filters="filters",s.Sorts="sorts",s.Shelves="shelves",(a=t.ToolbarButtons||(t.ToolbarButtons={})).Alerts="alerts",a.AskData="askData",a.CustomViews="customViews",a.DataDetails="dataDetails",a.Share="share",a.Subscribe="subscribe",(o=t.Toolbar||(t.Toolbar={})).Top="top",o.Bottom="bottom",o.Hidden="hidden",(i=t.SheetSizeBehavior||(t.SheetSizeBehavior={})).Automatic="automatic",i.Exactly="exactly",i.Range="range",i.AtLeast="atleast",i.AtMost="atmost",(n=t.TableauEventType||(t.TableauEventType={})).CustomViewLoaded="customviewloaded",n.CustomViewRemoved="customviewremoved",n.CustomViewSaved="customviewsaved",n.CustomViewSetDefault="customviewsetdefault",n.EditButtonClicked="editbuttonclicked",n.EditInDesktopButtonClicked="editindesktopbuttonclicked",n.FilterChanged="filterchanged",n.FirstVizSizeKnown="firstvizsizeknown",n.FirstInteractive="firstinteractive",n.CustomMarkContextMenuEvent="custommarkcontextmenu",n.MarkSelectionChanged="markselectionchanged",n.ParameterChanged="parameterchanged",n.ToolbarStateChanged="toolbarstatechanged",n.WorkbookReadyToClose="workbookreadytoclose",n.WorkbookPublished="workbookpublished",n.WorkbookPublishedAs="workbookpublishedas",n.UrlAction="urlaction",n.TabSwitched="tabswitched",n.StoryPointSwitched="storypointswitched",n.VizLoadError="vizloaderror",n.IframeSrcUpdated="iframesrcupdated",(t.ApiMenuType||(t.ApiMenuType={})).Ubertip="ubertip",(r=t.TableauDialogType||(t.TableauDialogType={})).ExportPDF="export-pdf",r.ExportPowerPoint="export-powerpoint",r.ExportData="export-data",r.ExportCrossTab="export-cross-tab",r.ExportWorkbook="export-workbook",r.Share="share"},7940:function(e,t){var r,n,i,o,a;Object.defineProperty(t,"__esModule",{value:!0}),(a=t.VizSharedAttributes||(t.VizSharedAttributes={})).TouchOptimize="touch-optimize",a.HideEditInDesktopButton="hide-edit-in-desktop-button",a.SuppressDefaultEditBehavior="suppress-default-edit-behavior",a.DisableVersionCheck="disable-version-check",a.OnEditInDesktopButtonClicked="onEditInDesktopButtonClicked",a.OnFirstVizSizeKnown="onFirstVizSizeKnown",a.OnFirstInteractive="onFirstInteractive",(o=t.VizAttributes||(t.VizAttributes={})).DisableUrlActionsPopups="disable-url-actions",o.HideTabs="hide-tabs",o.Toolbar="toolbar",o.InstanceIdToClone="instance-id-to-clone",o.Device="device",o.HideEditButton="hide-edit-button",o.OnEditButtonClicked="onEditButtonClicked",o.OnFilterChanged="onFilterChanged",o.OnCustomMarkContextMenuEvent="onCustomMarkContextMenuEvent",o.OnMarkSelectionChanged="onMarkSelectionChanged",o.OnParameterChanged="onParameterChanged",o.OnToolbarStateChanged="onToolbarStateChanged",o.OnUrlAction="onUrlAction",o.OnTabSwitched="onTabSwitched",o.OnCustomViewLoaded="onCustomViewLoaded",o.OnCustomViewRemoved="onCustomViewRemoved",o.OnCustomViewSaved="onCustomViewSaved",o.OnCustomViewSetDefault="onCustomViewSetDefault",o.OnStoryPointSwitched="onStoryPointSwitched",(i=t.VizAuthoringAttributes||(t.VizAuthoringAttributes={})).OnWorkbookPublished="onWorkbookPublished",i.OnWorkbookPublishedAs="onWorkbookPublishedAs",i.OnWorkbookReadyToClose="onWorkbookReadyToClose",i.HideCloseButton="hide-close-button",(n=t.VizChildElements||(t.VizChildElements={})).VizFilter="viz-filter",n.VizParameter="viz-parameter",n.CustomParameter="custom-parameter",(r=t.VizChildElementAttributes||(t.VizChildElementAttributes={})).Field="field",r.Value="value",r.Name="name"},7154:function(e,t){var r,n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.WebComponentAttributes||(t.WebComponentAttributes={})).Src="src",n.Width="width",n.Height="height",n.Token="token",n.Debug="debug",n.IframeAuth="iframe-auth",n.OnVizLoadError="onvizloaderror",(t.WebComponentChildElements||(t.WebComponentChildElements={})).CustomParameter="custom-parameter",(r=t.WebComponentChildElementAttributes||(t.WebComponentChildElementAttributes={})).Field="field",r.Value="value",r.Name="name"},423:function(e){var t;!function(e){var t,r,n,i,o,a,s,u,l;(l=e.ErrorCodes||(e.ErrorCodes={})).APINotInitialized="api-not-initialized",l.VisibilityError="visibility-error",l.DialogAlreadyOpen="dialog-already-open",l.DialogClosedByUser="dialog-closed-by-user",l.InternalError="internal-error",l.InvalidDomainDialog="invalid-dialog-domain",l.InvalidParameter="invalid-parameter",l.MissingFilter="missing-filter",l.MissingParameter="missing-parameter",l.ServerError="server-error",l.SettingSaveInProgress="setting-save-in-progress",l.UnsupportedEventName="unsupported-event-name",l.UnsupportedMethodForDataSourceType="unsupported-method-for-data-source-type",(u=e.ExtensionContext||(e.ExtensionContext={})).Desktop="desktop",u.Server="server",(s=e.ExtensionMode||(e.ExtensionMode={})).Authoring="authoring",s.Viewing="viewing",(a=e.TableauEventType||(e.TableauEventType={})).FilterChanged="filter-changed",a.MarkSelectionChanged="mark-selection-changed",a.ParameterChanged="parameter-changed",a.SettingsChanged="settings-changed",a.DashboardLayoutChanged="dashboard-layout-changed",a.WorkbookFormattingChanged="workbook-formatting-changed",(o=e.VizImageEncodingType||(e.VizImageEncodingType={})).Discrete="discrete",o.Continuous="continuous",(i=e.VizImageSortDirectionType||(e.VizImageSortDirectionType={})).Ascending="ascending",i.Descending="descending",(n=e.VizImagePaletteType||(e.VizImagePaletteType={})).CustomDiverging="custom-diverging",n.CustomSequential="custom-sequential",(r=e.VizImageSizeSettingType||(e.VizImageSizeSettingType={})).Fixed="fixed",r.Manual="manual",(t=e.VizImageSizeSettingAlignmentType||(e.VizImageSizeSettingAlignmentType={})).Right="right",t.Left="left",t.Center="center"}(t||(t={})),e.exports=t},6818:function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.SharedErrorCodes||(t.SharedErrorCodes={})).CrosstabCreationError="crosstab-creation-error",r.DataCreationError="data-creation-error",r.InvalidAggregationFieldName="invalid-aggregation-field-name",r.InvalidFilterFieldName="invalid-filter-name",r.InvalidFilterFieldValue="invalid-filter-fieldValue",r.InvalidSelectionDate="invalid-selection-date",r.InvalidSelectionFieldName="invalid-selection-fieldName",r.InvalidSelectionValue="invalid-selection-value",r.InvalidSelectionSheet="invalid-selection-sheet",r.InternalError="internal-error",r.InvalidParameter="invalid-parameter",r.PDFCreationError="pdf-creation-error",r.PowerPointCreationError="powerpoint-creation-error",r.NotActiveSheet="not-active-sheet",r.ImplementationError="wrong-implementation",r.ApiExecutionError="api-execution-error",r.ServerError="server-error",r.Timeout="timeout"},4953:function(e){var t,r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};!function(e){var t,n,i,o,a,s,u,l,c,d,p,f,h,m,y,v,g,b,w,_,S,I,T,P,A,k,E,D;(D=e.ForecastObjectType||(e.ForecastObjectType={})).Cluster="cluster",D.Forecast="forecast",D.TrendLine="trend-line",(E=e.AnnotationType||(e.AnnotationType={})).Mark="mark",E.Point="point",E.Area="area",(k=e.ColumnType||(e.ColumnType={})).Discrete="discrete",k.Continuous="continuous",(A=e.ClassNameKey||(e.ClassNameKey={})).WorksheetTitle="tableau-worksheet-title",A.Worksheet="tableau-worksheet",A.Tooltip="tableau-tooltip",A.StoryTitle="tableau-story-title",A.DashboardTitle="tableau-dashboard-title",(P=e.DashboardObjectType||(e.DashboardObjectType={})).Blank="blank",P.Worksheet="worksheet",P.QuickFilter="quick-filter",P.ParameterControl="parameter-control",P.PageFilter="page-filter",P.Legend="legend",P.Title="title",P.Text="text",P.Image="image",P.WebPage="web-page",P.Extension="extension",function(e){e.Show="show",e.Hide="hide"}(t=e.DashboardObjectVisibilityType||(e.DashboardObjectVisibilityType={})),(T=e.DataType||(e.DataType={})).String="string",T.Int="int",T.Float="float",T.Bool="bool",T.Date="date",T.DateTime="date-time",T.Spatial="spatial",(I=e.DashboardLayoutChange||(e.DashboardLayoutChange={})).Added="added",I.Removed="removed",I.IsFloatingChanged="is-floating-changed",I.IsVisibleChanged="is-visible-changed",I.PositionChanged="position-changed",I.SizeChanged="size-changed",I.NameChanged="name-changed",(S=e.DateRangeType||(e.DateRangeType={})).Last="last",S.LastN="last-n",S.Next="next",S.NextN="next-n",S.Current="current",S.ToDate="to-date",(_=e.DialogStyle||(e.DialogStyle={})).Window="window",_.Modal="modal",_.Modeless="modeless",(w=e.EncodingType||(e.EncodingType={})).Column="column",w.Row="row",w.Page="page",w.Filter="filter",w.MarksType="marks-type",w.MeasureValues="measure-values",w.Color="color",w.Size="size",w.Label="label",w.Detail="detail",w.Tooltip="tooltip",w.Shape="shape",w.Path="path",w.Angle="angle",(b=e.FieldAggregationType||(e.FieldAggregationType={})).Sum="sum",b.Avg="avg",b.Min="min",b.Max="max",b.Stdev="stdev",b.Stdevp="stdevp",b.Var="var",b.Varp="varp",b.Collect="collect",b.Count="count",b.Countd="countd",b.Median="median",b.Attr="attr",b.None="none",b.Year="year",b.Qtr="qtr",b.Month="month",b.Day="day",b.Hour="hour",b.Minute="minute",b.Second="second",b.Week="week",b.Weekday="weekday",b.MonthYear="month-year",b.Mdy="mdy",b.End="end",b.TruncYear="trunc-year",b.TruncQtr="trunc-qtr",b.TruncMonth="trunc-month",b.TruncWeek="trunc-week",b.TruncDay="trunc-day",b.TruncHour="trunc-hour",b.TruncMinute="trunc-minute",b.TruncSecond="trunc-second",b.Quart1="quart1",b.Quart3="quart3",b.Skewness="skewness",b.Kurtosis="kurtosis",b.InOut="in-out",b.User="user",(g=e.FieldRoleType||(e.FieldRoleType={})).Dimension="dimension",g.Measure="measure",g.Unknown="unknown",(v=e.FilterType||(e.FilterType={})).Categorical="categorical",v.Range="range",v.Hierarchical="hierarchical",v.RelativeDate="relative-date",(y=e.FilterUpdateType||(e.FilterUpdateType={})).Add="add",y.All="all",y.Replace="replace",y.Remove="remove",(m=e.FilterDomainType||(e.FilterDomainType={})).Relevant="relevant",m.Database="database",(h=e.FilterNullOption||(e.FilterNullOption={})).NullValues="null-values",h.NonNullValues="non-null-values",h.AllValues="all-values",(f=e.IncludeDataValuesOption||(e.IncludeDataValuesOption={})).AllValues="all-values",f.OnlyNativeValues="only-native-values",f.OnlyFormattedValues="only-formatted-values",(p=e.MarkType||(e.MarkType={})).Bar="bar",p.Line="line",p.Area="area",p.Square="square",p.Circle="circle",p.Shape="shape",p.Text="text",p.Map="map",p.Pie="pie",p.GanttBar="gantt-bar",p.Polygon="polygon",(d=e.ParameterValueType||(e.ParameterValueType={})).All="all",d.List="list",d.Range="range",(c=e.PeriodType||(e.PeriodType={})).Years="years",c.Quarters="quarters",c.Months="months",c.Weeks="weeks",c.Days="days",c.Hours="hours",c.Minutes="minutes",c.Seconds="seconds",(l=e.QuickTableCalcType||(e.QuickTableCalcType={})).RunningTotal="running-total",l.Difference="difference",l.PercentDifference="percent-difference",l.PercentOfTotal="percent-of-total",l.Rank="rank",l.Percentile="percentile",l.MovingAverage="moving-average",l.YTDTotal="ytd-total",l.CompoundGrowthRate="compound-growth-rate",l.YearOverYearGrowth="year-over-year-growth",l.YTDGrowth="ytd-growth",l.Undefined="undefined",(u=e.SelectionUpdateType||(e.SelectionUpdateType={})).Replace="select-replace",u.Add="select-add",u.Remove="select-remove",(s=e.SheetType||(e.SheetType={})).Dashboard="dashboard",s.Story="story",s.Worksheet="worksheet",(a=e.SortDirection||(e.SortDirection={})).Increasing="increasing",a.Decreasing="decreasing",(o=e.TrendLineModelType||(e.TrendLineModelType={})).Linear="linear",o.Logarithmic="logarithmic",o.Exponential="exponential",o.Polynomial="polynomial",(i=e.ReplaySpeedType||(e.ReplaySpeedType={})).Slow="slow",i.Normal="normal",i.Fast="fast",(n=e.HierarchicalLevelSelectionState||(e.HierarchicalLevelSelectionState={})).AllSelected="all-selected",n.NoneSelected="none-selected",n.SomeSelected="some-selected",n.UnknownSelected="unknown-selected",e.ZoneVisibilityType=r({},t)}(t||(t={})),e.exports=t},6408:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(6818));var n=r(4953);t.ForecastObjectType=n.ForecastObjectType,t.AnnotationType=n.AnnotationType,t.ClassNameKey=n.ClassNameKey,t.ColumnType=n.ColumnType,t.DashboardLayoutChange=n.DashboardLayoutChange,t.DashboardObjectType=n.DashboardObjectType,t.DashboardObjectVisibilityType=n.DashboardObjectVisibilityType,t.DataType=n.DataType,t.DateRangeType=n.DateRangeType,t.DialogStyle=n.DialogStyle,t.EncodingType=n.EncodingType,t.FieldAggregationType=n.FieldAggregationType,t.FieldRoleType=n.FieldRoleType,t.FilterDomainType=n.FilterDomainType,t.FilterNullOption=n.FilterNullOption,t.FilterType=n.FilterType,t.FilterUpdateType=n.FilterUpdateType,t.HierarchicalLevelSelectionState=n.HierarchicalLevelSelectionState,t.IncludeDataValuesOption=n.IncludeDataValuesOption,t.MarkType=n.MarkType,t.ParameterValueType=n.ParameterValueType,t.PeriodType=n.PeriodType,t.QuickTableCalcType=n.QuickTableCalcType,t.ReplaySpeedType=n.ReplaySpeedType,t.SelectionUpdateType=n.SelectionUpdateType,t.SheetType=n.SheetType,t.SortDirection=n.SortDirection,t.TrendLineModelType=n.TrendLineModelType,t.ZoneVisibilityType=n.ZoneVisibilityType},4695:function(e,t,r){function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),r(5611),r(2316),r(47);var i=r(2725);t.INTERNAL_CONTRACT_VERSION=i,n(r(7850)),n(r(4063)),n(r(5879)),n(r(5257)),n(r(5681)),n(r(967)),n(r(8075)),n(r(550)),n(r(3590)),n(r(408)),n(r(3526)),n(r(9394)),t.MESSAGING_VERSION={major:1,minor:0,fix:0}},7850:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(4063),i=function(){function e(){}return e.isSpecial=function(e){return e.length>2&&"%"===e[0]&&"%"===e[e.length-1]},e.parseBoolean=function(e){var t=e.toLowerCase();return"true"!==t&&"false"!==t?this.specialValueIndicator:"true"===t},e.parseNumber=function(e){var t=Number(e);return isNaN(t)?this.specialValueIndicator:t},e.parseDate=function(e){var t=new Date(e);return Number.isNaN(t.getTime())?null:t},e.parseDateTime=function(e){var t=e.replace(" ","T").concat("Z"),r=new Date(t);return Number.isNaN(r.getTime())?null:r},e.convertValueAsStringToValue=function(e,t){if(null!=e){if(this.isSpecial(e))return e;switch(t){case n.DataType.Bool:return this.parseBoolean(e);case n.DataType.Int:case n.DataType.Float:return this.parseNumber(e);case n.DataType.Date:return null===this.parseDate(e)?this.specialValueIndicator:e;case n.DataType.DateTime:return null===this.parseDateTime(e)?this.specialValueIndicator:e;case n.DataType.Spatial:case n.DataType.String:default:return e}}},e.convertValueToNativeValue=function(e,t){if(null==e)return null;switch(t){case n.DataType.Bool:case n.DataType.Int:case n.DataType.Float:return"string"==typeof e?null:e;case n.DataType.Date:return this.parseDate(e);case n.DataType.DateTime:return this.parseDateTime(e);case n.DataType.String:return this.isSpecial(e)?null:e;case n.DataType.Spatial:default:return e}},e.convertStringValueToNativeValue=function(e,t){return this.convertValueToNativeValue(this.convertValueAsStringToValue(e,t),t)},e.specialValueIndicator="%null%",e}();t.DataTypeConverter=i},4063:function(e,t){var r,n,i,o,a,s,u,l,c,d,p,f,h,m,y,v,g,b,w,_,S,I,T,P,A,k,E,D,C,x,O;Object.defineProperty(t,"__esModule",{value:!0}),(O=t.ExtensionContext||(t.ExtensionContext={})).Desktop="desktop",O.Server="server",O.Unknown="unknown",(x=t.ExtensionMode||(t.ExtensionMode={})).Authoring="authoring",x.Viewing="viewing",x.Unknown="unknown",(C=t.AnnotateEnum||(t.AnnotateEnum={})).Mark="mark",C.Point="point",C.Area="area",(D=t.ColumnType||(t.ColumnType={})).Discrete="discrete",D.Continuous="continuous",(E=t.DashboardObjectType||(t.DashboardObjectType={})).Blank="blank",E.Worksheet="worksheet",E.QuickFilter="quick-filter",E.ParameterControl="parameter-control",E.PageFilter="page-filter",E.Legend="legend",E.Title="title",E.Text="text",E.Image="image",E.WebPage="web-page",E.Extension="extension",(k=t.DataType||(t.DataType={})).String="string",k.Int="int",k.Float="float",k.Bool="bool",k.Date="date",k.DateTime="date-time",k.Spatial="spatial",(A=t.DialogStyle||(t.DialogStyle={})).Window="window",A.Modal="modal",A.Modeless="modeless",(P=t.EncodedDataType||(t.EncodedDataType={})).Number="number",P.String="string",P.Date="date",P.Boolean="boolean",(T=t.ErrorCodes||(t.ErrorCodes={})).INITIALIZATION_ERROR="initialization-error",T.INTERNAL_ERROR="internal-error",T.MISSING_ENUM_MAPPING="missing-enum-mapping",T.MISSING_PARAMETER="missing-parameter",T.PERMISSION_DENIED="permission-denied",T.PRES_MODEL_PARSING_ERROR="pres-model-parsing-error",T.VERSION_NOT_CONFIGURED="version-not-configured",T.VISIBILITY_ERROR="visibility-error",T.UNKNOWN_VERB_ID="unknown-verb-id",(I=t.FieldAggregationType||(t.FieldAggregationType={})).Sum="sum",I.Avg="avg",I.Min="min",I.Max="max",I.Stdev="stdev",I.Stdevp="stdevp",I.Var="var",I.Varp="varp",I.Collect="collect",I.Count="count",I.Countd="countd",I.Median="median",I.Attr="attr",I.None="none",I.Year="year",I.Qtr="qtr",I.Month="month",I.Day="day",I.Hour="hour",I.Minute="minute",I.Second="second",I.Week="week",I.Weekday="weekday",I.MonthYear="month-year",I.Mdy="mdy",I.End="end",I.TruncYear="trunc-year",I.TruncQtr="trunc-qtr",I.TruncMonth="trunc-month",I.TruncWeek="trunc-week",I.TruncDay="trunc-day",I.TruncHour="trunc-hour",I.TruncMinute="trunc-minute",I.TruncSecond="trunc-second",I.Quart1="quart1",I.Quart3="quart3",I.Skewness="skewness",I.Kurtosis="kurtosis",I.InOut="in-out",I.User="user",(S=t.FieldRoleType||(t.FieldRoleType={})).Dimension="dimension",S.Measure="measure",S.Unknown="unknown",(_=t.FilterUpdateType||(t.FilterUpdateType={})).Add="add",_.All="all",_.Replace="replace",_.Remove="remove",(w=t.SheetType||(t.SheetType={})).Dashboard="dashboard",w.Story="story",w.Worksheet="worksheet",(b=t.DomainRestrictionType||(t.DomainRestrictionType={})).All="all",b.List="list",b.Range="range",(g=t.DateStepPeriod||(t.DateStepPeriod={})).Years="years",g.Quarters="quarters",g.Months="months",g.Weeks="weeks",g.Days="days",g.Hours="hours",g.Minutes="minutes",g.Seconds="seconds",(v=t.FilterNullOption||(t.FilterNullOption={})).NullValues="nullvalues",v.NonNullValues="nonnullvalues",v.AllValues="allvalues",(y=t.FilterDomainType||(t.FilterDomainType={})).Relevant="relevant",y.Database="database",(m=t.SelectionUpdateType||(t.SelectionUpdateType={})).Replace="select-replace",m.Add="select-add",m.Remove="select-remove",(h=t.QuantitativeIncludedValues||(t.QuantitativeIncludedValues={})).IncludeNull="include-null",h.IncludeNonNull="include-non-null",h.IncludeAll="include-all",(f=t.HierarchicalLevelSelectionState||(t.HierarchicalLevelSelectionState={})).AllSelected="all-selected",f.NoneSelected="none-selected",f.SomeSelected="some-selected",f.UnknownSelected="unknown-selected",(p=t.MarkType||(t.MarkType={})).Bar="bar",p.Line="line",p.Area="area",p.Square="square",p.Circle="circle",p.Shape="shape",p.Text="text",p.Map="map",p.Pie="pie",p.GanttBar="gantt-bar",p.Polygon="polygon",(d=t.FilterType||(t.FilterType={})).Categorical="categorical",d.Range="range",d.RelativeDate="relativeDate",d.Hierarchical="hierarchical",(c=t.DateRangeType||(t.DateRangeType={})).Last="last",c.LastN="lastN",c.Next="next",c.NextN="nextN",c.Current="current",c.ToDate="toDate",(l=t.ExtensionDialogResult||(t.ExtensionDialogResult={})).DialogAlreadyOpen="dialog-already-open",l.InvalidDomain="invalid-domain",l.Success="success",(u=t.ApiShowDataTableSentinel||(t.ApiShowDataTableSentinel={})).SingleTableId="single-table-id-sentinel",u.SingleTableCaption="Single table id sentinel",(s=t.ApiShowDataTableFormat||(t.ApiShowDataTableFormat={})).NativeValuesOnly="native-values-only",s.FormattedValuesOnly="formatted-values-only",s.NativeAndFormattedValues="native-and-formatted-values",(a=t.PageSizeOption||(t.PageSizeOption={})).Letter="letter",a.Legal="legal",a.Note="note",a.Folio="folio",a.Tabloid="tabloid",a.Ledger="ledger",a.Statement="statement",a.Executive="executive",a.A3="a3",a.A4="a4",a.A5="a5",a.B4="b4",a.B5="b5",a.Quarto="quarto",a.Unspecified="unspecified",(o=t.PageOrientation||(t.PageOrientation={})).Printer="printer",o.Portrait="portrait",o.Landscape="landscape",(i=t.ScaleMode||(t.ScaleMode={})).ScaleAuto="auto",i.ScalePercentage="percent",i.ScaleFitPages="fit-pages",(n=t.PageScalingOption||(t.PageScalingOption={})).ScalePctAuto="auto",n.ScalePct400="pct400",n.ScalePct200="pct200",n.ScalePct100="pct100",n.ScalePct90="pct90",n.ScalePct80="pct80",n.ScalePct75="pct75",n.ScalePct60="pct60",n.ScalePct50="pct50",n.ScalePct25="pct25",(r=t.FitPages||(t.FitPages={})).FitOneHigh="fit0x1",r.FitTwoHigh="fit0x2",r.FitOneWide="fit1x0",r.FitTwoWide="fit2x0"},5879:function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.NotificationId||(t.NotificationId={})).CustomMarkContextMenuClicked="custom-mark-context-menu-clicked",r.ContextMenuClick="context-menu-click",r.CustomViewRemoved="custom-view-removed",r.CustomViewSaved="custom-view-saved",r.CustomViewSetDefault="custom-view-set-default",r.CustomViewsLoaded="custom-views-loaded",r.DashboardLayoutChanged="dashboard-layout-changed",r.EditButtonClicked="edit-button-clicked",r.EditInDesktopButtonClicked="edit-in-desktop-button-clicked",r.ExtensionDialogUpdate="extension-dialog-update",r.FilterChanged="filter-changed",r.FirstVizSizeKnown="first-viz-size-known",r.ParameterChanged="parameter-changed",r.SelectedMarksChanged="selected-marks-changed",r.SettingsChanged="settings-changed",r.TestConversionNotification="test-conversion-notification",r.ToolbarStateChanged="toolbar-state-changed",r.VizInteractive="viz-interactive",r.AskDataInteractive="ask-data-interactive",r.WorkbookReadyToClose="workbook-ready-to-close",r.WorkbookFormattingChanged="workbook-formatting-changed",r.WorkbookPublished="workbook-published",r.WorkbookPublishedAs="workbook-published-as",r.UrlAction="url-action",r.TabSwitched="tab-switched",r.StoryPointSwitched="story-point-switched"},5257:function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.ParameterId||(t.ParameterId={})).ActiveTablesInfo="active-tables-info",r.AnchorDate="anchor-date",r.AnnotateEnum="annotate-enum",r.AnnotationList="annotation-list",r.CategoricalDomain="categorical-domain",r.ClickThroughEnabled="click-through-enabled",r.ColumnsToInclude="columns-to-include",r.ColumnsToIncludeById="columns-to-include-by-id",r.ConnectionDescriptionSummaries="connection-description-summaries",r.CurrentSheetType="current-sheet-type",r.CustomView="custom-view",r.CustomViewIsDefault="custom-view-is-default",r.CustomViewIsPublic="custom-view-is-public",r.CustomViewLuid="custom-view-luid",r.CustomViewName="custom-view-name",r.CustomViews="custom-views",r.Dashboard="dashboard",r.DashboardFilters="dashboard-filters",r.DashboardName="dashboard",r.DashboardObjectPositionAndSizeUpdate="dashboard-object-position-and-size-update",r.DashboardObjectPositionAndSizeUpdateList="dashboard-object-position-and-size-update-list",r.DataRowIndex="data-row-index",r.DataSchema="data-schema",r.DataSource="data-source",r.DataSourceDataTable="data-source-data-table",r.DataSourceId="data-source-id",r.DataSourceName="data-source-name",r.DataTable="data-table",r.DataTableReader="data-table-reader",r.DateRangeType="date-range-type",r.DeltaTimeMs="delta-time-ms",r.DimValSelectionModels="dimensionValueSelectionModels",r.DomainType="domain-type",r.EmbeddingBootstrapInfo="embedding-bootstrap-info",r.ExportCrosstabSheetMap="export-crosstab-sheet-map",r.ExportFile="export-file",r.ExportOriginUrl="export-origin-url",r.ExportPdfOptions="export-pdf-options",r.ExtensionBootstrapInfo="extension-bootstrap-info",r.ExtensionContextMenuIds="extension-context-menu-ids",r.ExtensionDialogH="extension-dialog-height",r.ExtensionDialogPayload="extension-dialog-payload",r.ExtensionDialogResult="extension-dialog-result",r.ExtensionDialogStyle="extension-dialog-style",r.ExtensionDialogUrl="extension-dialog-url",r.ExtensionDialogW="extension-dialog-width",r.ExtensionLocator="extension-locator",r.ExtensionSettingsInfo="extension-settings-info",r.ExtensionZoneId="extension-zone-id",r.ExternalMenuDescription="external-menu-description",r.ExternalMenuHeader="external-menu-header",r.ExternalMenuItemDisplayName="external-menu-item-display-name",r.ExternalMenuItemId="external-menu-item-id",r.Field="field",r.FieldId="field-id",r.FieldName="field-name",r.FilterLevels="filter-levels",r.FilterRangeMax="filter-range-max",r.FilterRangeMin="filter-range-min",r.FilterRangeNullOption="filter-range-null-option",r.FilterUpdateType="filter-update-type",r.FilterValues="filter-values",r.FontNameListItems="font-name-list-items",r.FormattedText="formatted-text",r.FunctionName="function-name",r.HierValSelectionModels="hierarchicalValueSelectionModels",r.HighlightedData="highlighted-data",r.IgnoreAliases="ignore-aliases",r.IgnoreSelection="ignore-selection",r.IncludeAllColumns="include-all-columns",r.InvalidAggFieldName="invalid-agg-field-name",r.InvalidDates="invalid-dates",r.InvalidFieldCaption="invalid-field-caption",r.InvalidFields="invalid-fields",r.InvalidValues="invalid-values",r.IsExcludeMode="is-exclude",r.IsExtensionDialog="is-extension-dialog",r.JoinDescription="join-description",r.LogicalTableId="logical-table-id",r.LogicalTableInfoList="logical-table-info-list",r.MaxHeight="max-height",r.MaxRows="max-rows",r.MaxWidth="max-width",r.MinHeight="min-height",r.MinWidth="min-width",r.PageRowCount="page-row-count",r.ParameterCaption="paremeter-caption",r.ParameterError="parameter-error",r.ParameterFieldName="parameter-field-name",r.ParameterInfo="parameter-info",r.ParameterInfos="parameter-infos",r.ParameterValue="parameter-value",r.PeriodType="period-type",r.QuantitativeDomain="quantitative-dmain",r.QuantRangeSelectionModels="quantativeRangeSelectionModels",r.RangeN="range-n",r.ReplaySpeed="replay-speed",r.SelectedData="selected-data",r.SelectedSheetNames="selected-sheet-names",r.Selection="selection",r.SelectionList="selection-list",r.SelectionUpdateType="selectionUpdateType",r.SendNotifications="send-notifications",r.SettingsValues="settings-values",r.SharedFilterSheets="shared-filter-sheets",r.SharedFiltersInfo="shared-filters-info",r.SheetIdentifier="sheet-identifier",r.SheetName="sheet-name",r.SheetPath="sheet-path",r.ShouldRefreshDS="should-refresh-ds",r.ShowDataTableFormat="show-data-table-format",r.State="state",r.StoryPointIndex="story-point-index",r.StoryPointInfo="story-point-info",r.SwitchToSheetName="switch-to-sheet-name",r.TargetPoint="target-point",r.TestConversionParameter="test-conversion-parameter",r.Text="formatted-text",r.UnderlyingDataTable="underlying-data-table",r.UnderlyingSummaryDataTable="underlying-summary-data-table",r.Url="url",r.UseTabDelimiters="use-tab-delimiters",r.ViewDataTableCacheId="view-data-table-cache-id",r.ViewDataTableId="view-data-table-id",r.VisualId="visual-id",r.VizAPIInputJson="vizapi-input-json",r.VizAPISVG="vizapi-svg",r.WorksheetName="worksheet-name",r.WorksheetFilters="worksheet-filters",r.ZoneIdsVisibilityMap="zone-ids-visibility-map"},5681:function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.VerbId||(t.VerbId={})).ActivateNextStoryPoint="activate-next-story-point",r.ActivatePreviousStoryPoint="activate-previous-story-point",r.ActivateSheet="activateSheet",r.ActivateStoryPoint="activate-story-point",r.AppendExternalMenuItem="append-external-menu-item",r.ApplyCategoricalFilter="categorical-filter",r.ApplyRangeFilter="range-filter",r.ApplyRelativeDateFilter="apply-relative-date-Filter",r.BlockExtension="block-extension",r.ChangeParameterValue="change-parameter-value",r.ChangeSharedFilter="change-shared-filter",r.ClearFilter="clear-filter",r.ClearSelectedMarks="clear-selected-marks",r.CloseDialog="close-dialog",r.CreateAnnotation="create-annotation",r.DashboardCategoricalFilter="dashboard-categorical-filter",r.DisplayDialog="display-dialog",r.DownloadWorkbook="download-workbook",r.ExecuteExternalMenuItem="execute-external-menu-item",r.ExportCrosstab="export-crosstab",r.ExportCrosstabCsvDownload="export-crosstab-csv-download",r.ExportCrosstabExcelDownload="export-crosstab-excel-download",r.ExportData="export-data",r.ExportDataDownload="export-data-download",r.ExportImage="export-image",r.ExportPdf="export-pdf",r.ExportPdfDownload="export-pdf-download",r.ExportPowerpoint="export-powerpoint",r.ExportPowerpointDownload="export-powerpoint-download",r.FindParameter="find-parameter",r.GetActiveTables="get-active-tables",r.GetAllDataSources="get-all-data-sources",r.GetAnnotations="get-annotations",r.GetCategoricalDomain="get-categorical-domain",r.GetConnectionDescriptionSummaries="get-connection-description-summaries",r.GetCurrentSrc="get-current-src",r.GetCustomViews="get-custom-views",r.GetDashboardFilters="get-dashboard-filters",r.GetDataSource="get-datasource",r.GetDataSourceData="get-datasource-data",r.GetDataSources="get-data-sources",r.GetDataSummaryData="get-summary-data",r.GetDataSummaryDataReader="get-summary-data-reader",r.GetDataTableReaderPage="get-data-table-reader-page",r.GetEmbeddingClientInfo="get-embedding-client-info",r.GetExportCrosstabSheetMap="get-export-crosstab-sheet-map",r.GetExportPdfOptions="get-export-pdf-options",r.GetField="get-field",r.GetFieldAndDataSource="get-field-and-datasource",r.GetFilters="get-filters",r.GetFonts="get-fonts",r.GetHighlightedMarks="get-highlighted-marks",r.GetJoinDescription="get-join-description",r.GetLogicalTableData="get-logical-table-data",r.GetLogicalTableDataReader="get-logical-table-data-reader",r.GetLogicalTables="get-logical-tables",r.GetParametersForSheet="get-parameters-for-sheet",r.GetRangeDomain="get-range-domain",r.GetSelectedMarks="get-selected-marks",r.GetSharedFilter="get-shared-filter",r.GetUnderlyingData="get-underlying-data",r.GetUnderlyingTableData="get-underlying-table-data",r.GetUnderlyingTableDataReader="get-underlying-table-data-reader",r.GetUnderlyingTables="get-underlying-tables",r.HierarchicalFilter="hierachical-filter",r.InitializeExtension="initialize-extension",r.MoveAndResizeZones="move-and-resize-zones",r.Redo="redo",r.RefreshDataSource="refresh-data-source",r.ReleaseDataTableReader="release-data-table-reader",r.RemoveAnnotation="remove-annotation",r.RemoveCustomView="remove-custom-view",r.RemoveExternalMenuItem="remove-external-menu-item",r.RenameExternalMenu="rename-external-menu",r.ReplayAnimation="replay-animation",r.RevertStoryPoint="revert-story-point",r.RevertWorkbook="revert-workbook",r.SaveExtensionSettings="save-extension-settings",r.SaveWorkbookAsCustomView="save-workbook-as-custom-view",r.SelectByValue="select-by-value",r.SetActiveCustomViewAsDefault="set-active-custom-view-as-default",r.SetAutoUpdate="set-auto-update",r.SetClickThrough="set-click-through",r.SetSheetSize="set-sheet-size",r.SetZoneVisibility="set-zone-visibility",r.Share="share",r.ShowCustomView="show-custom-view",r.TestConversionVerb="test-conversion-verb",r.Undo="undo",r.UpdateCustomView="update-custom-view",r.VizAPI="viz-api"},967:function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.AskDataOptionNames||(t.AskDataOptionNames={})).token="token",r.origin="origin",r.showEmbed="showEmbed",r.showPin="showPin",r.showSave="showSave",r.showShare="showShare",r.debug=":jsdebug",r.ApiID=":apiID",r.ApiExternalVersion=":apiExternalVersion",r.ApiInternalVersion=":apiInternalVersion",r.AskDataWebComponent=":askDataWebComponent"},8075:function(e,t){var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ONE="1",e.ALERTS=":alerts",e.ALIAS="alias",e.ALLOW_DEFERRED_BOOTSTRAP=":allowDeferredBootstrap",e.ALLOW_AUTOGEN_WORKSHEET_PHONE_LAYOUTS="allowAutogenWorksheetPhoneLayouts",e.API_ID=":apiID",e.APP=":app",e.ATTACHMENT="attachment",e.IS_IPAD_APP="app",e.ANIMATE_TRANSITION=":animate_transition",e.ASCENDING="ascending",e.AUTHENTICATION="authentication",e.ATTRIBUTES="attributes",e.AUTHORING_SHEET=":authSheet",e.AXIS="axis",e.BOOTSTRAP_WHEN_NOTIFIED=":bootstrapWhenNotified",e.BROWSER_BACK_BUTTON_UNDO=":browserBackButtonUndo",e.BROWSER_RENDERING_ON="isBrowserRendering",e.BROWSER_RENDERING_THRESHOLD="browserRenderingThreshold",e.CHARSET="charset",e.CLIENT_DIMENSION="clientDimension",e.CLIENT_IP="client_ip",e.CLIENT_NUM="clientNum",e.COLON_EMBEDDED=":embedded",e.COLON_MOBILE=":mobile",e.COLON_DEEP_LINKING_DISABLED=":deepLinkingDisabled",e.COLON_WATERMARK=":watermark",e.COMMENTS=":comments",e.COMMENTING_ENABLED=":commentingEnabled",e.COMMENTING_MENTIONS_ENABLED=":commentingMentions",e.CONNECTION="connection",e.CREATED_BY_FEATURE="createdByFeature",e.CRYPTED_PASSWORD="crypted",e.CSSDEBUG=":cssdebug",e.CSV="csv",e.CUSTOM_VIEWS=":customViews",e.CV=":cv",e.CV_ID="cvId",e.DASHBOARD_PORT_SIZE="dashboardPortSize",e.DATA_DETAILS=":dataDetails",e.DATASOURCE="datasource",e.DEBUG=":debug",e.DELAY=":delay",e.DEPTH="depth",e.DEVICE_TYPE=":device",e.DEVICE_PIXEL_RATIO="devicePixelRatio",e.DEVICE_PREVIEW_MODE=":devicepreviewmode",e.DIMENSIONS=":dimensions",e.DISABLE_SHARED_SESSIONS=":disable_shared_sessions",e.DISABLE_URL_ACTIONS_POPUPS=":disableUrlActionsPopups",e.DIRECTION="direction",e.DISPLAY_OVERLAY=":display_overlay",e.DISPLAY_SHARE=":display_share",e.DISPLAY_SPINNER=":display_spinner",e.DISPLAY_STATIC_IMAGE=":display_static_image",e.DISPLAY_TABS="display_tabs",e.DISPLAY_VIEW_COUNT=":display_count",e.IGNORE_STICKY_SESSION=":ignore_sticky_session",e.INCREMENT_VIEW_COUNT=":increment_view_count",e.DOCMODE="docmode",e.DOMAIN="domain",e.DO_WORK="do_work",e.DX="dx",e.DY="dy",e.EDIT_DATA_ALERT=":editDataAlert",e.EMBED=":embed",e.EMBEDDED="embedded",e.ENCRYPTED="encrypted",e.API_EXTERNAL_VERSION=":apiExternalVersion",e.API_INTERNAL_VERSION=":apiInternalVersion",e.EXCLUDE="exclude",e.EXPORT_FORMAT=":export_format",e.FIELDNAME="fieldname",e.FIELD_NAME="field_name",e.FIELD_SEP="field_sep",e.FILE="file",e.FILTER_TILE_SIZE="filterTileSize",e.FN="fn",e.FOCUS="focus",e.FORCE_CACHE="force_cache",e.FORMAT="format",e.FORMAT_DATA_VALUE_LOCALLY="formatDataValueLocally",e.FROM_WG=":from_wg",e.GRAPHQL_DATABASE_ID=":graphQLDatabaseId",e.GRAPHQL_TABLE_ID=":graphQLTableId",e.GUID=":guid",e.H="h",e.HIDDEN="hidden",e.HIDE_CLOSE_BUTTON=":hideCloseButton",e.HIDE_EDIT_BUTTON=":hideEditButton",e.HIDE_EDIT_IN_DESKTOP_BUTTON=":hideEditInDesktopButton",e.HIGH_DPI=":highdpi",e.IMAGE_SIZE_LIMIT="imageSizeLimit",e.TRANSPARENT_LINE_MARKS_LIMIT="transparentLineMarkLimit",e.CLIENT_RENDER_PIXEL_LIMIT="clientRenderPixelLimit",e.IN="in",e.INSTANCE_ID=":iid",e.IS_GUEST_REDIRECT_FROM_VIZPORTAL=":isGuestRedirectFromVizportal",e.IS_MARK_ANIMATION_ENABLED="isMarkAnimationEnabled",e.IS_VIZPORTAL=":isVizPortal",e.INPUT_="input_string",e.JSDEBUG=":jsdebug",e.JSON="json",e.JSON_ONLY=":jsonOnly",e.KEEPFILE="keepfile",e.KEY="key",e.LANGUAGE="language",e.LANGUAGE_REQUESTED=":language",e.LINKTARGET=":linktarget",e.LOAD_ORDER_ID=":loadOrderID",e.LOAD_NEWEST_REVISION=":loadNewestRevision",e.LOCAL_PATHS=":localPaths",e.LOCALE="locale",e.LOCATION_ID="locationid",e.LOCATION_TYPE="locationtype",e.WORKBOOK_LOCALE="workbookLocale",e.MAXROWS="maxrows",e.MAX_AGE="maxAge",e.MAX_ROWS="maxRows",e.METHOD="method",e.MOBILE="mobile",e.MODIFIER="modifier",e.NAME="name",e.NAV_TYPE="navType",e.NAV_SRC="navSrc",e.NOATTACHMENT="no-attachment",e.NO_OVERWRITE="no_overwrite",e.OPEN_AUTHORING_IN_TOP_WINDOW=":openAuthoringInTopWindow",e.OPENID_HD=":openid_hd",e.OPENID_LOGIN_HINT=":openid_login_hint",e.OAUTHREQUEST="oauthrequest",e.OAUTH_CREDENTIAL_IDS="oauth_credential_ids",e.OFFLINE_MODE=":offlinemode",e.ORIGIN=":origin",e.OVERLAY=":overlay",e.P="p",e.PATH="path",e.PANE_RESOLVER_X="paneResolverX",e.PANE_RESOLVER_Y="paneResolverY",e.PARAM="param",e.PARENT_ID="parent_id",e.PASSWORD="password",e.PATTERN="pattern",e.PIXEL_RATIO=":pixelratio",e.PREFIX=":prefix",e.PREVIEW=":preview",e.PRIMARY_CONTENT_URL="primary_content_url",e.PROJECT="project",e.PROTOCOL="protocol",e.PSEUDO=":pseudo",e.QUERY="query",e.R="r",e.RANGE_TYPE="range_type",e.RECORD_SEP="record_sep",e.RECORD_CLIENT_PERFORMANCE=":record_client_performance",e.RECORD_PERFORMANCE=":record_performance",e.RECOVER_OLD_SESSION_ID=":recover_old_session_id",e.RECOVER_SESSION_STATE_TICKETS=":recover_session_state_tickets",e.REFRESH=":refresh",e.REFRESHUNMODIFIED=":refreshunmodified",e.REGION="region",e.RELOAD_ON_CUSTOM_VIEW_SAVE=":reloadOnCustomViewSave",e.RENDER=":render",e.RENDER_MAPS_CLIENT_SIDE="renderMapsClientSide",e.RETRY=":retry",e.REUSE="reuse",e.REUSE_FOREVER="reuse_forever",e.REVERT=":revert",e.SAVE_DB_PASSWORDS="save_db_passwords",e.SELECT_X="select_x",e.SELECT_Y="select_y",e.SESSION_FEATURE_PREFIX=":ff_",e.SESSION_FLAGS=":session_feature_flags",e.SHARE_BUTTON="share_button",e.SHEET_ID="sheet_id",e.SHARED="shared",e.SHOWALL="showall",e.SHOW_APP_BANNER=":showAppBanner",e.SHOW_ASK_DATA=":showAskData",e.SHOW_PARAMS="showParams",e.SHOW_SHARE_OPTIONS=":showShareOptions",e.SIZE=":size",e.SOURCE="source",e.STATE="state",e.STICKY_SESSION_KEY="stickySessionKey",e.SUBSCRIPTIONS=":subscriptions",e.SUMMARY="summary",e.SUPPRESS_DEFAULT_EDIT_BEHAVIOR=":suppressDefaultEditBehavior",e.SYNC_SESSION=":sync_session",e.SYNC_SESSION_STATE="sync_session_state",e.TABS=":tabs",e.TARGET="target",e.TARGET_SITE="target_site",e.TOOLBAR=":toolbar",e.TOOLTIP=":tooltip",e.TS="ts",e.UNDERLYING_TABLE_ID="underlying_table_id",e.UNDERLYING_TABLE_CAPTION="underlying_table_caption",e.UPDATE_TYPE="update_type",e.USE_GUEST=":useGuest",e.USE_INLINE_IMAGES="use_inline_images",e.USERAGENT="useragent",e.USERNAME="username",e.VALUE="value",e.VERBOSE_MODE="verboseMode",e.VIEW_ID="views_id",e.VIZ_SNAPSHOT_ID="viz_snapshot_id",e.VW=":vw",e.W="w",e.WORKSHEET_PORT_SIZE="worksheetPortSize",e.WATERMARK="watermark",e.WATERMARK_MARGIN=":watermark_margin",e.WB=":wb",e.WHICH="which",e.X="x",e.Y="y",e.ZID="zid",e.ZONE_ID="zone_id",e.KEYCHAIN_VERSION="keychain_version",e.DATASOURCE_ID="datasource_id",e.DATASOURCE_NAME="datasource_name",e.LENS_ID="lens_id",e.WIDTH="width",e.HEIGHT="height",e.LAYOUT_VIEWS="views",e.LAYOUT_MENUS="menus",e.LAYOUT_GEOMETRY="geometry",e.LAYOUT_PAGES="pages",e.LAYOUT_CACHEURL="cacheurl",e.LAYOUT_SHEET="sheet",e.LAYOUT_DEPTH="depth"}(r||(r={})),function(e){e.SHOW_VIZ_HOME=":showVizHome"}(n||(n={})),(i=t.VizOptionNames||(t.VizOptionNames={})).Size=":size",i.Embed=":embed",i.ApiInternalVersion=":apiInternalVersion",i.ApiExternalVersion=":apiExternalVersion",i.ShowVizHome=":showVizHome",i.Jsdebug=":jsdebug",i.BootstrapWhenNotified=":bootstrapWhenNotified",i.NavType="navType",i.NavSrc="navSrc",i.debug=":jsdebug",i.ApiID=":apiID",i.disableUrlActionsPopups=":disableUrlActionsPopups",i.hideTabs=":tabs",i.toolbar=":toolbar",i.device=":device",i.instanceIdToClone=":iid",i.touchOptimize="mobile",i.hideEditButton=":hideEditButton",i.hideEditInDesktopButton=":hideEditInDesktopButton",i.suppressDefaultEditBehavior=":suppressDefaultEditBehavior",i.hideCloseButton=":hideCloseButton"},550:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(2541),i=r(4695),o=r(3475),a=r(7443),s=r(3590),u=function(){function e(e,t,r){this.thisWindow=e,this.otherWindow=t,this.otherWindowOrigin=r}return e.prototype.startListening=function(){var e=this;if(!this.unregisterFunction){var t=this.onMessageReceived.bind(this);this.thisWindow.addEventListener("message",t,!0),this.unregisterFunction=function(){return e.thisWindow.removeEventListener("message",t,!0)}}},e.prototype.stopListening=function(){this.unregisterFunction&&(this.unregisterFunction(),this.unregisterFunction=void 0)},e.prototype.setInitializeMessageHandler=function(e){this.initializeMessageHandler=e},e.prototype.setCommandResponseMessageHandler=function(e){this.commandResponseMessageHandler=e},e.prototype.setCommandMessageHandler=function(e){this.commandMessageHandler=e},e.prototype.setNotificationMessageHandler=function(e){this.notificationMessageHandler=e},e.prototype.setHandshakeMessageHandler=function(e){this.handshakeMessageHandler=e},e.prototype.prepareInitializationMessage=function(e,t,r){var i={msgGuid:n.raw(),msgType:s.MessageType.Initialize,crossFrameVersion:t,apiVersion:e,options:r};return this.prepareMessage(i)},e.prototype.prepareCommandMessage=function(e,t){var r={msgGuid:n.raw(),msgType:s.MessageType.Command,verbId:e,parameters:t};return this.prepareMessage(r)},e.prototype.prepareCommandResponseMessage=function(e,t,r){var i={msgGuid:n.raw(),msgType:s.MessageType.CommandResponse,commandGuid:e,data:t,error:r};return r&&(i.error=JSON.parse(JSON.stringify(r))),this.prepareMessage(i)},e.prototype.prepareNotificationMessage=function(e,t){var r={msgGuid:n.raw(),msgType:s.MessageType.Notification,notificationId:e,data:t};return this.prepareMessage(r)},e.prototype.prepareAckMessage=function(){var e={msgGuid:n.raw(),msgType:s.MessageType.Ack,platformVersion:i.INTERNAL_CONTRACT_VERSION};return this.prepareMessage(e)},e.prototype.prepareMessage=function(e){if(!this.otherWindow||!this.otherWindowOrigin)throw"Other window not initialized, cannot dispatch messages";return new o.CrossFramePreparedMessage(e,this.otherWindow,this.otherWindowOrigin)},e.prototype.onMessageReceived=function(e){if((!this.otherWindow||e.source===this.otherWindow)&&e.data){var t=e.data;if(a.isMessage(t))switch(t.msgType){case s.MessageType.Initialize:if(!a.isInitMessage(t)||!this.initializeMessageHandler)return;this.initializeMessageHandler(t,e.source);break;case s.MessageType.CommandResponse:if(!a.isCommandResponseMessage(t)||!this.commandResponseMessageHandler)return;this.commandResponseMessageHandler(t,e.source);break;case s.MessageType.Command:if(!a.isCommandMessage(t)||!this.commandMessageHandler)return;this.commandMessageHandler(t,e.source);break;case s.MessageType.Notification:if(!a.isNotificationMessage(t)||!this.notificationMessageHandler)return;this.notificationMessageHandler(t,e.source);break;case s.MessageType.Handshake:if(!a.isHandshakeMessage(t)||!this.handshakeMessageHandler)return;this.handshakeMessageHandler(t,e.source)}}},e.prototype.setOtherWindow=function(e){this.otherWindow=e},e.prototype.setOtherWindowOrigin=function(e){this.otherWindowOrigin=e},e}();t.CrossFrameMessenger=u},3475:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r){this._message=e,this._target=t,this._origin=r}return Object.defineProperty(e.prototype,"messageGuid",{get:function(){return this._message.msgGuid},enumerable:!0,configurable:!0}),e.prototype.send=function(){return this._target.postMessage(this._message,this._origin),this},e}();t.CrossFramePreparedMessage=r},7443:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(2541),i=r(5879),o=r(3590),a=new Set([i.NotificationId.EditButtonClicked,i.NotificationId.EditInDesktopButtonClicked,i.NotificationId.WorkbookPublished,i.NotificationId.WorkbookReadyToClose]);function s(e){if(!e)return!1;var t=e;return!(!(t&&t.msgGuid&&t.msgType)||!n.isGuid(t.msgGuid)||"string"!=typeof t.msgType||[o.MessageType.Command,o.MessageType.CommandResponse,o.MessageType.Initialize,o.MessageType.Notification,o.MessageType.Handshake].indexOf(t.msgType)<0)}function u(e){if(!e)return!1;var t=e;return"object"==N(t)&&"number"==typeof t.fix&&"number"==typeof t.minor&&"number"==typeof t.major}t.isMessage=s,t.isVersion=u,t.isInitMessage=function(e){if(!s(e))return!1;var t=e;return!!(t.msgType===o.MessageType.Initialize&&t.apiVersion&&u(t.apiVersion)&&t.crossFrameVersion&&u(t.crossFrameVersion))},t.isCommandResponseMessage=function(e){if(!s(e))return!1;var t=e;return!(t.msgType!==o.MessageType.CommandResponse||!n.isGuid(t.commandGuid)||!t.data&&!t.error)},t.isCommandMessage=function(e){if(!s(e))return!1;var t=e;return!(t.msgType!==o.MessageType.Command||!t.parameters||"object"!=N(t.parameters)||!t.verbId||"string"!=typeof t.verbId)},t.isNotificationMessage=function(e){if(!s(e))return!1;var t=e;return!(t.msgType!==o.MessageType.Notification||!t.data&&!a.has(t.notificationId)||!t.notificationId||"string"!=typeof t.notificationId)},t.isHandshakeMessage=function(e){return!!s(e)&&e.msgType===o.MessageType.Handshake}},3590:function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.MessageType||(t.MessageType={})).Initialize="initialize",r.Notification="notification",r.Command="command",r.CommandResponse="command-response",r.Handshake="v-handshake",r.Ack="v-ack"},7104:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.upgradeExecuteCall=function(e,t){return{verb:e,parameters:t}},e.prototype.downgradeExecuteReturn=function(e){return e},e.prototype.downgradeNotification=function(e){return e},e}();t.IdentityVersionConverter=r},9415:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n,i){if(this._externalMajorVersion=e,this._platformMajorVersion=t,this._upgradeExecuteTranslations=r,this._downgradeExecuteTranslations=n,this._downgradeNotificationTranslations=i,this._externalMajorVersion>this._platformMajorVersion)throw new Error("Cannot convert between external version "+this._externalMajorVersion+" and "+this._platformMajorVersion)}return e.fromData=function(e,t,r,n,i){return new this(e.major,t.major,r,n,i)},e.prototype.upgradeExecuteCall=function(e,t){for(var r={verb:e,parameters:t},n=0,i=this._upgradeExecuteTranslations;n<i.length;n++)r=(0,i[n])(r.verb,r.parameters);return r},e.prototype.downgradeExecuteReturn=function(e){for(var t=e,r=0,n=this._downgradeExecuteTranslations;r<n.length;r++)t=(0,n[r])(t);return t},e.prototype.downgradeNotification=function(e){for(var t=e,r=0,n=this._downgradeNotificationTranslations;r<n.length;r++)t=(0,n[r])(t);return t},e}();t.StackingVersionConverter=r},9394:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(7104),i=r(9415),o=r(5039);function a(e,t){return e.major===t.major&&e.minor===t.minor}function s(e,t,r,o,s){var l=e.major,c=e.minor,d=t.major;if(l>d)throw new Error("External version must be less than or equal to platform version.\n    externalMajorVersion="+l+" platformMajorVersion="+d);if(a(e,t))return new n.IdentityVersionConverter;var p=u(l,d,c,r),f=u(l,d,c,o),h=u(l,d,c,s);return f.reverse(),h.reverse(),i.StackingVersionConverter.fromData(e,t,p,f,h)}function u(e,t,r,n){for(var i=[],o=e;o<=t;o++)if(o in n)for(var a=o===e?r:0,s=l(Object.keys(n[o])),u=a;u<=s;u++)u in n[o]&&i.push.apply(i,n[o][u]);return i}function l(e){return e.map((function(e){return Number(e)})).reduce((function(e,t){return e>t?e:t}))}t.VersionLessThan=function(e,t){return!(e.major>t.major)&&(e.major<t.major||e.minor<t.minor)},t.VersionEqualTo=a,t.ExecuteMinorUpgrades={1:{9:[]}},t.ExecuteMinorDowngrades={1:{5:[o.DowngradeWorksheetNames],9:[]}},t.NotificationMinorDowngrades={1:{9:[],10:[o.DowngradeFlipboardZoneID]}},t.CreateVersionConverter=function(e,r){return s(e,r,t.ExecuteMinorUpgrades,t.ExecuteMinorDowngrades,t.NotificationMinorDowngrades)},t.CreateVersionConverterWithTranslators=s,t.GetMaximumMinorIndex=l},5039:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(5879);t.DowngradeWorksheetNames=function(e){var t=e.result;return void 0!==t.extensionDashboardInfo&&t.extensionDashboardInfo.zones.forEach((function(e){e.sheetInfo&&(e.name=e.sheetInfo.name)})),e},t.DowngradeFlipboardZoneID=function(e){if(e.notificationId===n.NotificationId.SelectedMarksChanged){var t=e.data;void 0===t.flipboardZoneID&&(t.flipboardZoneID=0)}return e}},408:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.downgradeExecuteCall=function(e,t){return{verb:e,parameters:t}},e.prototype.upgradeExecuteReturn=function(e,t,r){return e},e.prototype.upgradeNotification=function(e){return e},e}();t.ExternalIdentityVersionConverter=r},8241:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n,i){if(this._externalVersion=e,this._platformVersion=t,this._downgradeExecuteCallTranslations=r,this._upgradeExecuteReturnTranslations=n,this._upgradeNotificationTranslations=i,this._externalVersion.major>this._platformVersion.major)throw new Error("Cannot convert between external version "+this._externalVersion.major+"\n      and "+this._platformVersion.major)}return e.prototype.downgradeExecuteCall=function(e,t){for(var r={verb:e,parameters:t},n=0,i=this._downgradeExecuteCallTranslations;n<i.length;n++)r=(0,i[n])(r.verb,r.parameters);return r},e.prototype.upgradeExecuteReturn=function(e,t,r){for(var n=e,i=0,o=this._upgradeExecuteReturnTranslations;i<o.length;i++)n=(0,o[i])(n,t,r);return n},e.prototype.upgradeNotification=function(e){for(var t=e,r=0,n=this._upgradeNotificationTranslations;r<n.length;r++)t=(0,n[r])(t);return t},e}();t.ExternalStackingVersionConverter=r},3526:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(9394),i=r(408),o=r(8241),a=r(7354);function s(e,t,r,a,s){var l=e.major,c=t.major,d=t.minor;if(l>c)throw new Error("External version must be less than or equal to platform version.\n    externalMajorVersion="+l+" platformMajorVersion="+c);if(l<c||n.VersionEqualTo(e,t))return new i.ExternalIdentityVersionConverter;var p=u(c,d,r),f=u(c,d,a),h=u(c,d,s);return p.reverse(),new o.ExternalStackingVersionConverter(e,t,p,f,h)}function u(e,t,r){var i=[];if(e in r)for(var o=t,a=n.GetMaximumMinorIndex(Object.keys(r[e])),s=o;s<=a;s++)s in r[e]&&i.push.apply(i,r[e][s]);return i}t.ExecuteMinorDowngradeCallExternal={1:{9:[],13:[a.DowngradeUnderlyingTableDataAsync,a.DowngradeLogicalTableDataAsync]}},t.ExecuteMinorUpgradeReturnExternal={1:{9:[a.UpgradeDataTableTypes],29:[a.UpgradeDataTableRowsAndColumns]}},t.ExecuteMinorUpgradeNotification={1:{9:[]}},t.CreateExternalCompatibleVersionConverter=function(e,r){return s(e,r,t.ExecuteMinorDowngradeCallExternal,t.ExecuteMinorUpgradeReturnExternal,t.ExecuteMinorUpgradeNotification)},t.CreateExternalCompatibleVersionConverterWithTranslators=s},7354:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(4695);function i(e){void 0!==e&&void 0!==e.dataTable&&Array.isArray(e.dataTable)&&e.dataTable.forEach((function(t){t.forEach((function(t,r){var i=t.value;null!==i&&(t.value=n.DataTypeConverter.convertValueAsStringToValue(i,e.headers[r].dataType))}))}))}function o(e,t){if(t[n.ParameterId.LogicalTableId]!==n.ApiShowDataTableSentinel.SingleTableId)throw new Error("Invalid logical table id passed to "+e+".")}t.UpgradeDataTableTypes=function(e,t,r){if(!e)return e;var n=e.result;if(void 0!==n.data&&void 0!==n.isSummary)return i(n.data),e;var o=e.result;return void 0!==o.data&&Array.isArray(o.data)?(o.data.forEach((function(e){i(e)})),e):e},t.DowngradeUnderlyingTableDataAsync=function(e,t){return e===n.VerbId.GetUnderlyingTableData&&(o(e,t),e=n.VerbId.GetUnderlyingData),{verb:e,parameters:t}},t.DowngradeLogicalTableDataAsync=function(e,t){return e===n.VerbId.GetLogicalTableData&&(o(e,t),e=n.VerbId.GetDataSourceData),{verb:e,parameters:t}},t.UpgradeDataTableRowsAndColumns=function(e,t,r){return function(e){return e===n.VerbId.GetDataSummaryData}(t)&&r[n.ParameterId.MaxRows]&&(e=function(e,t){var r=e.result;return r.data&&Array.isArray(r.data.dataTable)?(t>0&&t<r.data.dataTable.length&&(r.data.dataTable.length=t),e):e}(e,r[n.ParameterId.MaxRows])),function(e){return e===n.VerbId.GetDataSummaryData||e===n.VerbId.GetUnderlyingTableData||e===n.VerbId.GetLogicalTableData||e===n.VerbId.GetDataSourceData||e===n.VerbId.GetUnderlyingData}(t)&&r[n.ParameterId.ColumnsToIncludeById]&&(e=function(e,t){if(0===t.length)return e;var r=e.result;if(!r.data||!Array.isArray(r.data.dataTable)||!Array.isArray(r.data.headers))return e;var n=r.data.headers.filter((function(e,r){return t.find((function(t){return t===e.fieldName}))}));r.data.dataTable.forEach((function(e,t){r.data.dataTable[t]=e.filter((function(e,t){return-1!==n.findIndex((function(e){return e.index===t}))}))}));var i=0;return r.data.headers=n.map((function(e){return e.index=i++,e})),e}(e,r[n.ParameterId.ColumnsToIncludeById])),e}},4007:function(e,t,r){function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});var i=r(8395);t.ApiVersion=i.ApiVersion;var o=r(2336);t.ExternalToInternalEnumMappings=o.ExternalToInternalEnumMappings,n(r(241));var a=r(8024);t.CrossFrameDispatcher=a.CrossFrameDispatcher;var s=r(6411);t.DataSource=s.DataSource;var u=r(5126);t.InternalToExternalEnumMappings=u.InternalToExternalEnumMappings;var l=r(3682);t.EventListenerManager=l.EventListenerManager;var c=r(2131);t.Field=c.Field;var d=r(2913);t.CustomViewImpl=d.CustomViewImpl;var p=r(4657);t.DashboardImpl=p.DashboardImpl;var f=r(3333);t.DashboardObjectImpl=f.DashboardObjectImpl;var h=r(1234);t.DataSourceImpl=h.DataSourceImpl;var m=r(6560);t.ParameterImpl=m.ParameterImpl;var y=r(1878);t.SheetImpl=y.SheetImpl;var v=r(6749);t.SheetInfoImpl=v.SheetInfoImpl;var g=r(4217);t.SingleEventManagerImpl=g.SingleEventManagerImpl;var b=r(8194);t.StoryImpl=b.StoryImpl;var w=r(757);t.StoryPointImpl=w.StoryPointImpl;var _=r(8519);t.StoryPointInfoImpl=_.StoryPointInfoImpl;var S=r(3826);t.WorkbookImpl=S.WorkbookImpl;var I=r(928);t.WorksheetImpl=I.WorksheetImpl;var T=r(2391);t.Point=T.Point;var P=r(6292);t.ClientInfoServiceImpl=P.ClientInfoServiceImpl;var A=r(2294);t.NotificationServiceImpl=A.NotificationServiceImpl;var k=r(333);t.NotificationServiceImplBase=k.NotificationServiceImplBase,t.Registration=k.Registration;var E=r(1167);t.ServiceImplBase=E.ServiceImplBase;var D=r(8226);t.SizeServiceImpl=D.SizeServiceImpl;var C=r(2812);t.StoryActivationServiceImpl=C.StoryActivationServiceImpl,n(r(7458)),n(r(9887));var x=r(1554);t.TableauError=x.TableauError;var O=r(9685);t.Deferred=O.Deferred;var M=r(316);t.ErrorHelpers=M.ErrorHelpers;var N=r(2561);t.ExportHelpers=N.ExportHelpers;var F=r(489);t.SheetUtils=F.SheetUtils;var V=r(6081);t.VersionNumber=V.VersionNumber;var R=r(107);t.VersionedExternalApiDispatcher=R.VersionedExternalApiDispatcher},8395:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(6081),i=function(){function e(){}return Object.defineProperty(e,"Instance",{get:function(){return e._instance},enumerable:!0,configurable:!0}),e.SetVersionNumber=function(t,r){e._instance=new n.VersionNumber(t,r)},e}();t.ApiVersion=i},5458:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._connectionInfo=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this._connectionInfo.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._connectionInfo.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverURI",{get:function(){return this._connectionInfo.serverURI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._connectionInfo.type},enumerable:!0,configurable:!0}),e}();t.ConnectionSummary=r},241:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(4695),i=r(8024);t.doCrossFrameBootstrap=function(e,t,r){return new Promise((function(o,a){var s;(s=function(e){try{return e.self!==e.parent}catch(e){return!0}}(e)?e.parent:e.opener)||a("This extension is not running inside an iframe, desktop, or popup window. Initialization failed.");var u=new n.CrossFrameMessenger(e,s,"*"),l=u.prepareInitializationMessage(t,n.MESSAGING_VERSION,r);u.setCommandResponseMessageHandler((function(e){e.commandGuid===l.messageGuid&&o((function(){return new i.CrossFrameDispatcher(u)}))})),u.startListening(),l.send()}))}},8024:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1750),i=function(){function e(e){if(this._messenger=e,this._pendingPromises={},this._notificationHandlers=[],!this._messenger)throw"Missing messenger object";this._messenger.setCommandResponseMessageHandler(this.onCommandResponse.bind(this)),this._messenger.setNotificationMessageHandler(this.onNotification.bind(this))}return e.prototype.execute=function(e,t){var r=this,n=this._messenger.prepareCommandMessage(e,t),i=new Promise((function(e,t){r._pendingPromises[n.messageGuid]={resolve:e,reject:t}}));return n.send(),i},e.prototype.registerNotificationHandler=function(e){this._notificationHandlers.push(e)},e.prototype.unregisterNotificationHandler=function(e){this._notificationHandlers=this._notificationHandlers.filter((function(t){return t!==e}))},e.prototype.onCommandResponse=function(e){if(!(Object.keys(this._pendingPromises).indexOf(e.commandGuid)<0)){var t=this._pendingPromises[e.commandGuid];e.error&&t.reject(e.error),e.data&&t.resolve({result:e.data}),delete this._pendingPromises[e.commandGuid]}},e.prototype.onNotification=function(e){for(var t=0,r=this._notificationHandlers;t<r.length;t++){var i=r[t];try{i({notificationId:e.notificationId,data:e.data})}catch(e){if(e.errorCode===n.EmbeddingErrorCodes.IncompatibleVersionError)throw e}}},e}();t.CrossFrameDispatcher=i},6411:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._dataSourceImpl=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this._dataSourceImpl.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._dataSourceImpl.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fields",{get:function(){return this._dataSourceImpl.fields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extractUpdateTime",{get:function(){return this._dataSourceImpl.extractUpdateTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExtract",{get:function(){return this._dataSourceImpl.isExtract},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPublished",{get:function(){return this._dataSourceImpl.isPublished},enumerable:!0,configurable:!0}),e.prototype.publishedUrl=function(){return this._dataSourceImpl.publishedUrl()},e.prototype.refreshAsync=function(){return this._dataSourceImpl.refreshAsync()},e.prototype.getActiveTablesAsync=function(){return console.warn("DataSource.getActiveTablesAsync is deprecated. Please use DataSource.getLogicalTablesAsync."),this._dataSourceImpl.getActiveTablesAsync()},e.prototype.getConnectionSummariesAsync=function(){return this._dataSourceImpl.getConnectionSummariesAsync()},e.prototype.getUnderlyingDataAsync=function(e){return console.warn("DataSource.getUnderlyingDataAsync is deprecated. Please use DataSource.getLogicalTablesAsync and DataSource.getLogicalTableDataAsync."),this._dataSourceImpl.getUnderlyingDataAsync(e)},e.prototype.getLogicalTablesAsync=function(){return this._dataSourceImpl.getLogicalTablesAsync()},e.prototype.getLogicalTableDataAsync=function(e,t){return this._dataSourceImpl.getLogicalTableDataAsync(e,t)},e.prototype.getLogicalTableDataReaderAsync=function(e,t,r){return this._dataSourceImpl.getLogicalTableDataReaderAsync(e,t,r)},e}();t.DataSource=r},2336:function(e,t,r){var n,i,o,a,s,u,l,c,d,p;Object.defineProperty(t,"__esModule",{value:!0});var f=r(1750),h=r(4695),m=r(4406),y=function(){function e(){}return e.filterDomainType=new m.EnumConverter(((n={})[f.FilterDomainType.Relevant]=h.FilterDomainType.Relevant,n[f.FilterDomainType.Database]=h.FilterDomainType.Database,n)),e.nullOptions=new m.EnumConverter(((i={})[f.FilterNullOption.AllValues]=h.FilterNullOption.AllValues,i[f.FilterNullOption.NonNullValues]=h.FilterNullOption.NonNullValues,i[f.FilterNullOption.NullValues]=h.FilterNullOption.NullValues,i)),e.filterUpdateType=new m.EnumConverter(((o={})[f.FilterUpdateType.Add]=h.FilterUpdateType.Add,o[f.FilterUpdateType.All]=h.FilterUpdateType.All,o[f.FilterUpdateType.Remove]=h.FilterUpdateType.Remove,o[f.FilterUpdateType.Replace]=h.FilterUpdateType.Replace,o)),e.setVisibilityType=new m.EnumConverter(((a={})[f.ZoneVisibilityType.Show]=!0,a[f.ZoneVisibilityType.Hide]=!1,a)),e.setReplaySpeedType=new m.EnumConverter(((s={})[f.ReplaySpeedType.Slow]=2,s[f.ReplaySpeedType.Normal]=1,s[f.ReplaySpeedType.Fast]=.5,s)),e.sheetType=new m.EnumConverter(((u={})[f.SheetType.Dashboard]=h.SheetType.Dashboard,u[f.SheetType.Worksheet]=h.SheetType.Worksheet,u[f.SheetType.Story]=h.SheetType.Story,u)),e.showDataTableFormatType=new m.EnumConverter(((l={})[f.IncludeDataValuesOption.AllValues]=h.ApiShowDataTableFormat.NativeAndFormattedValues,l[f.IncludeDataValuesOption.OnlyNativeValues]=h.ApiShowDataTableFormat.NativeValuesOnly,l[f.IncludeDataValuesOption.OnlyFormattedValues]=h.ApiShowDataTableFormat.FormattedValuesOnly,l)),e.periodType=new m.EnumConverter(((c={})[f.PeriodType.Years]=h.DateStepPeriod.Years,c[f.PeriodType.Quarters]=h.DateStepPeriod.Quarters,c[f.PeriodType.Months]=h.DateStepPeriod.Months,c[f.PeriodType.Weeks]=h.DateStepPeriod.Weeks,c[f.PeriodType.Days]=h.DateStepPeriod.Days,c[f.PeriodType.Hours]=h.DateStepPeriod.Hours,c[f.PeriodType.Minutes]=h.DateStepPeriod.Minutes,c[f.PeriodType.Seconds]=h.DateStepPeriod.Seconds,c)),e.dateRangeType=new m.EnumConverter(((d={})[f.DateRangeType.Last]=h.DateRangeType.Last,d[f.DateRangeType.LastN]=h.DateRangeType.LastN,d[f.DateRangeType.Next]=h.DateRangeType.Next,d[f.DateRangeType.NextN]=h.DateRangeType.NextN,d[f.DateRangeType.Current]=h.DateRangeType.Current,d[f.DateRangeType.ToDate]=h.DateRangeType.ToDate,d)),e.dialogStyles=new m.EnumConverter(((p={})[f.DialogStyle.Window]=h.DialogStyle.Window,p[f.DialogStyle.Modal]=h.DialogStyle.Modal,p[f.DialogStyle.Modeless]=h.DialogStyle.Modeless,p)),e}();t.ExternalToInternalEnumMappings=y},5126:function(e,t,r){var n,i,o,a,s,u,l,c,d,p,f,h,m,y,v,g,b;Object.defineProperty(t,"__esModule",{value:!0});var w=r(1750),_=r(4695),S=r(4406),I=function(){function e(){}return e.extensionContext=new S.EnumConverter(((n={})[_.ExtensionContext.Desktop]=w.ExtensionContext.Desktop,n[_.ExtensionContext.Server]=w.ExtensionContext.Server,n)),e.extensionMode=new S.EnumConverter(((i={})[_.ExtensionMode.Authoring]=w.ExtensionMode.Authoring,i[_.ExtensionMode.Viewing]=w.ExtensionMode.Viewing,i)),e.columnType=new S.EnumConverter(((o={})[_.ColumnType.Continuous]=w.ColumnType.Continuous,o[_.ColumnType.Discrete]=w.ColumnType.Discrete,o)),e.fieldAggregationType=new S.EnumConverter(((a={})[_.FieldAggregationType.Attr]=w.FieldAggregationType.Attr,a[_.FieldAggregationType.Avg]=w.FieldAggregationType.Avg,a[_.FieldAggregationType.Collect]=w.FieldAggregationType.Collect,a[_.FieldAggregationType.Count]=w.FieldAggregationType.Count,a[_.FieldAggregationType.Countd]=w.FieldAggregationType.Countd,a[_.FieldAggregationType.Day]=w.FieldAggregationType.Day,a[_.FieldAggregationType.End]=w.FieldAggregationType.End,a[_.FieldAggregationType.Hour]=w.FieldAggregationType.Hour,a[_.FieldAggregationType.InOut]=w.FieldAggregationType.InOut,a[_.FieldAggregationType.Kurtosis]=w.FieldAggregationType.Kurtosis,a[_.FieldAggregationType.Max]=w.FieldAggregationType.Max,a[_.FieldAggregationType.Mdy]=w.FieldAggregationType.Mdy,a[_.FieldAggregationType.Median]=w.FieldAggregationType.Median,a[_.FieldAggregationType.Min]=w.FieldAggregationType.Min,a[_.FieldAggregationType.Minute]=w.FieldAggregationType.Minute,a[_.FieldAggregationType.MonthYear]=w.FieldAggregationType.MonthYear,a[_.FieldAggregationType.None]=w.FieldAggregationType.None,a[_.FieldAggregationType.Qtr]=w.FieldAggregationType.Qtr,a[_.FieldAggregationType.Quart1]=w.FieldAggregationType.Quart1,a[_.FieldAggregationType.Quart3]=w.FieldAggregationType.Quart3,a[_.FieldAggregationType.Second]=w.FieldAggregationType.Second,a[_.FieldAggregationType.Skewness]=w.FieldAggregationType.Skewness,a[_.FieldAggregationType.Stdev]=w.FieldAggregationType.Stdev,a[_.FieldAggregationType.Stdevp]=w.FieldAggregationType.Stdevp,a[_.FieldAggregationType.Sum]=w.FieldAggregationType.Sum,a[_.FieldAggregationType.TruncDay]=w.FieldAggregationType.TruncDay,a[_.FieldAggregationType.TruncHour]=w.FieldAggregationType.TruncHour,a[_.FieldAggregationType.TruncMinute]=w.FieldAggregationType.TruncMinute,a[_.FieldAggregationType.TruncMonth]=w.FieldAggregationType.TruncMonth,a[_.FieldAggregationType.TruncQtr]=w.FieldAggregationType.TruncQtr,a[_.FieldAggregationType.TruncSecond]=w.FieldAggregationType.TruncSecond,a[_.FieldAggregationType.TruncWeek]=w.FieldAggregationType.TruncWeek,a[_.FieldAggregationType.TruncYear]=w.FieldAggregationType.TruncYear,a[_.FieldAggregationType.User]=w.FieldAggregationType.User,a[_.FieldAggregationType.Var]=w.FieldAggregationType.Var,a[_.FieldAggregationType.Varp]=w.FieldAggregationType.Varp,a[_.FieldAggregationType.Week]=w.FieldAggregationType.Week,a[_.FieldAggregationType.Weekday]=w.FieldAggregationType.Weekday,a[_.FieldAggregationType.Year]=w.FieldAggregationType.Year,a)),e.fieldRoleType=new S.EnumConverter(((s={})[_.FieldRoleType.Dimension]=w.FieldRoleType.Dimension,s[_.FieldRoleType.Measure]=w.FieldRoleType.Measure,s[_.FieldRoleType.Unknown]=w.FieldRoleType.Unknown,s)),e.sheetType=new S.EnumConverter(((u={})[_.SheetType.Dashboard]=w.SheetType.Dashboard,u[_.SheetType.Story]=w.SheetType.Story,u[_.SheetType.Worksheet]=w.SheetType.Worksheet,u)),e.dashboardObjectType=new S.EnumConverter(((l={})[_.DashboardObjectType.Extension]=w.DashboardObjectType.Extension,l[_.DashboardObjectType.Blank]=w.DashboardObjectType.Blank,l[_.DashboardObjectType.Image]=w.DashboardObjectType.Image,l[_.DashboardObjectType.Legend]=w.DashboardObjectType.Legend,l[_.DashboardObjectType.PageFilter]=w.DashboardObjectType.PageFilter,l[_.DashboardObjectType.ParameterControl]=w.DashboardObjectType.ParameterControl,l[_.DashboardObjectType.QuickFilter]=w.DashboardObjectType.QuickFilter,l[_.DashboardObjectType.Text]=w.DashboardObjectType.Text,l[_.DashboardObjectType.Title]=w.DashboardObjectType.Title,l[_.DashboardObjectType.WebPage]=w.DashboardObjectType.WebPage,l[_.DashboardObjectType.Worksheet]=w.DashboardObjectType.Worksheet,l)),e.dataType=new S.EnumConverter(((c={})[_.DataType.Bool]=w.DataType.Bool,c[_.DataType.Date]=w.DataType.Date,c[_.DataType.DateTime]=w.DataType.DateTime,c[_.DataType.Float]=w.DataType.Float,c[_.DataType.Int]=w.DataType.Int,c[_.DataType.String]=w.DataType.String,c)),e.filterUpdateType=new S.EnumConverter(((d={})[_.FilterUpdateType.Add]=w.FilterUpdateType.Add,d[_.FilterUpdateType.All]=w.FilterUpdateType.All,d[_.FilterUpdateType.Remove]=w.FilterUpdateType.Remove,d[_.FilterUpdateType.Replace]=w.FilterUpdateType.Replace,d)),e.allowableValues=new S.EnumConverter(((p={})[_.DomainRestrictionType.All]=w.ParameterValueType.All,p[_.DomainRestrictionType.List]=w.ParameterValueType.List,p[_.DomainRestrictionType.Range]=w.ParameterValueType.Range,p)),e.dateStepPeriod=new S.EnumConverter(((f={})[_.DateStepPeriod.Years]=w.PeriodType.Years,f[_.DateStepPeriod.Quarters]=w.PeriodType.Quarters,f[_.DateStepPeriod.Months]=w.PeriodType.Months,f[_.DateStepPeriod.Weeks]=w.PeriodType.Weeks,f[_.DateStepPeriod.Days]=w.PeriodType.Days,f[_.DateStepPeriod.Hours]=w.PeriodType.Hours,f[_.DateStepPeriod.Minutes]=w.PeriodType.Minutes,f[_.DateStepPeriod.Seconds]=w.PeriodType.Seconds,f)),e.dateRangeType=new S.EnumConverter(((h={})[_.DateRangeType.Current]=w.DateRangeType.Current,h[_.DateRangeType.Last]=w.DateRangeType.Last,h[_.DateRangeType.LastN]=w.DateRangeType.LastN,h[_.DateRangeType.Next]=w.DateRangeType.Next,h[_.DateRangeType.NextN]=w.DateRangeType.NextN,h[_.DateRangeType.ToDate]=w.DateRangeType.ToDate,h)),e.errorCode=new S.EnumConverter(((m={})[_.ErrorCodes.INITIALIZATION_ERROR]=w.ErrorCodes.InternalError,m[_.ErrorCodes.INTERNAL_ERROR]=w.ErrorCodes.InternalError,m[_.ErrorCodes.MISSING_ENUM_MAPPING]=w.ErrorCodes.InternalError,m[_.ErrorCodes.MISSING_PARAMETER]=w.ErrorCodes.InternalError,m[_.ErrorCodes.PERMISSION_DENIED]=w.ErrorCodes.InternalError,m[_.ErrorCodes.PRES_MODEL_PARSING_ERROR]=w.ErrorCodes.InternalError,m[_.ErrorCodes.UNKNOWN_VERB_ID]=w.ErrorCodes.InternalError,m[_.ErrorCodes.VERSION_NOT_CONFIGURED]=w.ErrorCodes.APINotInitialized,m[_.ErrorCodes.VISIBILITY_ERROR]=w.ErrorCodes.VisibilityError,m),w.ErrorCodes.InternalError),e.filterType=new S.EnumConverter(((y={})[_.FilterType.Categorical]=w.FilterType.Categorical,y[_.FilterType.Range]=w.FilterType.Range,y[_.FilterType.RelativeDate]=w.FilterType.RelativeDate,y[_.FilterType.Hierarchical]=w.FilterType.Hierarchical,y)),e.classNameKey=new S.EnumConverter(((v={})["tableau-dashboard-title"]=w.ClassNameKey.DashboardTitle,v["tableau-story-title"]=w.ClassNameKey.StoryTitle,v["tableau-tooltip"]=w.ClassNameKey.Tooltip,v["tableau-worksheet"]=w.ClassNameKey.Worksheet,v["tableau-worksheet-title"]=w.ClassNameKey.WorksheetTitle,v["dashboard-title"]=w.ClassNameKey.DashboardTitle,v["story-title"]=w.ClassNameKey.StoryTitle,v.tooltip=w.ClassNameKey.Tooltip,v.worksheet=w.ClassNameKey.Worksheet,v["worksheet-title"]=w.ClassNameKey.WorksheetTitle,v)),e.hierarchicalLevelSelectionState=new S.EnumConverter(((g={})[_.HierarchicalLevelSelectionState.AllSelected]=w.HierarchicalLevelSelectionState.AllSelected,g[_.HierarchicalLevelSelectionState.NoneSelected]=w.HierarchicalLevelSelectionState.NoneSelected,g[_.HierarchicalLevelSelectionState.SomeSelected]=w.HierarchicalLevelSelectionState.SomeSelected,g[_.HierarchicalLevelSelectionState.UnknownSelected]=w.HierarchicalLevelSelectionState.UnknownSelected,g)),e.annotationType=new S.EnumConverter(((b={})[_.AnnotateEnum.Area]=w.AnnotationType.Area,b[_.AnnotateEnum.Mark]=w.AnnotationType.Mark,b[_.AnnotateEnum.Point]=w.AnnotationType.Point,b)),e}();t.InternalToExternalEnumMappings=I},3682:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1750),i=r(1554),o=function(){function e(){this._eventListenerManagers={}}return e.prototype.addEventListener=function(e,t){if(!this._eventListenerManagers.hasOwnProperty(e))throw new i.TableauError(n.ErrorCodes.UnsupportedEventName,"Cannot add event, unsupported event type: "+e);return this._eventListenerManagers[e].addEventListener(t)},e.prototype.removeEventListener=function(e,t){if(!this._eventListenerManagers.hasOwnProperty(e))throw new i.TableauError(n.ErrorCodes.UnsupportedEventName,"Cannot remove event, unsupported event type: "+e);return this._eventListenerManagers[e].removeEventListener(t)},e.prototype.addNewEventType=function(e){this._eventListenerManagers[e.eventType]=e},e}();t.EventListenerManager=o},2131:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(316),i=function(){function e(e){this._fieldImpl=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this._fieldImpl.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._fieldImpl.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this._fieldImpl.description},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aggregation",{get:function(){return this._fieldImpl.aggregation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._fieldImpl.dataSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"role",{get:function(){return this._fieldImpl.role},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHidden",{get:function(){return this._fieldImpl.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isGenerated",{get:function(){return this._fieldImpl.isGenerated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCalculatedField",{get:function(){return this._fieldImpl.isCalculatedField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnType",{get:function(){throw n.ErrorHelpers.apiNotImplemented("Field.columnType")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCombinedField",{get:function(){return this._fieldImpl.isCombinedField},enumerable:!0,configurable:!0}),e}();t.Field=i},2913:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(4007),i=function(){function e(e,t){this._registryId=t,this._luid=e.luid,this._name=e.name,this._shared=e.shared,this._isDefault=e.isDefault,this._ownerName=e.owner.userFriendlyName,this._url=e.url}return Object.defineProperty(e.prototype,"luid",{get:function(){return this._luid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shared",{get:function(){return this._shared},set:function(e){this._shared=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDefault",{get:function(){return this._isDefault},set:function(e){this._isDefault=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ownerName",{get:function(){return this._ownerName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),e.prototype.saveAsync=function(){return n.ApiServiceRegistry.get(this._registryId).getService("viz-service").saveAsync(this)},e}();t.CustomViewImpl=i},4657:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(1750),a=r(1750),s=r(4695),u=r(5126),l=r(2391),c=r(9887),d=r(1554),p=r(316),f=r(3333),h=r(1878),m=r(6749),y=r(928),v=function(e){function t(t,r,n,i,o){var a=e.call(this,t,i)||this;return a._zones=r,a._sheetPath=n,a._parentStoryPointImpl=o,a}return i(t,e),Object.defineProperty(t.prototype,"worksheetsImpl",{get:function(){return this._worksheetsImpl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"objects",{get:function(){return this._objects},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentStoryPoint",{get:function(){return this._parentStoryPointImpl},enumerable:!0,configurable:!0}),t.prototype.initializeWithPublicInterfaces=function(){this._worksheetsImpl=new Array,this._objects=new Array,this.zoneMap=new Map;for(var e=0,t=this._zones;e<t.length;e++){var r=t[e],n=void 0,i={width:r.width,height:r.height};if(r.zoneType===s.DashboardObjectType.Worksheet){var o="",c="",d=!1;r.sheetInfo?(o=r.sheetInfo.name,d=""===(c=r.sheetInfo.url||"")):o=r.name;var p=new m.SheetInfoImpl(o,a.SheetType.Worksheet,i,this._worksheetsImpl.length,!1,d,c),h={worksheet:o,dashboard:this._sheetInfoImpl.name,storyboard:this._sheetPath.storyboard,flipboardZoneID:this._sheetPath.flipboardZoneID,storyPointID:this._sheetPath.storyPointID};n=new y.WorksheetImpl(p,this._registryId,h,this,this._parentStoryPointImpl),this._worksheetsImpl.push(n)}var v=new l.Point(r.x,r.y),g=new f.DashboardObjectImpl(this,u.InternalToExternalEnumMappings.dashboardObjectType.convert(r.zoneType),v,i,n,r.name,void 0!==r.isFloating&&r.isFloating,void 0===r.isVisible||r.isVisible,r.zoneId);this._objects.push(g),this.zoneMap.set(r.zoneId,g)}},t.prototype.setDashboardObjectVisibilityAsync=function(e){return c.ApiServiceRegistry.get(this._registryId).getService("zone-service").setVisibilityAsync(this.name,this.zoneMap,e)},t.prototype.getDashboardObjectById=function(e){return this.zoneMap.get(e)},t.prototype.updateZones=function(e){var t=this,r=this._objects,n=this.zoneMap;this._zones=e,this.initializeWithPublicInterfaces();var i=this._objects,o=this.zoneMap,s=new Map;return r.forEach((function(e){var r=e.id;if(o.has(r)){var n=o.get(r);e.isFloating!==n.isFloating&&t.addChange(r,s,a.DashboardLayoutChange.IsFloatingChanged),e.isVisible!==n.isVisible&&t.addChange(r,s,a.DashboardLayoutChange.IsVisibleChanged),e.name!==n.name&&t.addChange(r,s,a.DashboardLayoutChange.NameChanged),e.position.x===n.position.x&&e.position.y===n.position.y||t.addChange(r,s,a.DashboardLayoutChange.PositionChanged),e.size.width===n.size.width&&e.size.height===n.size.height||t.addChange(r,s,a.DashboardLayoutChange.SizeChanged)}else t.addChange(r,s,a.DashboardLayoutChange.Removed)})),i.forEach((function(e){n.has(e.id)||t.addChange(e.id,s,a.DashboardLayoutChange.Added)})),s},t.prototype.addChange=function(e,t,r){t.has(e)||t.set(e,[]),t.get(e).push(r)},t.prototype.moveAndResizeDashboardObjectsAsync=function(e){return c.ApiServiceRegistry.get(this._registryId).getService("zone-service").moveAndResizeAsync(this.name,this.zoneMap,e)},t.prototype.replayAnimationAsync=function(e){return c.ApiServiceRegistry.get(this._registryId).getService("animation-service").replayAsync(e)},t.prototype.getFiltersAsync=function(){return this.verifyActiveSheetOrEmbeddedInActiveStoryPoint(),c.ApiServiceRegistry.get(this._registryId).getService("filter-service").getDashboardFiltersAsync()},t.prototype.applyFilterAsync=function(e,t,r,n){if(p.ErrorHelpers.verifyEnumValue(r,o.FilterUpdateType,"FilterUpdateType"),p.ErrorHelpers.verifyStringParameter(e,"fieldName"),!Array.isArray(t))throw new d.TableauError(a.ErrorCodes.InvalidParameter,"values parameter for applyDashboardFilterAsync must be an array");return this.verifyActiveSheetOrEmbeddedInActiveStoryPoint(),c.ApiServiceRegistry.get(this._registryId).getService("filter-service").applyDashboardFilterAsync(e,t,r,n)},t.prototype.getWorksheetNamesFromZones=function(){for(var e=[],t=0,r=this._zones;t<r.length;t++){var n=r[t];if(n.zoneType===s.DashboardObjectType.Worksheet){var i=n.sheetInfo?n.sheetInfo.name:n.name;e.push(i)}}return e},t.prototype.verifyActiveSheetOrEmbeddedInActiveStoryPoint=function(){var e=this.active,t=null!=this.parentStoryPoint&&this.parentStoryPoint.active;if(!e&&!t)throw new d.TableauError(a.SharedErrorCodes.NotActiveSheet,"Operation not allowed on non-active sheet")},t}(h.SheetImpl);t.DashboardImpl=v},3333:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n,i,o,a,s,u){this._dashboardImpl=e,this._type=t,this._position=r,this._size=n,this._worksheetImpl=i,this._name=o,this._isFloating=a,this._isVisible=s,this._id=u}return Object.defineProperty(e.prototype,"dashboardImpl",{get:function(){return this._dashboardImpl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._position},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"worksheetImpl",{get:function(){return this._worksheetImpl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFloating",{get:function(){return this._isFloating},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._isVisible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e}();t.DashboardObjectImpl=r},1234:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1750),i=r(5458),o=r(2131),a=r(1110),s=r(9887),u=r(1738),l=r(316),c=r(8695),d=function(){function e(e,t){var r=this;this._dataSourceInfo=e,this._registryId=t,this._fields=e.fields.map((function(e){var t=new c.FieldImpl(e,r);return new o.Field(t)}))}return Object.defineProperty(e.prototype,"name",{get:function(){return this._dataSourceInfo.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._dataSourceInfo.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extractUpdateTime",{get:function(){return this._dataSourceInfo.extractUpdateTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExtract",{get:function(){return this._dataSourceInfo.isExtract},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPublished",{get:function(){return this._dataSourceInfo.isPublished},enumerable:!0,configurable:!0}),e.prototype.publishedUrl=function(){return this._dataSourceInfo.publishedUrl},e.prototype.getMaxPageRowLimit=function(){return 1e4},e.prototype.refreshAsync=function(){return s.ApiServiceRegistry.get(this._registryId).getService("data-source-service").refreshAsync(this._dataSourceInfo.id)},e.prototype.getConnectionSummariesAsync=function(){return s.ApiServiceRegistry.get(this._registryId).getService("data-source-service").getConnectionSummariesAsync(this._dataSourceInfo.id).then((function(e){return e.map((function(e){return new i.ConnectionSummary(e)}))}))},e.prototype.getActiveTablesAsync=function(){return s.ApiServiceRegistry.get(this._registryId).getService("data-source-service").getActiveTablesAsync(this._dataSourceInfo.id).then((function(e){return e.map((function(e){return new u.TableSummary(e)}))}))},e.prototype.getUnderlyingDataAsync=function(e){return e=e||{},s.ApiServiceRegistry.get(this._registryId).getService("get-data-service").getDataSourceDataAsync(this.id,!!e.ignoreAliases,e.maxRows||0,e.columnsToInclude||[],e.columnsToIncludeById||[],e.includeDataValuesOption||n.IncludeDataValuesOption.AllValues)},e.prototype.getLogicalTableDataAsync=function(e,t){return t=t||{},s.ApiServiceRegistry.get(this._registryId).getService("get-data-service").getLogicalTableDataAsync(this.id,e,!!t.ignoreAliases,t.maxRows||0,t.columnsToInclude||[],t.columnsToIncludeById||[],t.includeDataValuesOption||n.IncludeDataValuesOption.AllValues)},e.prototype.getLogicalTableDataReaderAsync=function(e,t,r){return r=r||{},s.ApiServiceRegistry.get(this._registryId).getService("get-data-service").getLogicalTableDataReaderAsync(this.id,e,t||this.getMaxPageRowLimit(),!!r.ignoreAliases,r.columnsToIncludeById||[],r.includeDataValuesOption||n.IncludeDataValuesOption.AllValues)},e.prototype.initializeWithPublicInterfaces=function(e){l.ErrorHelpers.verifyInternalValue(e,"dataSource"),this._fields=this._dataSourceInfo.fields.map((function(t){var r=new c.FieldImpl(t,e);return new o.Field(r)}))},e.prototype.getLogicalTablesAsync=function(){return s.ApiServiceRegistry.get(this._registryId).getService("data-source-service").getLogicalTablesAsync(this.id).then((function(e){return e.map((function(e){return new a.LogicalTable(e)}))}))},e}();t.DataSourceImpl=d},8695:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(5126),i=function(){function e(e,t){this._fieldInfo=e,this._parentDataSource=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._fieldInfo.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._fieldInfo.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this._fieldInfo.description},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aggregation",{get:function(){return n.InternalToExternalEnumMappings.fieldAggregationType.convert(this._fieldInfo.aggregation)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._parentDataSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"role",{get:function(){return n.InternalToExternalEnumMappings.fieldRoleType.convert(this._fieldInfo.role)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHidden",{get:function(){return this._fieldInfo.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isGenerated",{get:function(){return this._fieldInfo.isGenerated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCalculatedField",{get:function(){return this._fieldInfo.isCalculatedField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCombinedField",{get:function(){return this._fieldInfo.isCombinedField},enumerable:!0,configurable:!0}),e}();t.FieldImpl=i},6560:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1750),i=r(5126),o=r(9887),a=r(8175),s=r(316),u=r(6077),l=function(){function e(e,t){this._registryId=t,this.setParameterInfo(e)}return Object.defineProperty(e.prototype,"name",{get:function(){return this._parameterInfo.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentValue",{get:function(){return a.DataValueFactory.MakeParameterDataValue(this._parameterInfo.currentValue,this._parameterInfo.dataType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataType",{get:function(){return i.InternalToExternalEnumMappings.dataType.convert(this._parameterInfo.dataType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._globalFieldName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowableValues",{get:function(){return this._allowableValues},enumerable:!0,configurable:!0}),e.prototype.changeValueAsync=function(e){var t=this;s.ErrorHelpers.verifyParameter(e,"newValue");var r=u.Param.serializeParameterValue(e);return o.ApiServiceRegistry.get(this._registryId).getService("parameters-service").changeParameterValueAsync(this._globalFieldName,r).then((function(e){return t.setParameterInfo(e),t.currentValue}))},e.prototype.setParameterInfo=function(e){this._parameterInfo=e,this._globalFieldName=e.fieldName;var t,r,o,s,u,l=i.InternalToExternalEnumMappings.allowableValues.convert(e.allowableValuesType);l===n.ParameterValueType.List?t=(e.allowableValues||[]).map((function(t){return a.DataValueFactory.MakeParameterDataValue(t,e.dataType)})):l===n.ParameterValueType.Range&&(r=e.minValue&&a.DataValueFactory.MakeParameterDataValue(e.minValue,e.dataType),o=e.maxValue&&a.DataValueFactory.MakeParameterDataValue(e.maxValue,e.dataType),s=e.stepSize,u=e.dateStepPeriod&&i.InternalToExternalEnumMappings.dateStepPeriod.convert(e.dateStepPeriod)),this._allowableValues={type:l,allowableValues:t,minValue:r,maxValue:o,stepSize:s,dateStepPeriod:u}},e}();t.ParameterImpl=l},1878:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1750),i=r(9887),o=r(1554),a=r(316),s=r(6077),u=r(489),l=function(){function e(e,t){this._sheetInfoImpl=e,this._registryId=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._sheetInfoImpl.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sheetType",{get:function(){return this._sheetInfoImpl.sheetType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sheetPath",{get:function(){return this._sheetInfoImpl.sheetPath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._sheetInfoImpl.sheetSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){if(void 0!==this._sheetInfoImpl.isHidden)return this._sheetInfoImpl.isHidden;throw new o.TableauError(n.EmbeddingErrorCodes.ImplementationError,"isHidden not implemented")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){if(void 0!==this._sheetInfoImpl.isActive)return this._sheetInfoImpl.isActive;throw new o.TableauError(n.EmbeddingErrorCodes.ImplementationError,"active not implemented")},set:function(e){void 0!==this._sheetInfoImpl.isActive&&(this._sheetInfoImpl.active=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){if(void 0!==this._sheetInfoImpl.index)return this._sheetInfoImpl.index;throw new o.TableauError(n.EmbeddingErrorCodes.ImplementationError,"index not implemented")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){if(void 0!==this._sheetInfoImpl.url)return this._sheetInfoImpl.url;throw new o.TableauError(n.EmbeddingErrorCodes.ImplementationError,"url not implemented")},enumerable:!0,configurable:!0}),e.prototype.getSheetSize=function(){if(!u.SheetUtils.isValidSheetSize(this.size))throw new o.TableauError(n.EmbeddingErrorCodes.InternalError,"size is not of type SheetSize");return this.size},e.prototype.findParameterAsync=function(e){return a.ErrorHelpers.verifyParameter(e,"parameterName"),i.ApiServiceRegistry.get(this._registryId).getService("parameters-service").findParameterByNameAsync(e)},e.prototype.getParametersAsync=function(){return i.ApiServiceRegistry.get(this._registryId).getService("parameters-service").getParametersForSheetAsync(this.sheetPath)},e.prototype.changeSizeAsync=function(e){var t=this,r=new o.TableauError(n.EmbeddingErrorCodes.InvalidSize,"Invalid sheet size parameter");if(!e||!e.behavior)throw r;var a=this.normalizeSheetSize(e),s=a.behavior===n.SheetSizeBehavior.Automatic;if(!s&&!a.minSize&&!a.maxSize)throw r;if(!s&&this.sheetType===n.SheetType.Worksheet)throw new o.TableauError(n.EmbeddingErrorCodes.InvalidSizeBehaviorOnWorksheet,"Only SheetSizeBehavior.Automatic is allowed on Worksheets");if(s&&this.getSheetSize().behavior===a.behavior)return Promise.resolve(e);var l=this.processNewSize(a);return i.ApiServiceRegistry.get(this._registryId).getService("size-service").changeSizeAsync(this.name,l).then((function(){return i.ApiServiceRegistry.get(t._registryId).getService("client-info-service").getClientInfoAsync().then((function(e){var r=e.publishedSheets.find((function(e){return e.name===t.name}));if(!r)throw new o.TableauError(n.SharedErrorCodes.InternalError,"Can't find sheet with name "+t.name);var i=u.SheetUtils.getSheetSizeFromSizeConstraints(r.sizeConstraint);return t._sheetInfoImpl.sheetSize=i,i}))}))},e.prototype.normalizeSheetSize=function(t){var r=t.behavior;return a.ErrorHelpers.verifyEnumValue(r,n.SheetSizeBehavior,"SheetSizeBehavior"),{behavior:r,minSize:e.parseDimensions(t.minSize),maxSize:e.parseDimensions(t.maxSize)}},e.prototype.processNewSize=function(e){var t,r,i,a,u=e.behavior,l=e.minSize,c=e.maxSize,d=!s.Param.isNullOrUndefined(null===(t=l)||void 0===t?void 0:t.width),p=!s.Param.isNullOrUndefined(null===(r=l)||void 0===r?void 0:r.height),f=!s.Param.isNullOrUndefined(null===(i=c)||void 0===i?void 0:i.width),h=!s.Param.isNullOrUndefined(null===(a=c)||void 0===a?void 0:a.height),m=d&&p,y=f&&h;switch(u){case n.SheetSizeBehavior.Automatic:return{behavior:u};case n.SheetSizeBehavior.AtMost:if(!c||!y)throw new o.TableauError(n.EmbeddingErrorCodes.MissingMaxSize,"Missing maxSize for SheetSizeBehavior.AtMost");if((g={width:c.width,height:c.height}).width<0||g.height<0)throw new o.TableauError(n.EmbeddingErrorCodes.InvalidSize,"Size value cannot be less than zero");return{behavior:u,maxSize:g};case n.SheetSizeBehavior.AtLeast:if(!l||!m)throw new o.TableauError(n.EmbeddingErrorCodes.MissingMinSize,"Missing minSize for SheetSizeBehavior.AtLeast");if((v={width:l.width,height:l.height}).width<0||v.height<0)throw new o.TableauError(n.EmbeddingErrorCodes.InvalidSize,"Size value cannot be less than zero");return{behavior:u,minSize:v};case n.SheetSizeBehavior.Range:if(!(l&&c&&m&&y))throw new o.TableauError(n.EmbeddingErrorCodes.MissingMinMaxSize,"Missing minSize or maxSize for SheetSizeBehavior.Range");var v={width:l.width,height:l.height},g={width:c.width,height:c.height};if(v.width<0||v.height<0||g.width<0||g.height<0||v.width>g.width||v.height>g.height)throw new o.TableauError(n.EmbeddingErrorCodes.InvalidSize,"Missing minSize or maxSize for SheetSizeBehavior.Range");return{behavior:u,minSize:v,maxSize:g};case n.SheetSizeBehavior.Exactly:if(l&&c){if(m&&y){if(v={width:l.width,height:l.height},g={width:c.width,height:c.height},v.width!==g.width||v.height!==g.height)throw new o.TableauError(n.EmbeddingErrorCodes.InvalidSize,"Conflicting size values for SheetSizeBehavior.Exactly");return{behavior:u,minSize:v,maxSize:g}}if(m)return{behavior:u,minSize:v={width:l.width,height:l.height},maxSize:v};if(y)return{behavior:u,minSize:g={width:c.width,height:c.height},maxSize:g}}throw new o.TableauError(n.EmbeddingErrorCodes.InvalidSize,"Invalid sheet size parameter");default:throw new o.TableauError(n.SharedErrorCodes.InternalError,"Unsupported sheet size behavior: "+u)}},e.parseDimensions=function(e){var t={width:void 0,height:void 0};if(!e)return t;var r=s.Param.tryParseNumber(e.width),n=r.success,i=r.parsed,o=s.Param.tryParseNumber(e.height),a=o.success,u=o.parsed;return n&&a?{width:i,height:u}:n?{width:i}:a?{height:u}:t},e}();t.SheetImpl=l},6749:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1750),i=function(){function e(e,t,r,n,i,o,a){this._name=e,this._sheetType=t,this._sheetSize=r,this._index=n,this._isActive=i,this._isHidden=o,this._url=a}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sheetSize",{get:function(){return this._sheetSize},set:function(e){this._sheetSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sheetType",{get:function(){return this._sheetType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sheetPath",{get:function(){return{sheetName:this.name,isDashboard:this.sheetType===n.SheetType.Dashboard}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{set:function(e){this._isActive=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHidden",{get:function(){return this._isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),e}();t.SheetInfoImpl=i},4217:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._eventType=e,this._handlers=[]}return Object.defineProperty(e.prototype,"eventType",{get:function(){return this._eventType},enumerable:!0,configurable:!0}),e.prototype.addEventListener=function(e){var t=this;return this._handlers.push(e),function(){return t.removeEventListener(e)}},e.prototype.removeEventListener=function(e){var t=this._handlers.length;return this._handlers=this._handlers.filter((function(t){return t!==e})),t>this._handlers.length},e.prototype.triggerEvent=function(e){for(var t=0,r=this._handlers;t<r.length;t++){var n=r[t];try{n(e())}catch(e){continue}}},e}();t.SingleEventManagerImpl=r},8194:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(1750),a=r(9887),s=r(1554),u=r(316),l=r(8634),c=r(1878),d=r(757),p=r(8519),f=function(e){function t(t,r,n,i){var o=e.call(this,t,i)||this;return o._sheetInfoImpl=t,o._publishedSheetInfos=n,o._registryId=i,o._storyPointInfoImpls=[],o._deferred=new l.ShortLivedDeferred,o.initializeStory(r),o}return i(t,e),t.prototype.initializeStory=function(e){var t=this;e.storyPoints.forEach((function(r){var n=r.index===e.activeStoryPointIndex,i=new p.StoryPointInfoImpl(r.caption,r.index,r.storyPointId,n,r.updated,t);t._storyPointInfoImpls.push(i),n&&(t._activeStoryPointImpl=new d.StoryPointImpl(i,t._publishedSheetInfos,t._registryId,r.containedSheetInfo))}))},t.prototype.updateStoryInfo=function(e,t){if(this._storyPointInfoImpls){var r=this._storyPointInfoImpls[e];if(r.storyPointId!==t.storyPointId)throw new s.TableauError(o.EmbeddingErrorCodes.StoryPointIdMismatch,"We should not be updating a story point when the IDs don't match. Existing storyPointID="+r.storyPointId+", newStoryPointID="+t.storyPointId);r.caption=t.caption,r.updated=t.updated,this._activeStoryPointImpl.storyPointId===t.storyPointId&&(this._activeStoryPointImpl.updated=r.updated)}},t.prototype.updateStory=function(e){var t=this;this._storyPointInfoImpls&&(this._storyPointInfoImpls.forEach((function(r){r.storyPointId===e.storyPointId?(r.caption=e.caption,r.index=e.index,r.active=!0,r.updated=e.updated,t._activeStoryPointImpl=new d.StoryPointImpl(r,t._publishedSheetInfos,t._registryId,e.containedSheetInfo)):r.active=!1})),this.activeStoryPoint&&this._deferred.resolve(this.activeStoryPoint))},Object.defineProperty(t.prototype,"activeStoryPoint",{get:function(){return this._activeStoryPointImpl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storyPointsInfo",{get:function(){return this._storyPointInfoImpls},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._sheetInfoImpl.active},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return!!this._sheetInfoImpl.isHidden},enumerable:!0,configurable:!0}),t.prototype.activateNextStoryPointAsync=function(){if(this._activeStoryPointImpl.index===this._storyPointInfoImpls.length-1)return Promise.resolve(this._activeStoryPointImpl);var e=this._deferred.getNewPromiseOrThrowIfBusy();return a.ApiServiceRegistry.get(this._registryId).getService("story-activation-service").activateNextStoryPointAsync(),e},t.prototype.activatePreviousStoryPointAsync=function(){if(0===this._activeStoryPointImpl.index)return Promise.resolve(this._activeStoryPointImpl);var e=this._deferred.getNewPromiseOrThrowIfBusy();return a.ApiServiceRegistry.get(this._registryId).getService("story-activation-service").activatePreviousStoryPointAsync(),e},t.prototype.activateStoryPointAsync=function(e){if(u.ErrorHelpers.verifyParameter(e,"index"),u.ErrorHelpers.verifyParameterType(e,"number","index"),e<0||e>=this._storyPointInfoImpls.length)throw new s.TableauError(o.EmbeddingErrorCodes.IndexOutOfRange,"The index passed to this command is out of range.");if(e===this._activeStoryPointImpl.index)return Promise.resolve(this._activeStoryPointImpl);var t=this._deferred.getNewPromiseOrThrowIfBusy();return a.ApiServiceRegistry.get(this._registryId).getService("story-activation-service").activateStoryPointAsync(e),t},t.prototype.revertStoryPointAsync=function(e){var t=this;if(u.ErrorHelpers.verifyParameter(e,"index"),u.ErrorHelpers.verifyParameterType(e,"number","index"),e<0||e>=this._storyPointInfoImpls.length)throw new s.TableauError(o.EmbeddingErrorCodes.IndexOutOfRange,"The index passed to this command is out of range.");return a.ApiServiceRegistry.get(this._registryId).getService("story-activation-service").revertStoryPointAsync(e).then((function(e){return t.updateStoryInfo(e.index,e),new p.StoryPointInfoImpl(e.caption,e.index,e.storyPointId,!1,e.updated,t)}))},t.prototype.clearPendingPromises=function(){this._deferred&&this._deferred.reject("All pending promises cleared")},t}(c.SheetImpl);t.StoryImpl=f},757:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1750),i=r(1554),o=r(489),a=r(4657),s=r(6749),u=r(928),l=function(){function e(e,t,r,n){this._storyPointInfoImpl=e,n&&(this._containedSheetImpl=this.createContainedSheet(n,t,r))}return Object.defineProperty(e.prototype,"index",{get:function(){return this._storyPointInfoImpl.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){return this._storyPointInfoImpl.caption},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._storyPointInfoImpl.active},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updated",{get:function(){return this._storyPointInfoImpl.updated},set:function(e){this._storyPointInfoImpl.updated=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentStory",{get:function(){return this._storyPointInfoImpl.parentStory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containedSheet",{get:function(){return this._containedSheetImpl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storyPointId",{get:function(){return this._storyPointInfoImpl.storyPointId},enumerable:!0,configurable:!0}),e.prototype.createContainedSheet=function(e,t,r){var l,c=o.SheetUtils.getPublishedSheetInfoByName(e.name,t),d=o.SheetUtils.createAutomaticSize(),p=void 0===c,f=c?c.url:"",h=new s.SheetInfoImpl(e.name,o.SheetUtils.getSheetTypeEnum(e.sheetType),d,-1,!1,p,f);switch(h.sheetType){case n.SheetType.Worksheet:var m={worksheet:h.name};l=new u.WorksheetImpl(h,r,m,null,this);break;case n.SheetType.Dashboard:var y={sheetName:h.name,isDashboard:!0};l=new a.DashboardImpl(h,e.dashboardZones,y,r,this);break;default:throw new i.TableauError(n.SharedErrorCodes.ServerError,"Invalid SheetType")}return l},e}();t.StoryPointImpl=l},8519:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n,i,o){this._caption=e,this._index=t,this._storyPointId=r,this._active=n,this._updated=i,this._parentStoryImpl=o}return Object.defineProperty(e.prototype,"caption",{get:function(){return this._caption},set:function(e){this._caption=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(e){this._index=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storyPointId",{get:function(){return this._storyPointId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._active},set:function(e){this._active=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updated",{get:function(){return this._updated},set:function(e){this._updated=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentStory",{get:function(){return this._parentStoryImpl},enumerable:!0,configurable:!0}),e}();t.StoryPointInfoImpl=r},3826:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.WorkbookImpl=function(){}},928:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(1750),a=r(1750),s=r(6411),u=r(1110),l=r(850),c=r(9887),d=r(1554),p=r(316),f=r(1234),h=function(e){function t(t,r,n,i,o){var a=e.call(this,t,r)||this;return a._visualId=n,a._parentDashboardImpl=i,a._parentStoryPointImpl=o,a}return i(t,e),Object.defineProperty(t.prototype,"parentDashboard",{get:function(){return this._parentDashboardImpl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentStoryPoint",{get:function(){return this._parentStoryPointImpl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visualId",{get:function(){return this._visualId},enumerable:!0,configurable:!0}),t.prototype.getMaxPageRowLimit=function(){return 1e4},t.prototype.applyFilterAsync=function(e,t,r,n){return p.ErrorHelpers.verifyEnumValue(r,o.FilterUpdateType,"Contract.FilterUpdateType"),this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("filter-service").applyFilterAsync(this.visualId,e,t,r,n)},t.prototype.applyRangeFilterAsync=function(e,t){return p.ErrorHelpers.verifyParameter(e,"fieldName"),p.ErrorHelpers.verifyParameter(t,"filterOptions"),t.nullOption?p.ErrorHelpers.verifyEnumValue(t.nullOption,a.FilterNullOption,"FilterNullOption"):p.ErrorHelpers.verifyRangeParamType(t.min,t.max),this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("filter-service").applyRangeFilterAsync(this.visualId,e,t)},t.prototype.applyHierarchicalFilterAsync=function(e,t,r,n){if(p.ErrorHelpers.verifyParameter(e,"fieldName"),p.ErrorHelpers.verifyParameter(t,"values"),p.ErrorHelpers.verifyEnumValue(r,o.FilterUpdateType,"Contract.FilterUpdateType"),!Array.isArray(t)&&!t.levels)throw new d.TableauError(a.ErrorCodes.InvalidParameter,"values parameter for applyHierarchicalFilterAsync must be an array or contain a levels key");return this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("filter-service").applyHierarchicalFilterAsync(this.visualId,e,t,r,n)},t.prototype.clearFilterAsync=function(e){return p.ErrorHelpers.verifyParameter(e,"fieldName"),this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("filter-service").clearFilterAsync(this.visualId,e)},t.prototype.applyRelativeDateFilterAsync=function(e,t){return p.ErrorHelpers.verifyStringParameter(e,"fieldName"),p.ErrorHelpers.verifyParameter(t,"options"),p.ErrorHelpers.verifyEnumValue(t.periodType,a.PeriodType,"PeriodType"),p.ErrorHelpers.verifyEnumValue(t.rangeType,a.DateRangeType,"DateRangeType"),this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("filter-service").applyRelativeDateFilterAsync(this.visualId,e,t)},t.prototype.getDataSourcesAsync=function(){var e=this;return this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("data-source-service").getDataSourcesAsync(this.visualId).then((function(t){var r=t,n=r.worksheetDataSchemaMap[e.name],i=[],o=n.primaryDataSource;i.push(e.createDataSourceFromInfo(r.dataSources[o]));for(var a=0,s=n.referencedDataSourceList;a<s.length;a++){var u=s[a];u!==o&&i.push(e.createDataSourceFromInfo(r.dataSources[u]))}return i}))},t.prototype.getFiltersAsync=function(){return this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("filter-service").getFiltersAsync(this.visualId)},t.prototype.getSelectedMarksAsync=function(){return this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("get-data-service").getSelectedMarksAsync(this.visualId)},t.prototype.getHighlightedMarksAsync=function(){return this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("get-data-service").getHighlightedMarksAsync(this.visualId)},t.prototype.getSummaryDataAsync=function(e){return this.verifyActiveSheet(),e=e||{},c.ApiServiceRegistry.get(this._registryId).getService("get-data-service").getUnderlyingDataAsync(this.visualId,l.GetDataType.Summary,!!e.ignoreAliases,!!e.ignoreSelection,!0,e.columnsToIncludeById||[],e.maxRows||0,e.includeDataValuesOption||a.IncludeDataValuesOption.AllValues)},t.prototype.getSummaryDataReaderAsync=function(e,t){return this.verifyActiveSheet(),t=t||{},c.ApiServiceRegistry.get(this._registryId).getService("get-data-service").getSummaryDataReaderAsync(this.visualId,e||this.getMaxPageRowLimit(),!!t.ignoreAliases,!!t.ignoreSelection,!0,t.columnsToIncludeById||[],t.includeDataValuesOption||a.IncludeDataValuesOption.AllValues)},t.prototype.getSummaryColumnsInfoAsync=function(){return this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("get-data-service").getSummaryColumnsInfoAsync(this.visualId)},t.prototype.getUnderlyingDataAsync=function(e){return this.verifyActiveSheet(),e=e||{},c.ApiServiceRegistry.get(this._registryId).getService("get-data-service").getUnderlyingDataAsync(this.visualId,l.GetDataType.Underlying,!!e.ignoreAliases,!!e.ignoreSelection,!!e.includeAllColumns,e.columnsToIncludeById||[],e.maxRows||0,e.includeDataValuesOption||a.IncludeDataValuesOption.AllValues)},t.prototype.getUnderlyingTablesAsync=function(){return this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("data-source-service").getUnderlyingTablesAsync(this.visualId).then((function(e){return e.map((function(e){return new u.LogicalTable(e)}))}))},t.prototype.getUnderlyingTableDataAsync=function(e,t){return this.verifyActiveSheet(),t=t||{},c.ApiServiceRegistry.get(this._registryId).getService("get-data-service").getUnderlyingTableDataAsync(this.visualId,e,!!t.ignoreAliases,!!t.ignoreSelection,!!t.includeAllColumns,t.columnsToIncludeById||[],t.maxRows||0,t.includeDataValuesOption||a.IncludeDataValuesOption.AllValues)},t.prototype.getUnderlyingTableDataReaderAsync=function(e,t,r){return this.verifyActiveSheet(),r=r||{},c.ApiServiceRegistry.get(this._registryId).getService("get-data-service").getUnderlyingTableDataReaderAsync(this.visualId,e,t||this.getMaxPageRowLimit(),!!r.ignoreAliases,!!r.ignoreSelection,!!r.includeAllColumns,r.columnsToIncludeById||[],r.includeDataValuesOption||a.IncludeDataValuesOption.AllValues)},t.prototype.clearSelectedMarksAsync=function(){return this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("selection-service").clearSelectedMarksAsync(this.visualId)},t.prototype.selectMarksByValueAsync=function(e,t){return p.ErrorHelpers.verifyParameter(e,"fieldName"),p.ErrorHelpers.verifyEnumValue(t,a.SelectionUpdateType,"SelectionUpdateType"),this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("selection-service").selectMarksByValueAsync(this.visualId,e,t)},t.prototype.selectMarksByIdAsync=function(e,t){return p.ErrorHelpers.verifyParameter(e,"fieldName"),p.ErrorHelpers.verifyEnumValue(t,a.SelectionUpdateType,"SelectionUpdateType"),this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("selection-service").selectMarksByIdAsync(this.visualId,e,t)},t.prototype.annotateMarkAsync=function(e,t){return p.ErrorHelpers.verifyParameter(e,"mark"),this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("annotation-service").annotateMarkAsync(this.visualId,e,t)},t.prototype.getAnnotationsAsync=function(){return this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("annotation-service").getAnnotationsAsync(this.visualId)},t.prototype.removeAnnotationAsync=function(e){return p.ErrorHelpers.verifyParameter(e,"annotation"),this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("annotation-service").removeAnnotationAsync(this.visualId,e)},t.prototype.appendContextMenuAsync=function(e,t){return this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("external-context-menu-service").appendContextMenuAsync(this.visualId.worksheet,e,t)},t.prototype.removeContextMenuAsync=function(e,t){return this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("external-context-menu-service").removeContextMenuAsync(this.visualId.worksheet,e,t)},t.prototype.executeContextMenuAsync=function(e,t){return this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("external-context-menu-service").executeContextMenuAsync(this.visualId.worksheet,e,t)},t.prototype.renameContextMenuAsync=function(e,t,r){return this.verifyActiveSheet(),c.ApiServiceRegistry.get(this._registryId).getService("external-context-menu-service").renameContextMenuAsync(this.visualId.worksheet,e,t,r)},t.prototype.createDataSourceFromInfo=function(e){var t=new f.DataSourceImpl(e,this._registryId),r=new s.DataSource(t);return t.initializeWithPublicInterfaces(r),r},t.prototype.verifyActiveSheet=function(){var e=this.active,t=this.isInsideActiveDashboard(),r=this.isInsideActiveStoryPoint();if(!e&&!t&&!r)throw new d.TableauError(a.SharedErrorCodes.NotActiveSheet,"Operation not allowed on non-active sheet")},t.prototype.isInsideActiveStoryPoint=function(){return this._parentStoryPointImpl&&this._parentStoryPointImpl.active},t.prototype.isInsideActiveDashboard=function(){return this._parentDashboardImpl&&this._parentDashboardImpl.active},t}(r(1878).SheetImpl);t.WorksheetImpl=h},1110:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._logicalTable=e}return Object.defineProperty(e.prototype,"id",{get:function(){return this._logicalTable.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){return this._logicalTable.caption},enumerable:!0,configurable:!0}),e}();t.LogicalTable=r},3416:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(1750),a=r(9887),s=r(316),u=function(){function e(e,t,r,n,i){this._worksheetName=e,this._fieldName=t,this._filterType=r,this._fieldId=n,this._registryId=i}return Object.defineProperty(e.prototype,"worksheetName",{get:function(){return this._worksheetName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldName",{get:function(){return this._fieldName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldId",{get:function(){return this._fieldId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterType",{get:function(){return this._filterType},enumerable:!0,configurable:!0}),e.prototype.getFieldAsync=function(){return a.ApiServiceRegistry.get(this._registryId).getService("data-source-service").getFieldAsync(this._fieldId)},e.prototype.getAppliedWorksheetsAsync=function(){return a.ApiServiceRegistry.get(this._registryId).getService("filter-service").getAppliedWorksheetsAsync(this._worksheetName,this._fieldId)},e.prototype.setAppliedWorksheetsAsync=function(e){s.ErrorHelpers.verifyParameter(e,"applyToWorksheets");var t=new Set(e);return a.ApiServiceRegistry.get(this._registryId).getService("filter-service").setAppliedWorksheetsAsync(this._worksheetName,this._fieldName,this._fieldId,Array.from(t))},e}();t.Filter=u;var l=function(e){function t(t,r,n,i,o,a,s,u){var l=e.call(this,t,r,i,n,o)||this;return l._appliedValues=a,l._isExcludeMode=s,l._isAllSelected=u,l}return i(t,e),Object.defineProperty(t.prototype,"isAllSelected",{get:function(){return this._isAllSelected},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appliedValues",{get:function(){return this._appliedValues},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isExcludeMode",{get:function(){return this._isExcludeMode},enumerable:!0,configurable:!0}),t.prototype.getDomainAsync=function(e){return e||(e=o.FilterDomainType.Relevant),s.ErrorHelpers.verifyEnumValue(e,o.FilterDomainType,"FilterDomainType"),a.ApiServiceRegistry.get(this._registryId).getService("filter-service").getCategoricalDomainAsync(this._worksheetName,this._fieldId,e)},t}(u);t.CategoricalFilter=l;var c=function(){function e(e,t,r){this._value=e,this._hierarchicalPath=t,this._level=r}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hierarchicalPath",{get:function(){return this._hierarchicalPath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),e}();t.HierarchicalDataValue=c;var d=function(){function e(e,t){this._name=e,this._levelSelectionState=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"levelSelectionState",{get:function(){return this._levelSelectionState},enumerable:!0,configurable:!0}),e}();t.HierarchicalLevelDetail=d;var p=function(e){function t(t,r,n,i,o,a,s,u,l,c,d){var p=e.call(this,t,r,i,n,o)||this;return p._dimensionName=a,p._hierarchyCaption=s,p._numberOfLevels=u,p._levelDetails=l,p._appliedValues=c,p._isAllSelected=d,p}return i(t,e),t.prototype.getDomainAsync=function(e){throw new Error("Method not implemented.")},Object.defineProperty(t.prototype,"dimensionName",{get:function(){return this._dimensionName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hierarchyCaption",{get:function(){return this._hierarchyCaption},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberOfLevels",{get:function(){return this._numberOfLevels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"levelDetails",{get:function(){return this._levelDetails},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAllSelected",{get:function(){return this._isAllSelected},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appliedValues",{get:function(){return this._appliedValues},enumerable:!0,configurable:!0}),t}(u);t.HierarchicalFilter=p;var f=function(e){function t(t,r,n,i,o,a,s,u){var l=e.call(this,t,r,i,n,o)||this;return l._min=a,l._max=s,l._includeNullValues=u,l}return i(t,e),Object.defineProperty(t.prototype,"minValue",{get:function(){return this._min},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){return this._max},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"includeNullValues",{get:function(){return this._includeNullValues},enumerable:!0,configurable:!0}),t.prototype.getDomainAsync=function(e){var t=a.ApiServiceRegistry.get(this._registryId).getService("filter-service");return e||(e=o.FilterDomainType.Relevant),s.ErrorHelpers.verifyEnumValue(e,o.FilterDomainType,"FilterDomainType"),t.getRangeDomainAsync(this._worksheetName,this._fieldId,e)},t}(u);t.RangeFilter=f;var h=function(e){function t(t,r,n,i,o,a,s,u,l){var c=e.call(this,t,r,i,n,o)||this;return c._anchorDate=a,c._periodType=s,c._rangeType=u,c._rangeN=l,c}return i(t,e),Object.defineProperty(t.prototype,"anchorDate",{get:function(){return this._anchorDate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"periodType",{get:function(){return this._periodType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeType",{get:function(){return this._rangeType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeN",{get:function(){return this._rangeN},enumerable:!0,configurable:!0}),t}(u);t.RelativeDateFilter=h;var m=function(){function e(e,t){this._values=e,this._domainType=t}return Object.defineProperty(e.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._domainType},enumerable:!0,configurable:!0}),e}();t.CategoricalDomain=m;var y=function(){function e(e,t,r){this._min=e,this._max=t,this._domainType=r}return Object.defineProperty(e.prototype,"type",{get:function(){return this._domainType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},enumerable:!0,configurable:!0}),e}();t.RangeDomain=y},4284:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n,i,o){this._data=e,this._columns=t,this._totalRowCount=r,this._isTotalRowCountLimited=n,this._isSummaryData=i,this._marksInfo=o,this._name=i?"Summary Data Table":"Underlying Data Table"}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this._columns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marksInfo",{get:function(){return this._marksInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalRowCount",{get:function(){return this._totalRowCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTotalRowCountLimited",{get:function(){return this._isTotalRowCountLimited},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSummaryData",{get:function(){return this._isSummaryData},enumerable:!0,configurable:!0}),e}();t.DataTable=r;var n=function(){function e(e,t,r){this._type=e,this._color=t,this._tupleId=r}return Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tupleId",{get:function(){return this._tupleId},enumerable:!0,configurable:!0}),e}();t.MarkInfo=n;var i=function(){function e(e,t,r,n,i){this._fieldName=e,this._fieldId=t,this._dataType=r,this._isReferenced=n,this._index=i}return Object.defineProperty(e.prototype,"fieldName",{get:function(){return this._fieldName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldId",{get:function(){return this._fieldId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataType",{get:function(){return this._dataType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReferenced",{get:function(){return this._isReferenced},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),e}();t.Column=i;var o=function(){function e(e,t,r){this._value=e,this._nativeValue=t,this._formattedValue=r}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeValue",{get:function(){return this._nativeValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formattedValue",{get:function(){return this._formattedValue},enumerable:!0,configurable:!0}),e}();t.DataValue=o},2513:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(9887),a=r(316),s=function(){function e(e,t,r,n){this._id=e,this._totalRowCount=t,this._pageRowCount=r,this._registryId=n,this._pageCount=Math.ceil(t/r)}return Object.defineProperty(e.prototype,"totalRowCount",{get:function(){return this._totalRowCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageCount",{get:function(){return this._pageCount},enumerable:!0,configurable:!0}),e.prototype.getPageAsync=function(e){return a.ErrorHelpers.verifyRange(e,0,this._pageCount),o.ApiServiceRegistry.get(this._registryId).getService("get-data-service").getPageAsync(this._id,e,this._pageRowCount)},e.prototype.getAllPagesAsync=function(e){return n(this,void 0,void 0,(function(){var t,r,n,o,a,s,u,l,c,d;return i(this,(function(i){switch(i.label){case 0:return[4,this.getPageAsync(0)];case 1:t=i.sent(),e=e||this.totalRowCount,r=Math.min(e,this.totalRowCount),n=Math.ceil(r/this._pageRowCount),o=Math.min(n,400),a=o<n,s=[],u=1,i.label=2;case 2:return u<o?[4,this.getPageAsync(u)]:[3,5];case 3:l=i.sent(),s.push(l.data),i.label=4;case 4:return u++,[3,2];case 5:return(c=(d=t.data).concat.apply(d,s)).length=r,[2,{name:t.name,data:c,columns:t.columns,totalRowCount:a?o*this._pageRowCount:r,isTotalRowCountLimited:a,isSummaryData:t.isSummaryData}]}}))}))},e.prototype.releaseAsync=function(){return o.ApiServiceRegistry.get(this._registryId).getService("get-data-service").releaseAsync(this._id)},e}();t.DataTableReader=s},1426:function(e,t){var r,n=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.SelectionModel=i;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectValues=[],t}return n(t,e),t}(i);t.ValueSelectionModel=o;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(o);t.HierarchicalSelectionModel=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(i);t.RangeSelectionModel=s;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(o);t.DimensionSelectionModel=u,t.TupleSelectionModel=function(){this.objectIds=[]},t.SelectionModelsContainer=function(){this.hierModelArr=[],this.dimModelArr=[],this.quantModelArr=[]}},2391:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e}();t.Point=r},850:function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.GetDataType||(t.GetDataType={})).Summary="summary",r.Underlying="underlying"},7458:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(8929),i=r(903),o=r(194),a=r(4886),s=r(2429),u=r(879),l=r(5210),c=r(2294),d=r(7658),p=r(7132),f=r(8226),h=r(8434),m=r(8009),y=r(9887);t.registerAllSharedServices=function(e,t,r){y.ApiServiceRegistry.get(t).registerService(new n.AnimationServiceImpl(e,t)),y.ApiServiceRegistry.get(t).registerService(new o.DataSourceServiceImpl(e,t,r)),y.ApiServiceRegistry.get(t).registerService(new a.ExportServiceImpl(e,t)),y.ApiServiceRegistry.get(t).registerService(new l.GetDataServiceImpl(e,t)),y.ApiServiceRegistry.get(t).registerService(new u.FilterServiceImpl(e,t)),y.ApiServiceRegistry.get(t).registerService(new c.NotificationServiceImpl(e)),y.ApiServiceRegistry.get(t).registerService(new d.ParametersServiceImpl(e,t)),y.ApiServiceRegistry.get(t).registerService(new p.SelectionServiceImpl(e,t)),y.ApiServiceRegistry.get(t).registerService(new i.AnnotationServiceImpl(e,t)),y.ApiServiceRegistry.get(t).registerService(new m.ZoneServiceImpl(e,t)),y.ApiServiceRegistry.get(t).registerService(new f.SizeServiceImpl(e,t)),y.ApiServiceRegistry.get(t).registerService(new h.VizServiceImpl(e,t)),y.ApiServiceRegistry.get(t).registerService(new s.ExternalContextMenuServiceImpl(e,t))}},9887:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1750),i=r(1554);window.__tableauApiServiceRegistry=window.__tableauApiServiceRegistry||{};var o=function(){function e(){this._services={}}return e.prototype.registerService=function(e){this._services[e.serviceName]=e},e.prototype.getService=function(e){if(!this._services.hasOwnProperty(e))throw new i.TableauError(n.ErrorCodes.InternalError,"Service not registered: "+e);return this._services[e]},e}(),a=function(){function e(){}return e.get=function(t){if(window.__tableauApiServiceRegistry&&window.__tableauApiServiceRegistry[t]||e.setInstance(t,new o),!window.__tableauApiServiceRegistry[t])throw new i.TableauError(n.ErrorCodes.InternalError,"Service registry failed");return window.__tableauApiServiceRegistry[t]},e.setInstance=function(e,t){window.__tableauApiServiceRegistry||(window.__tableauApiServiceRegistry={}),window.__tableauApiServiceRegistry[e]=t},e.clearRegistry=function(){window.__tableauApiServiceRegistry={}},e}();t.ApiServiceRegistry=a},8929:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(1750),a=r(4695),s=r(2336),u=r(316),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"animation-service"},enumerable:!0,configurable:!0}),t.prototype.replayAsync=function(e){var t,r=((t={})[a.ParameterId.ReplaySpeed]=1,t);return u.ErrorHelpers.verifyEnumValue(e,o.ReplaySpeedType,"ReplaySpeedType"),r[a.ParameterId.ReplaySpeed]=s.ExternalToInternalEnumMappings.setReplaySpeedType.convert(e),this.execute(a.VerbId.ReplayAnimation,r).then((function(e){}))},t}(r(1167).ServiceImplBase);t.AnimationServiceImpl=l},903:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(1750),a=r(4695),s=r(5126),u=r(1426),l=r(1554),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"annotation-service"},enumerable:!0,configurable:!0}),t.prototype.annotateMarkAsync=function(e,t,r){var n,i=this.parseMarkSelectionIds([t]),o="<formatted-text><run>"+r+"</run></formatted-text>",s=((n={})[a.ParameterId.FunctionName]="annotateMarkAsync",n[a.ParameterId.VisualId]=e,n[a.ParameterId.AnnotateEnum]=a.AnnotateEnum.Mark,n[a.ParameterId.TargetPoint]={x:0,y:0},n[a.ParameterId.SelectionList]=[i.selection],n[a.ParameterId.FormattedText]=o,n);return this.execute(a.VerbId.CreateAnnotation,s).then((function(e){}))},t.prototype.getAnnotationsAsync=function(e){var t,r=this,n=((t={})[a.ParameterId.FunctionName]="getAnnotationsAsync",t[a.ParameterId.VisualId]=e,t);return this.execute(a.VerbId.GetAnnotations,n).then((function(e){var t=e.result;return r.annotationFilterMap(t)}))},t.prototype.removeAnnotationAsync=function(e,t){var r,n=this.parseAnnotationSelectionIds([t]),i=((r={})[a.ParameterId.FunctionName]="removeAnnotationAsync",r[a.ParameterId.VisualId]=e,r[a.ParameterId.SelectionList]=[n.selection],r);return this.execute(a.VerbId.RemoveAnnotation,i).then((function(e){}))},t.prototype.parseMarkSelectionIds=function(e){var t=[],r=new u.SelectionModelsContainer;if(e.forEach((function(e){var r=e.tupleId;if(!(null!=r&&r>0))throw new l.TableauError(o.ErrorCodes.InternalError,"invalid tupleId");t.push(r.toString())})),0!==t.length){var n=new u.TupleSelectionModel;n.selectionType="tuples",n.objectIds=t,r.selection=n}return r},t.prototype.parseAnnotationSelectionIds=function(e){var t=[],r=new u.SelectionModelsContainer;if(e.forEach((function(e){var r=e.annotationId;if(!(null!=r&&r>=0))throw new l.TableauError(o.ErrorCodes.InternalError,"invalid annotationId");t.push(r.toString())})),0!==t.length){var n=new u.TupleSelectionModel;n.selectionType="annotations",n.objectIds=t,r.selection=n}return r},t.prototype.mapAnnotation=function(e){return{annotationHTML:e.annotationText,annotationId:e.annotationId,annotationText:e.annotationPlainText,annotationType:s.InternalToExternalEnumMappings.annotationType.convert(e.annotateEnum),tupleId:e.tupleId}},t.prototype.annotationFilterMap=function(e){var t=this;return e.map((function(e){return t.mapAnnotation(e)}))},t}(r(1167).ServiceImplBase);t.AnnotationServiceImpl=c},6292:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(4695),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"client-info-service"},enumerable:!0,configurable:!0}),t.prototype.getClientInfoAsync=function(){var e,t=o.VerbId.GetEmbeddingClientInfo,r=((e={})[o.ParameterId.FunctionName]="getClientInfoAsync",e);return this.execute(t,r).then((function(e){return e.result}))},t}(r(1167).ServiceImplBase);t.ClientInfoServiceImpl=a},194:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(1750),a=r(4695),s=r(4695),u=r(6411),l=r(2131),c=r(1234),d=r(8695),p=r(1554),f=r(1167);t.SENTINEL_LOGICAL_TABLE_INFO={id:a.ApiShowDataTableSentinel.SingleTableId,caption:a.ApiShowDataTableSentinel.SingleTableCaption};var h={major:1,minor:20,fix:1},m=function(e){function r(t,r,n){void 0===n&&(n=h);var i=e.call(this,t,r)||this;return i._platformVersion=n,i}return i(r,e),Object.defineProperty(r.prototype,"serviceName",{get:function(){return"data-source-service"},enumerable:!0,configurable:!0}),r.prototype.refreshAsync=function(e){var t,r=((t={})[s.ParameterId.FunctionName]="refreshAsync",t[s.ParameterId.DeltaTimeMs]=0,t[s.ParameterId.ShouldRefreshDS]=!0,t);return e&&(r[s.ParameterId.DataSourceId]=e),this.execute(s.VerbId.RefreshDataSource,r).then((function(e){}))},r.prototype.getActiveTablesAsync=function(e){var t,r=((t={})[s.ParameterId.FunctionName]="getActiveTablesAsync",t[s.ParameterId.DataSourceId]=e,t);return this.execute(s.VerbId.GetActiveTables,r).then((function(t){var r=t.result;if(0===r.tables.length)throw new p.TableauError(o.ErrorCodes.UnsupportedMethodForDataSourceType,"getActiveTables is not supported for: "+e);return r.tables}))},r.prototype.getDataSourcesAsync=function(e){var t,r=((t={})[s.ParameterId.FunctionName]="getDataSourcesAsync",t[s.ParameterId.VisualId]=e,t);return this.execute(s.VerbId.GetDataSources,r).then((function(e){return e.result}))},r.prototype.getAllDataSourcesAsync=function(){var e,t=((e={})[s.ParameterId.FunctionName]="getAllDataSourcesAsync",e);return this.execute(s.VerbId.GetAllDataSources,t).then((function(e){return e.result}))},r.prototype.getConnectionSummariesAsync=function(e){var t,r=((t={})[s.ParameterId.FunctionName]="getConnectionSummariesAsync",t[s.ParameterId.DataSourceId]=e,t);return this.execute(s.VerbId.GetConnectionDescriptionSummaries,r).then((function(e){return e.result}))},r.prototype.getFieldAsync=function(e){var t,r=this,n=s.VerbId.GetFieldAndDataSource,i=((t={})[s.ParameterId.FunctionName]="getFieldAsync",t[s.ParameterId.FieldId]=e,t);return this.execute(n,i).then((function(e){var t=e.result[s.ParameterId.DataSource],n=e.result[s.ParameterId.Field];return r.convertField(n,r.convertDataSource(t))}))},r.prototype.getLogicalTablesAsync=function(e){var r;if(!this.isObjectModelSupportedByPlatform())return new Promise((function(e){return e([t.SENTINEL_LOGICAL_TABLE_INFO])}));var n=((r={})[s.ParameterId.FunctionName]="getLogicalTablesAsync",r[s.ParameterId.DataSourceId]=e,r);return this.execute(s.VerbId.GetLogicalTables,n).then((function(e){return e.result}))},r.prototype.getUnderlyingTablesAsync=function(e){var r;if(!this.isObjectModelSupportedByPlatform())return new Promise((function(e){return e([t.SENTINEL_LOGICAL_TABLE_INFO])}));var n=((r={})[s.ParameterId.FunctionName]="getUnderlyingTablesAsync",r[s.ParameterId.VisualId]=e,r);return this.execute(s.VerbId.GetUnderlyingTables,n).then((function(e){return e.result}))},r.prototype.convertField=function(e,t){return new l.Field(new d.FieldImpl(e,t))},r.prototype.convertDataSource=function(e){return new u.DataSource(new c.DataSourceImpl(e,this._registryId))},r.prototype.isObjectModelSupportedByPlatform=function(){return a.VersionLessThan({major:1,minor:13,fix:0},this._platformVersion)},r}(f.ServiceImplBase);t.DataSourceServiceImpl=m},4886:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(4695),u=r(1750),l=r(2336),c=r(2561),d=r(316),p=r(1554),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"export-service"},enumerable:!0,configurable:!0}),t.prototype.getExportCrosstabSheetMapAsync=function(e){var t,r=s.VerbId.GetExportCrosstabSheetMap,n=((t={})[s.ParameterId.FunctionName]="getExportCrosstabSheetMapAsync",t[s.ParameterId.CurrentSheetType]=l.ExternalToInternalEnumMappings.sheetType.convert(e),t);return this.execute(r,n).then((function(e){return e.result}))},t.prototype.exportCrosstabAsync=function(e,t,r,n){return o(this,void 0,void 0,(function(){var i,o,l,c;return a(this,(function(a){switch(a.label){case 0:return d.ErrorHelpers.verifySheetName(r,e),d.ErrorHelpers.verifyEnumValue(t,u.CrosstabFileFormat,"CrosstabFileFormat"),[4,this.getExportCrosstabSheetMapAsync(n)];case 1:if(!(i=a.sent())[e])throw new p.TableauError(u.SharedErrorCodes.InternalError,"missing sheet doc id from sheetMap");switch((c={})[s.ParameterId.FunctionName]="exportCrosstabAsync",c[s.ParameterId.SheetIdentifier]=i[e],c[s.ParameterId.SendNotifications]=!0,o=c,t){case u.CrosstabFileFormat.CSV:l=s.VerbId.ExportCrosstabCsvDownload,o[s.ParameterId.UseTabDelimiters]=!0;break;case u.CrosstabFileFormat.Excel:l=s.VerbId.ExportCrosstabExcelDownload;break;default:throw new p.TableauError(u.SharedErrorCodes.InternalError,"unsupported Crosstab file format.")}return[2,this.execute(l,o).then((function(e){return e.result})).catch((function(){throw new p.TableauError(u.SharedErrorCodes.CrosstabCreationError,"An unexpected error occurred while generating the document.")}))]}}))}))},t.prototype.exportDataAsync=function(e,t){var r,n;d.ErrorHelpers.verifyExportDataOptions(t);var i=new Set(t.columnsToIncludeById),o=Array.from(i),a=s.VerbId.ExportDataDownload,l=((r={})[s.ParameterId.FunctionName]="exportDataAsync",r[s.ParameterId.VisualId]=e,r[s.ParameterId.IgnoreAliases]=null!=(n=t.ignoreAliases)&&n,r[s.ParameterId.ColumnsToIncludeById]=o,r);return this.execute(a,l).then((function(){})).catch((function(){throw new p.TableauError(u.SharedErrorCodes.DataCreationError,"An unexpected error occurred while generating the document.")}))},t.prototype.exportPowerPointAsync=function(e,t){var r;d.ErrorHelpers.verifySheetNamesForPDFAndPPT(e,t);var n=s.VerbId.ExportPowerpointDownload,i=((r={})[s.ParameterId.FunctionName]="exportPowerPointAsync",r[s.ParameterId.ExportOriginUrl]="",r[s.ParameterId.SelectedSheetNames]=e,r);return this.execute(n,i).then((function(e){return e.result})).catch((function(){throw new p.TableauError(u.SharedErrorCodes.PowerPointCreationError,"An error occured while attempting to generate the PowerPoint file.")}))},t.prototype.exportPDFAsync=function(e,t,r){return o(this,void 0,void 0,(function(){var n,i,o,l;return a(this,(function(a){switch(a.label){case 0:return d.ErrorHelpers.verifyExportPDFOptions(t),d.ErrorHelpers.verifySheetNamesForPDFAndPPT(e,r),[4,this.getExportPDFOptionsAsync()];case 1:return n=a.sent(),c.ExportHelpers.updateInternalExportPDFOptions(n,t,e),i=s.VerbId.ExportPdfDownload,(l={})[s.ParameterId.FunctionName]="exportPDFAsync",l[s.ParameterId.ExportPdfOptions]=n,o=l,[2,this.execute(i,o).then((function(e){return e.result})).catch((function(){throw new p.TableauError(u.SharedErrorCodes.PDFCreationError,"Unable to create PDF because something went wrong. Try again.")}))]}}))}))},t.prototype.getExportPDFOptionsAsync=function(){var e,t=s.VerbId.GetExportPdfOptions,r=((e={})[s.ParameterId.FunctionName]="getExportPdfOptionsAsync",e);return this.execute(t,r).then((function(e){return e.result}))},t}(r(1167).ServiceImplBase);t.ExportServiceImpl=f},2429:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(4695),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"external-context-menu-service"},enumerable:!0,configurable:!0}),t.prototype.appendContextMenuAsync=function(e,t,r){var n,i=o.VerbId.AppendExternalMenuItem,a=((n={})[o.ParameterId.FunctionName]="appendContextMenuAsync",n[o.ParameterId.WorksheetName]=e,n[o.ParameterId.ExternalMenuItemDisplayName]=r.displayName,n);return this.execute(i,a).then((function(e){return e.result}))},t.prototype.removeContextMenuAsync=function(e,t,r){var n,i=o.VerbId.RemoveExternalMenuItem,a=((n={})[o.ParameterId.FunctionName]="removeContextMenuAsync",n[o.ParameterId.WorksheetName]=e,n[o.ParameterId.ExternalMenuItemId]=r,n);return this.execute(i,a).then((function(e){}))},t.prototype.executeContextMenuAsync=function(e,t,r){var n,i=o.VerbId.ExecuteExternalMenuItem,a=((n={})[o.ParameterId.FunctionName]="executeContextMenuAsync",n[o.ParameterId.WorksheetName]=e,n[o.ParameterId.ExternalMenuItemId]=r,n);return this.execute(i,a).then((function(e){}))},t.prototype.renameContextMenuAsync=function(e,t,r,n){var i,a=o.VerbId.RenameExternalMenu,s=((i={})[o.ParameterId.FunctionName]="renameContextMenuAsync",i[o.ParameterId.WorksheetName]=e,i[o.ParameterId.ExternalMenuHeader]=r,i[o.ParameterId.ExternalMenuDescription]=n,i);return this.execute(a,s).then((function(e){}))},t}(r(1167).ServiceImplBase);t.ExternalContextMenuServiceImpl=a},879:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(1750),u=r(4695),l=r(4695),c=r(4007),d=r(2336),p=r(5126),f=r(3416),h=r(8175),m=r(6077),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"filter-service"},enumerable:!0,configurable:!0}),t.prototype.applyFilterAsync=function(e,t,r,n,i){var o,a=l.VerbId.ApplyCategoricalFilter,u=((o={})[l.ParameterId.FunctionName]="applyFilterAsync",o);if(u[l.ParameterId.VisualId]=e,u[l.ParameterId.FieldName]=t,!Array.isArray(r))throw new c.TableauError(s.ErrorCodes.InvalidParameter,"values parameter for applyFilterAsync must be an array");return u[l.ParameterId.FilterValues]=r,u[l.ParameterId.FilterUpdateType]=d.ExternalToInternalEnumMappings.filterUpdateType.convert(n),u[l.ParameterId.IsExcludeMode]=void 0!==i&&void 0!==i.isExcludeMode&&i.isExcludeMode,this.execute(a,u).then((function(e){return t}))},t.prototype.applyRangeFilterAsync=function(e,t,r){var n,i,o,a=this,s=l.VerbId.ApplyRangeFilter,u=((n={})[l.ParameterId.FunctionName]="applyRangeFilterAsync",n);return void 0!==r.min&&null!==r.min&&(i=r.min instanceof Date?m.Param.serializeDateForPlatform(r.min):r.min,u[l.ParameterId.FilterRangeMin]=i),void 0!==r.max&&null!==r.max&&(o=r.max instanceof Date?m.Param.serializeDateForPlatform(r.max):r.max,u[l.ParameterId.FilterRangeMax]=o),r.nullOption&&(u[l.ParameterId.FilterRangeNullOption]=d.ExternalToInternalEnumMappings.nullOptions.convert(r.nullOption)),u[l.ParameterId.FieldName]=t,u[l.ParameterId.VisualId]=e,this.execute(s,u).then((function(e){return a.apiFilterHandlerCheckForCommandError(e.result),t}))},t.prototype.applyHierarchicalFilterAsync=function(e,t,r,n,i){var o,a=l.VerbId.HierarchicalFilter,s=((o={})[l.ParameterId.FunctionName]="applyHierarchicalFilterAsync",o);s[l.ParameterId.VisualId]=e,s[l.ParameterId.FieldName]=t;var u=r.levels;return Array.isArray(u)&&u.length>0?s[l.ParameterId.FilterLevels]=u:r.length>0?s[l.ParameterId.FilterValues]=r:s[l.ParameterId.FilterLevels]=[],s[l.ParameterId.FilterUpdateType]=d.ExternalToInternalEnumMappings.filterUpdateType.convert(n),s[l.ParameterId.IsExcludeMode]=i&&!!i.isExcludeMode,this.execute(a,s).then((function(e){return t}))},t.prototype.clearFilterAsync=function(e,t){var r,n=l.VerbId.ClearFilter,i=((r={})[l.ParameterId.FunctionName]="clearFilterAsync",r);return i[l.ParameterId.VisualId]=e,i[l.ParameterId.FieldName]=t,this.execute(n,i).then((function(e){return t}))},t.prototype.applyRelativeDateFilterAsync=function(e,t,r){var n,i=l.VerbId.ApplyRelativeDateFilter,o=((n={})[l.ParameterId.FunctionName]="applyRelativeDateFilterAsync",n);if(o[l.ParameterId.VisualId]=e,o[l.ParameterId.FieldName]=t,o[l.ParameterId.PeriodType]=d.ExternalToInternalEnumMappings.periodType.convert(r.periodType),o[l.ParameterId.DateRangeType]=d.ExternalToInternalEnumMappings.dateRangeType.convert(r.rangeType),r.rangeType===s.DateRangeType.LastN||r.rangeType===s.DateRangeType.NextN){if(void 0===r.rangeN||null===r.rangeN)throw new c.TableauError(s.EmbeddingErrorCodes.MissingRangeNForRelativeDateFilters,"Missing rangeN field for a relative date filter of LASTN or NEXTN.");o[l.ParameterId.RangeN]=r.rangeN}return void 0!==r.anchorDate&&null!==r.anchorDate&&(o[l.ParameterId.AnchorDate]=this.convertAnchorDate(r.anchorDate)),this.execute(i,o).then((function(e){return e.result}))},t.prototype.getFiltersAsync=function(e){var t,r=this,n=l.VerbId.GetFilters,i=((t={})[l.ParameterId.FunctionName]="getFiltersAsync",t);return i[l.ParameterId.VisualId]=e,this.execute(n,i).then((function(e){var t=e.result;return r.convertDomainFilters(t)}))},t.prototype.getCategoricalDomainAsync=function(e,t,r){var n,i=this,o=l.VerbId.GetCategoricalDomain,a=((n={})[l.ParameterId.FunctionName]="getCategoricalDomainAsync",n);return a[l.ParameterId.VisualId]={worksheet:e},a[l.ParameterId.FieldId]=t,a[l.ParameterId.DomainType]=d.ExternalToInternalEnumMappings.filterDomainType.convert(r),this.execute(o,a).then((function(e){var t=e.result;return i.convertCategoricalDomain(t,r)}))},t.prototype.getRangeDomainAsync=function(e,t,r){var n,i=this,o=l.VerbId.GetRangeDomain,a=((n={})[l.ParameterId.FunctionName]="getRangeDomainAsync",n);return a[l.ParameterId.VisualId]={worksheet:e},a[l.ParameterId.FieldId]=t,a[l.ParameterId.DomainType]=d.ExternalToInternalEnumMappings.filterDomainType.convert(r),this.execute(o,a).then((function(e){var t=e.result;return i.convertRangeDomain(t,r)}))},t.prototype.getDashboardFiltersAsync=function(){var e,t=this,r=l.VerbId.GetDashboardFilters,n=((e={})[l.ParameterId.FunctionName]="getDashboardFiltersAsync",e);return this.execute(r,n).then((function(e){var r=e.result;return t.convertDomainFilters(r)}))},t.prototype.applyDashboardFilterAsync=function(e,t,r,n){var i,o=l.VerbId.DashboardCategoricalFilter,a=((i={})[l.ParameterId.FunctionName]="applyDashboardFilterAsync",i);return a[l.ParameterId.FieldName]=e,a[l.ParameterId.FilterValues]=t,a[l.ParameterId.FilterUpdateType]=d.ExternalToInternalEnumMappings.filterUpdateType.convert(r),a[l.ParameterId.IsExcludeMode]=n&&!!n.isExcludeMode,this.execute(o,a).then((function(e){return e.result}))},t.prototype.getAppliedWorksheetsAsync=function(e,t){var r;return o(this,void 0,void 0,(function(){var n,i;return a(this,(function(o){switch(o.label){case 0:return[4,this.executeGetAppliedWorksheets(e,t,"getAppliedWorksheetsAsync")];case 1:return n=o.sent(),i=[],null===(r=n.worksheets)||void 0===r||r.map((function(e){e.isSelected&&i.push(e.worksheetName)})),[2,i]}}))}))},t.prototype.setAppliedWorksheetsAsync=function(e,t,r,n){return o(this,void 0,void 0,(function(){var i,o,u,d,p;return a(this,(function(a){switch(a.label){case 0:return[4,this.executeGetAppliedWorksheets(e,r,"getAppliedWorksheetsAsyncInternal")];case 1:if(!(i=a.sent())||!i.worksheets)throw new c.TableauError(s.SharedErrorCodes.InternalError,"This filter does not apply to multiple worksheets");if(o=[],u="",i.worksheets.forEach((function(e){e.isActive&&(u=e.worksheetName),(e.isSelected||e.isEnabled)&&o.push(e.worksheetName)})),""===u)throw new c.TableauError(s.SharedErrorCodes.InternalError,"No active worksheet");if(!n.includes(u))throw new c.TableauError(s.SharedErrorCodes.InternalError,u+" must be included in the applied worksheets");return n.forEach((function(e){if(!o.includes(e))throw new c.TableauError(s.SharedErrorCodes.InternalError,"The field "+t+" isn't applicable to the worksheet "+e)})),d=l.VerbId.ChangeSharedFilter,(p={})[l.ParameterId.FunctionName]="setAppliedWorksheetsAsync",p[l.ParameterId.VisualId]={worksheet:e},p[l.ParameterId.FieldId]=r,p[l.ParameterId.SharedFilterSheets]=n,[2,this.execute(d,p).then((function(e){return n}))]}}))}))},t.prototype.executeGetAppliedWorksheets=function(e,t,r){var n=l.VerbId.GetSharedFilter,i={};return i[l.ParameterId.FunctionName]=r,i[l.ParameterId.VisualId]={worksheet:e},i[l.ParameterId.FieldId]=t,this.execute(n,i).then((function(e){return e.result}))},t.prototype.convertDomainFilters=function(e){var t=this,r=[];return e.forEach((function(e){switch(e.filterType){case l.FilterType.Categorical:if(!(n=e))throw new Error("Invalid Categorical Filter");r.push(t.convertCategoricalFilter(n));break;case l.FilterType.Hierarchical:if(!(n=e))throw new Error("Invalid Hierarchical Filter");r.push(t.convertHierarchicalFilter(n));break;case l.FilterType.Range:if(!(n=e))throw new Error("Invalid Range Filter");r.push(t.convertRangeFilter(n));break;case l.FilterType.RelativeDate:var n;if(!(n=e))throw new Error("Invalid Relative Date Filter");r.push(t.convertRelativeDateFilter(n))}})),r},t.prototype.convertCategoricalFilter=function(e){var t=e.values.map((function(e){return h.DataValueFactory.MakeFilterDataValue(e)}));return new f.CategoricalFilter(e.visualId.worksheet,e.fieldCaption,e.fieldName,l.FilterType.Categorical,this._registryId,t,e.isExclude,e.isAllSelected)},t.prototype.convertHierarchicalFilter=function(e){var t=e.values.map((function(e){return new f.HierarchicalDataValue(h.DataValueFactory.MakeFilterDataValue(e.value),e.hierarchicalPath,e.level)})),r=e.levelInfo.map((function(e){return new f.HierarchicalLevelDetail(e.name,p.InternalToExternalEnumMappings.hierarchicalLevelSelectionState.convert(e.levelSelectionState))}));return new f.HierarchicalFilter(e.visualId.worksheet,e.fieldCaption,e.fieldName,l.FilterType.Hierarchical,this._registryId,e.dimensionName,e.hierarchyCaption,e.levels,r,t,e.isAllSelected)},t.prototype.convertRangeFilter=function(e){var t=h.DataValueFactory.MakeFilterDataValue(e.min),r=h.DataValueFactory.MakeFilterDataValue(e.max);return new f.RangeFilter(e.visualId.worksheet,e.fieldCaption,e.fieldName,l.FilterType.Range,this._registryId,t,r,e.includeNullValues)},t.prototype.convertRelativeDateFilter=function(e){var t=h.DataValueFactory.MakeFilterDataValue(e.anchorDate);return new f.RelativeDateFilter(e.visualId.worksheet,e.fieldCaption,e.fieldName,s.FilterType.RelativeDate,this._registryId,t,p.InternalToExternalEnumMappings.dateStepPeriod.convert(e.periodType),p.InternalToExternalEnumMappings.dateRangeType.convert(e.rangeType),e.rangeN)},t.prototype.convertCategoricalDomain=function(e,t){var r=e.values.map((function(e){return h.DataValueFactory.MakeFilterDataValue(e)}));return new f.CategoricalDomain(r,t)},t.prototype.convertRangeDomain=function(e,t){var r=h.DataValueFactory.MakeFilterDataValue(e.min),n=h.DataValueFactory.MakeFilterDataValue(e.max);return new f.RangeDomain(r,n,t)},t.prototype.convertAnchorDate=function(e){var t=e.getUTCFullYear(),r=e.getUTCMonth()+1,n=e.getUTCDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds();if(isNaN(t)||isNaN(r)||isNaN(n)||isNaN(i)||isNaN(o)||isNaN(a))throw new c.TableauError(s.EmbeddingErrorCodes.InvalidDateParameter,"Invalid date parameter: anchorDate");return t+"-"+r+"-"+n+" "+i+":"+o+":"+a},t.prototype.apiFilterHandlerCheckForCommandError=function(e){if(e[u.ParameterId.ParameterError]){if(e[u.ParameterId.InvalidFieldCaption])throw new c.TableauError(s.SharedErrorCodes.InvalidFilterFieldName,e[u.ParameterId.InvalidFieldCaption]);if(e[u.ParameterId.InvalidValues])throw new c.TableauError(s.SharedErrorCodes.InvalidFilterFieldValue,e[u.ParameterId.InvalidValues]);if(e[u.ParameterId.InvalidAggFieldName])throw new c.TableauError(s.SharedErrorCodes.InvalidAggregationFieldName,e[u.ParameterId.InvalidAggFieldName]);throw new c.TableauError(s.SharedErrorCodes.ServerError,"Server Error")}},t}(r(1167).ServiceImplBase);t.FilterServiceImpl=y},5210:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(1750),a=r(4695),s=r(8022),u=r(4007),l=r(2336),c=r(4284),d=r(2513),p=r(8175),f=r(850),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewDataTableCacheId=s.v4(),t}return i(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"get-data-service"},enumerable:!0,configurable:!0}),t.prototype.getMaxRowLimit=function(){return 1e4},t.prototype.getViewDataTableCacheId=function(){return this.viewDataTableCacheId},t.prototype.getLimitedMaxRows=function(e){var t=this.getMaxRowLimit()+1;return e>0&&e<t?e:t},t.prototype.getUnderlyingDataAsync=function(e,t,r,n,i,o,s,u){var c,d=this,p=t===f.GetDataType.Summary,h=p?"getSummaryDataAsync":"getUnderlyingDataAsync",m=p?a.VerbId.GetDataSummaryData:a.VerbId.GetUnderlyingData,y=m===a.VerbId.GetUnderlyingData?this.getLimitedMaxRows(s):s,v=((c={})[a.ParameterId.FunctionName]=h,c);return v[a.ParameterId.VisualId]=e,v[a.ParameterId.IgnoreAliases]=r,v[a.ParameterId.IgnoreSelection]=n,v[a.ParameterId.IncludeAllColumns]=i,v[a.ParameterId.ColumnsToIncludeById]=this.verifyIncludeColumnArray(o),v[a.ParameterId.MaxRows]=y,v[a.ParameterId.ShowDataTableFormat]=l.ExternalToInternalEnumMappings.showDataTableFormatType.convert(u),this.execute(m,v).then((function(e){var t=e.result;return d.processResultsTable(t.data,t.isSummary)}))},t.prototype.getSummaryDataReaderAsync=function(e,t,r,n,i,o,s){var u,c=this,p=((u={})[a.ParameterId.FunctionName]="getSummaryDataReaderAsync",u[a.ParameterId.ViewDataTableCacheId]=this.getViewDataTableCacheId(),u[a.ParameterId.VisualId]=e,u[a.ParameterId.PageRowCount]=t,u[a.ParameterId.IgnoreAliases]=r,u[a.ParameterId.IgnoreSelection]=n,u[a.ParameterId.IncludeAllColumns]=i,u[a.ParameterId.ColumnsToIncludeById]=this.verifyIncludeColumnArray(o),u[a.ParameterId.ShowDataTableFormat]=l.ExternalToInternalEnumMappings.showDataTableFormatType.convert(s),u);return this.execute(a.VerbId.GetDataSummaryDataReader,p).then((function(e){var r=e.result;return new d.DataTableReader(r.id,r.totalRowCount,t,c._registryId)}))},t.prototype.getSummaryColumnsInfoAsync=function(e){var t,r=a.VerbId.GetDataSummaryData,n=((t={})[a.ParameterId.FunctionName]="getSummaryColumnsInfoAsync",t[a.ParameterId.VisualId]=e,t[a.ParameterId.IgnoreAliases]=!0,t[a.ParameterId.IgnoreSelection]=!0,t[a.ParameterId.IncludeAllColumns]=!0,t[a.ParameterId.MaxRows]=1,t[a.ParameterId.ShowDataTableFormat]=a.ApiShowDataTableFormat.NativeValuesOnly,t);return this.execute(r,n).then((function(e){return e.result.data.headers.map((function(e){return new c.Column(e.fieldCaption,e.fieldName,e.dataType,e.isReferenced,e.index)}))}))},t.prototype.getSelectedMarksAsync=function(e){var t,r=this,n=((t={})[a.ParameterId.FunctionName]="getSelectedMarksAsync",t[a.ParameterId.VisualId]=e,t);return this.execute(a.VerbId.GetSelectedMarks,n).then((function(e){return{data:e.result.data.map((function(e){return r.processResultsTable(e,!0)}))}}))},t.prototype.getHighlightedMarksAsync=function(e){var t,r=this,n=((t={})[a.ParameterId.FunctionName]="getHighlightedMarksAsync",t[a.ParameterId.VisualId]=e,t);return this.execute(a.VerbId.GetHighlightedMarks,n).then((function(e){return{data:e.result.data.map((function(e){return r.processResultsTable(e,!0)}))}}))},t.prototype.getDataSourceDataAsync=function(e,t,r,n,i,o){var s,u=this,c=((s={})[a.ParameterId.FunctionName]="getDataSourceDataAsync",s[a.ParameterId.DataSourceId]=e,s[a.ParameterId.IgnoreAliases]=t,s[a.ParameterId.MaxRows]=this.getLimitedMaxRows(r),s[a.ParameterId.ColumnsToInclude]=this.verifyIncludeColumnArray(n),s[a.ParameterId.ColumnsToIncludeById]=this.verifyIncludeColumnArray(i),s[a.ParameterId.ShowDataTableFormat]=l.ExternalToInternalEnumMappings.showDataTableFormatType.convert(o),s);return this.execute(a.VerbId.GetDataSourceData,c).then((function(e){var t=e.result;return u.processResultsTable(t.data,!1)}))},t.prototype.getLogicalTableDataAsync=function(e,t,r,n,i,o,s){var u,c=this,d=((u={})[a.ParameterId.FunctionName]="getLogicalTableDataAsync",u[a.ParameterId.ColumnsToInclude]=i,u[a.ParameterId.ColumnsToIncludeById]=this.verifyIncludeColumnArray(o),u[a.ParameterId.DataSourceId]=e,u[a.ParameterId.IgnoreAliases]=r,u[a.ParameterId.LogicalTableId]=t,u[a.ParameterId.MaxRows]=this.getLimitedMaxRows(n),u[a.ParameterId.ShowDataTableFormat]=l.ExternalToInternalEnumMappings.showDataTableFormatType.convert(s),u);return this.execute(a.VerbId.GetLogicalTableData,d).then((function(e){var t=e.result;return c.processResultsTable(t.data,!1)}))},t.prototype.getLogicalTableDataReaderAsync=function(e,t,r,n,i,o){var s,u=this,c=((s={})[a.ParameterId.FunctionName]="getLogicalTableDataReaderAsync",s[a.ParameterId.ViewDataTableCacheId]=this.getViewDataTableCacheId(),s[a.ParameterId.DataSourceId]=e,s[a.ParameterId.LogicalTableId]=t,s[a.ParameterId.PageRowCount]=r,s[a.ParameterId.IgnoreAliases]=n,s[a.ParameterId.ColumnsToIncludeById]=this.verifyIncludeColumnArray(i),s[a.ParameterId.ShowDataTableFormat]=l.ExternalToInternalEnumMappings.showDataTableFormatType.convert(o),s);return this.execute(a.VerbId.GetLogicalTableDataReader,c).then((function(e){var t=e.result;return new d.DataTableReader(t.id,t.totalRowCount,r,u._registryId)}))},t.prototype.getUnderlyingTableDataAsync=function(e,t,r,n,i,o,s,u){var c,d=this,p=((c={})[a.ParameterId.FunctionName]="getUnderlyingTableDataAsync",c[a.ParameterId.VisualId]=e,c[a.ParameterId.LogicalTableId]=t,c[a.ParameterId.IgnoreAliases]=r,c[a.ParameterId.IgnoreSelection]=n,c[a.ParameterId.IncludeAllColumns]=i,c[a.ParameterId.ColumnsToIncludeById]=this.verifyIncludeColumnArray(o),c[a.ParameterId.MaxRows]=this.getLimitedMaxRows(s),c[a.ParameterId.ShowDataTableFormat]=l.ExternalToInternalEnumMappings.showDataTableFormatType.convert(u),c);return this.execute(a.VerbId.GetUnderlyingTableData,p).then((function(e){var t=e.result;return d.processResultsTable(t.data,!1)}))},t.prototype.getUnderlyingTableDataReaderAsync=function(e,t,r,n,i,o,s,u){var c,p=this,f=((c={})[a.ParameterId.FunctionName]="getUnderlyingTableDataReaderAsync",c[a.ParameterId.ViewDataTableCacheId]=this.getViewDataTableCacheId(),c[a.ParameterId.VisualId]=e,c[a.ParameterId.LogicalTableId]=t,c[a.ParameterId.IgnoreAliases]=n,c[a.ParameterId.IgnoreSelection]=i,c[a.ParameterId.IncludeAllColumns]=o,c[a.ParameterId.ColumnsToIncludeById]=this.verifyIncludeColumnArray(s),c[a.ParameterId.ShowDataTableFormat]=l.ExternalToInternalEnumMappings.showDataTableFormatType.convert(u),c[a.ParameterId.PageRowCount]=r,c);return this.execute(a.VerbId.GetUnderlyingTableDataReader,f).then((function(e){var t=e.result;return new d.DataTableReader(t.id,t.totalRowCount,r,p._registryId)}))},t.prototype.getPageAsync=function(e,r,n){var i,o=this,s=((i={})[a.ParameterId.FunctionName]="getPageAsync",i[a.ParameterId.ViewDataTableCacheId]=this.getViewDataTableCacheId(),i[a.ParameterId.ViewDataTableId]=e,i[a.ParameterId.DataRowIndex]=r*n,i);return this.execute(a.VerbId.GetDataTableReaderPage,s).then((function(r){var n=r.result;return o.processResultsPage(n,e===t.summaryTableId)}))},t.prototype.releaseAsync=function(e){var t,r=((t={})[a.ParameterId.FunctionName]="release",t[a.ParameterId.ViewDataTableCacheId]=this.getViewDataTableCacheId(),t[a.ParameterId.ViewDataTableId]=e,t);return this.execute(a.VerbId.ReleaseDataTableReader,r).then((function(e){}))},t.prototype.verifyIncludeColumnArray=function(e){if(!Array.isArray(e))throw new u.TableauError(o.ErrorCodes.InvalidParameter,"columnsToInclude and columnsToIncludeById must be valid arrays");var t=new Set(e);return Array.from(t)},t.prototype.processResultsTable=function(e,t){var r,n=e.headers.map((function(e){return new c.Column(e.fieldCaption,e.fieldName,e.dataType,e.isReferenced,e.index)}));e.marks&&(r=e.marks.map((function(e){return new c.MarkInfo(e.type,e.color,e.tupleId)})));var i=!1===t&&e.dataTable.length===this.getMaxRowLimit()+1;i&&(e.dataTable.length-=1);var o=e.dataTable.map((function(e){return e.map((function(e,t){return p.DataValueFactory.MakeTableDataValue(e,n[t].dataType)}))}));return r?new c.DataTable(o,n,o.length,i,t,r):new c.DataTable(o,n,o.length,i,t)},t.prototype.processResultsPage=function(e,t){var r,n=e.headers.map((function(e){return new c.Column(e.fieldCaption,e.fieldName,e.dataType,e.isReferenced,e.index)}));e.marks&&(r=e.marks.map((function(e){return new c.MarkInfo(e.type,e.color,e.tupleId)})));var i=e.dataTable.map((function(e){return e.map((function(e,t){return p.DataValueFactory.MakeTableDataValue(e,n[t].dataType)}))}));return r?new c.DataTable(i,n,i.length,!1,t,r):new c.DataTable(i,n,i.length,!1,t)},t.summaryTableId="",t}(r(1167).ServiceImplBase);t.GetDataServiceImpl=h},2294:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"notification-service"},enumerable:!0,configurable:!0}),t}(r(333).NotificationServiceImplBase);t.NotificationServiceImpl=o},333:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this._filterFn=e,this._callbackFn=t}return e.prototype.onNotification=function(e){this._filterFn(e)&&this._callbackFn(e)},e}();t.Registration=r;var n=function(){function e(e){this.dispatcher=e,this._handlers={},this.dispatcher.registerNotificationHandler(this.onNotification.bind(this))}return e.prototype.registerHandler=function(e,t,n){var i=this,o=this._handlers[e]||new Array,a=new r(t,n);return o.push(a),this._handlers[e]=o,function(){return i.removeRegistration(e,a)}},e.prototype.hasHandlersForNotificationType=function(e){return this._handlers.hasOwnProperty(e)},e.prototype.onNotification=function(e){this.hasHandlersForNotificationType(e.notificationId)&&this._handlers[e.notificationId].forEach((function(t){return t.onNotification(e.data)}))},e.prototype.removeRegistration=function(e,t){this.hasHandlersForNotificationType(e)&&(this._handlers[e]=this._handlers[e].filter((function(e){return e!==t})))},e}();t.NotificationServiceImplBase=n},7658:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(1750),a=r(4695),s=r(6560),u=r(1554),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"parameters-service"},enumerable:!0,configurable:!0}),t.prototype.getParametersForSheetAsync=function(e){var t,r=((t={})[a.ParameterId.FunctionName]="getParametersForSheetAsync",t[a.ParameterId.SheetPath]=e,t);return this.getParametersAsync(r)},t.prototype.getAllParametersAsync=function(){var e,t=((e={})[a.ParameterId.FunctionName]="getParametersForSheetAsync",e);return this.getParametersAsync(t)},t.prototype.getParametersAsync=function(e){var t=this;return this.execute(a.VerbId.GetParametersForSheet,e).then((function(e){return e.result.map((function(e){return new s.ParameterImpl(e,t._registryId)}))}))},t.prototype.changeParameterValueAsync=function(e,t){var r,n=((r={})[a.ParameterId.FunctionName]="changeParameterValueAsync",r[a.ParameterId.ParameterFieldName]=e,r[a.ParameterId.ParameterValue]=t,r);return this.execute(a.VerbId.ChangeParameterValue,n).then((function(e){return e.result}))},t.prototype.findParameterByNameAsync=function(e){return this.findParameterAsync(e,void 0)},t.prototype.findParameterByGlobalFieldNameAsync=function(e){return this.findParameterAsync(void 0,e)},t.prototype.findParameterAsync=function(e,t){var r,n=this,i=((r={})[a.ParameterId.FunctionName]="findParameterAsync",r);if(void 0!==e)i[a.ParameterId.ParameterCaption]=e;else{if(void 0===t)throw new u.TableauError(o.ErrorCodes.InvalidParameter,"name or fieldName must be provided to find parameter");i[a.ParameterId.ParameterFieldName]=t}return this.execute(a.VerbId.FindParameter,i).then((function(e){if("fieldName"in e.result){var t=e.result;return new s.ParameterImpl(t,n._registryId)}}))},t}(r(1167).ServiceImplBase);t.ParametersServiceImpl=l},7132:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(1750),a=r(4695),s=r(1426),u=r(1554),l=r(6077),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"selection-service"},enumerable:!0,configurable:!0}),t.prototype.clearSelectedMarksAsync=function(e){var t,r=((t={})[a.ParameterId.FunctionName]="clearSelectedMarksAsync",t[a.ParameterId.VisualId]=e,t);return this.execute(a.VerbId.ClearSelectedMarks,r).then((function(e){}))},t.prototype.selectMarksByValueAsync=function(e,t,r){var n,i=this;if(0===t.length)throw new u.TableauError(o.ErrorCodes.InvalidParameter,"Selection criteria missing for selecting marks by value");var s=this.validateSelectionUpdateType(r),l=this.parseSelectionMarks(t),c=((n={})[a.ParameterId.FunctionName]="selectMarksByValueAsync",n[a.ParameterId.VisualId]=e,n[a.ParameterId.SelectionUpdateType]=s,n);return l.hierModelArr&&l.hierModelArr.length&&(c[a.ParameterId.HierValSelectionModels]=l.hierModelArr),l.quantModelArr&&l.quantModelArr.length&&(c[a.ParameterId.QuantRangeSelectionModels]=l.quantModelArr),l.dimModelArr&&l.dimModelArr.length&&(c[a.ParameterId.DimValSelectionModels]=l.dimModelArr),this.execute(a.VerbId.SelectByValue,c).then((function(e){i.apiFilterHandlerCheckForCommandError(e.result)}))},t.prototype.apiFilterHandlerCheckForCommandError=function(e){if(e[a.ParameterId.ParameterError]){if(e[a.ParameterId.InvalidFields])throw new u.TableauError(o.SharedErrorCodes.InvalidSelectionFieldName,e[a.ParameterId.InvalidFields]);if(e[a.ParameterId.InvalidValues])throw new u.TableauError(o.SharedErrorCodes.InvalidSelectionValue,e[a.ParameterId.InvalidValues]);if(e[a.ParameterId.InvalidDates])throw new u.TableauError(o.SharedErrorCodes.InvalidSelectionDate,e[a.ParameterId.InvalidDates])}},t.prototype.selectMarksByIdAsync=function(e,t,r){var n;if(0===t.length)throw new u.TableauError(o.ErrorCodes.InvalidParameter,"Marks info missing for selecting marks by Id");var i=this.validateSelectionUpdateType(r),s=this.parseSelectionIds(t),l=((n={})[a.ParameterId.FunctionName]="selectMarksByIdAsync",n[a.ParameterId.VisualId]=e,n[a.ParameterId.SelectionUpdateType]=i,n[a.ParameterId.Selection]=s.selection,n);return this.execute(a.VerbId.SelectByValue,l).then((function(e){}))},t.prototype.parseSelectionIds=function(e){for(var t=[],r=new s.SelectionModelsContainer,n=0;n<e.length;n++){var i=e[n].tupleId;if(null==i)throw new u.TableauError(o.ErrorCodes.InternalError,"tupleId parsing error");t.push(i.toString())}if(0!==t.length){var a=new s.TupleSelectionModel;a.selectionType="tuples",a.objectIds=t,r.selection=a}return r},t.prototype.parseSelectionMarks=function(e){for(var t=new s.SelectionModelsContainer,r=0;r<e.length;r++){var n=e[r];if(!n.fieldName||void 0===n.value||null===n.value)throw new u.TableauError(o.ErrorCodes.InternalError,"Selection Criteria parsing error");var i=new RegExp("([[A-Za-z0-9]+]).*","g"),a=n.value;if(i.test(n.fieldName)){var l=this.addToParamsList(n.fieldName,n.value);t.hierModelArr.push(l)}else if(void 0!==a.min&&void 0!==a.max){var c=this.addToRangeParamsList(n.fieldName,a);t.quantModelArr.push(c)}else{var d=this.addToParamsList(n.fieldName,n.value);t.dimModelArr.push(d)}}return t},t.prototype.addToParamsList=function(e,t){var r=new s.ValueSelectionModel,n=[];if(t instanceof Array)for(var i=t,o=0;o<i.length;o++)n.push(l.Param.serializeParameterValue(i[o]));else n.push(l.Param.serializeParameterValue(t));return r.qualifiedFieldCaption=e,r.selectValues=n,r},t.prototype.addToRangeParamsList=function(e,t){var r=new s.RangeSelectionModel;return r.qualifiedFieldCaption=e,void 0!==t.max&&null!==t.max&&(r.maxValue=l.Param.serializeParameterValue(t.max)),void 0!==t.min&&null!==t.min&&(r.minValue=l.Param.serializeParameterValue(t.min)),r.included=this.validateNullOptionType(t.nullOption),r},t.prototype.validateSelectionUpdateType=function(e){return e===o.SelectionUpdateType.Replace?a.SelectionUpdateType.Replace:e===o.SelectionUpdateType.Add?a.SelectionUpdateType.Add:e===o.SelectionUpdateType.Remove?a.SelectionUpdateType.Remove:a.SelectionUpdateType.Replace},t.prototype.validateNullOptionType=function(e){if(e){if(e===o.FilterNullOption.NullValues)return a.QuantitativeIncludedValues.IncludeNull;if(e===o.FilterNullOption.NonNullValues)return a.QuantitativeIncludedValues.IncludeNonNull;if(e===o.FilterNullOption.AllValues)return a.QuantitativeIncludedValues.IncludeAll}return a.QuantitativeIncludedValues.IncludeAll},t}(r(1167).ServiceImplBase);t.SelectionServiceImpl=c},1167:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(5126),i=r(1554),o=r(4406),a=function(){function e(e,t){this._dispatcher=e,this._registryId=t}return e.prototype.execute=function(e,t){return this._dispatcher.execute(e,t).catch((function(e){var t=e,r=n.InternalToExternalEnumMappings.errorCode.convert(t.errorCode,o.ShouldThrow.No);throw new i.TableauError(r,t.message)}))},e}();t.ServiceImplBase=a},8226:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(4695),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"size-service"},enumerable:!0,configurable:!0}),t.prototype.changeSizeAsync=function(e,t){var r,n,i,a,s,u=((r={})[o.ParameterId.FunctionName]="changeSizeAsync",r[o.ParameterId.SheetName]=e,r[o.ParameterId.MinHeight]=(null===(n=t.minSize)||void 0===n?void 0:n.height)||0,r[o.ParameterId.MinWidth]=(null===(i=t.minSize)||void 0===i?void 0:i.width)||0,r[o.ParameterId.MaxHeight]=(null===(a=t.maxSize)||void 0===a?void 0:a.height)||0,r[o.ParameterId.MaxWidth]=(null===(s=t.maxSize)||void 0===s?void 0:s.width)||0,r);return this.execute(o.VerbId.SetSheetSize,u).then((function(e){}))},t}(r(1167).ServiceImplBase);t.SizeServiceImpl=a},2812:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(4695),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"story-activation-service"},enumerable:!0,configurable:!0}),t.prototype.activateNextStoryPointAsync=function(){var e,t=o.VerbId.ActivateNextStoryPoint,r=((e={})[o.ParameterId.FunctionName]="activateNextStoryPointAsync",e);return this.execute(t,r).then((function(e){}))},t.prototype.activatePreviousStoryPointAsync=function(){var e,t=o.VerbId.ActivatePreviousStoryPoint,r=((e={})[o.ParameterId.FunctionName]="activatePreviousStoryPointAsync",e);return this.execute(t,r).then((function(e){}))},t.prototype.activateStoryPointAsync=function(e){var t,r=o.VerbId.ActivateStoryPoint,n=((t={})[o.ParameterId.FunctionName]="activateStoryPointAsync",t);return n[o.ParameterId.StoryPointIndex]=e,this.execute(r,n).then((function(e){}))},t.prototype.revertStoryPointAsync=function(e){var t,r=o.VerbId.RevertStoryPoint,n=((t={})[o.ParameterId.FunctionName]="revertStoryPointAsync",t);return n[o.ParameterId.StoryPointIndex]=e,this.execute(r,n).then((function(e){return e.result}))},t}(r(1167).ServiceImplBase);t.StoryActivationServiceImpl=a},8434:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(4695),a=r(2913),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"viz-service"},enumerable:!0,configurable:!0}),t.prototype.createVizImageAsync=function(e){var t,r=((t={})[o.ParameterId.FunctionName]="createVizImageAsync",t[o.ParameterId.VizAPIInputJson]=JSON.stringify(e),t);return this.execute(o.VerbId.VizAPI,r).then((function(e){return e.result}))},t.prototype.activateSheetAsync=function(e){var t,r=((t={})[o.ParameterId.FunctionName]="activateSheetAsync",t[o.ParameterId.SwitchToSheetName]=e,t);return this.execute(o.VerbId.ActivateSheet,r).then((function(){}))},t.prototype.getCustomViewsAsync=function(){var e,t=this,r=((e={})[o.ParameterId.FunctionName]="getCustomViewsAsync",e);return this.execute(o.VerbId.GetCustomViews,r).then((function(e){return e.result.map((function(e){return new a.CustomViewImpl(e,t._registryId)}))}))},t.prototype.showCustomViewAsync=function(e){var t,r=this,n=((t={})[o.ParameterId.FunctionName]="showCustomViewAsync",t[o.ParameterId.CustomViewName]=e,t);return this.execute(o.VerbId.ShowCustomView,n).then((function(e){var t=e.result;return new a.CustomViewImpl(t,r._registryId)}))},t.prototype.removeCustomViewAsync=function(e){var t,r=this,n=((t={})[o.ParameterId.FunctionName]="removeCustomViewAsync",t[o.ParameterId.CustomViewName]=e,t);return this.execute(o.VerbId.RemoveCustomView,n).then((function(e){var t=e.result;return new a.CustomViewImpl(t,r._registryId)}))},t.prototype.saveCustomViewAsync=function(e){var t,r=this,n=((t={})[o.ParameterId.FunctionName]="saveCustomViewAsync",t[o.ParameterId.CustomViewName]=e,t[o.ParameterId.CustomViewIsDefault]=!1,t);return this.execute(o.VerbId.SaveWorkbookAsCustomView,n).then((function(e){var t=e.result;return new a.CustomViewImpl(t,r._registryId)}))},t.prototype.setActiveCustomViewAsDefaultAsync=function(){var e,t=((e={})[o.ParameterId.FunctionName]="setActiveCustomViewAsDefaultAsync",e);return this.execute(o.VerbId.SetActiveCustomViewAsDefault,t).then((function(){}))},t.prototype.saveAsync=function(e){var t,r=this,n=((t={})[o.ParameterId.FunctionName]="saveAsync",t[o.ParameterId.CustomViewLuid]=e.luid,t[o.ParameterId.CustomViewName]=e.name,t[o.ParameterId.CustomViewIsDefault]=e.isDefault,t[o.ParameterId.CustomViewIsPublic]=e.shared,t);return this.execute(o.VerbId.UpdateCustomView,n).then((function(e){var t=e.result;return new a.CustomViewImpl(t,r._registryId)}))},t.prototype.getCurrentSrcAsync=function(){var e,t=((e={})[o.ParameterId.FunctionName]="getCurrentSrcAsync",e);return this.execute(o.VerbId.GetCurrentSrc,t).then((function(e){return e.result}))},t}(r(1167).ServiceImplBase);t.VizServiceImpl=s},8009:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(1750),a=r(4695),s=r(2336),u=r(316),l=r(6077),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"serviceName",{get:function(){return"zone-service"},enumerable:!0,configurable:!0}),t.prototype.setVisibilityAsync=function(e,t,r){var n,i=((n={})[a.ParameterId.FunctionName]="setVisibilityAsync",n[a.ParameterId.Dashboard]=e,n[a.ParameterId.ZoneIdsVisibilityMap]={},n);return l.Param.convertParameterToMap(r,"zoneVisibilityMap").forEach((function(e,r){u.ErrorHelpers.verifyZoneIsValid(t,Number.parseInt(r,10)),u.ErrorHelpers.verifyEnumValue(e,o.DashboardObjectVisibilityType,"DashboardObjectVisibilityType"),i[a.ParameterId.ZoneIdsVisibilityMap][r]=s.ExternalToInternalEnumMappings.setVisibilityType.convert(e)})),this.execute(a.VerbId.SetZoneVisibility,i).then((function(e){}))},t.prototype.moveAndResizeAsync=function(e,t,r){var n,i=((n={})[a.ParameterId.Dashboard]=e,n[a.ParameterId.DashboardObjectPositionAndSizeUpdateList]=r,n);return r.forEach((function(e){u.ErrorHelpers.verifyZoneIsValidAndFloating(t,e.dashboardObjectID),u.ErrorHelpers.verifyWidthAndHeightOfDashboardObjectPositionAndSizeUpdate(e)})),this.execute(a.VerbId.MoveAndResizeZones,i).then((function(e){}))},t}(r(1167).ServiceImplBase);t.ZoneServiceImpl=c},1738:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._tableInfo=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this._tableInfo.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._tableInfo.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"connectionId",{get:function(){return this._tableInfo.connectionId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customSQL",{get:function(){return this._tableInfo.customSQL},enumerable:!0,configurable:!0}),e}();t.TableSummary=r},1554:function(e,t){var r,n=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(r,n){var i=e.call(this,r+": "+n)||this;return i._errorCode=r,Object.setPrototypeOf(i,t.prototype),i}return n(t,e),Object.defineProperty(t.prototype,"errorCode",{get:function(){return this._errorCode},enumerable:!0,configurable:!0}),t}(Error);t.TableauError=i},8175:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(4695),i=r(4284),o=function(){function e(){}return e.MakeParameterDataValue=function(e,t){return new i.DataValue(e.value,n.DataTypeConverter.convertStringValueToNativeValue(e.value,t),e.formattedValue)},e.MakeFilterDataValue=function(e){return new i.DataValue(e.value,e.value,e.formattedValue)},e.MakeTableDataValue=function(e,t){return new i.DataValue(e.value,void 0!==e.value?n.DataTypeConverter.convertValueToNativeValue(e.value,t):void 0,e.formattedValue)},e}();t.DataValueFactory=o},9685:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var e=this;this._promise=new Promise((function(t,r){e._resolve=t,e._reject=r}))}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!0,configurable:!0}),e.prototype.resolve=function(e){this._resolve&&this._resolve(e)},e.prototype.reject=function(e){this._reject&&this._reject(e)},e}();t.Deferred=r,t.UnregisterTimeoutInMilliseconds=3e4},4406:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(1750),o=r(1554),a=function(){function e(e,t){this._mappings=e,this._defaultVal=t}return e.prototype.convert=function(e,t){if(void 0===t&&(t=n.Yes),this._mappings.hasOwnProperty(e))return this._mappings[e];if(void 0!==this._defaultVal&&t!==n.Yes)return this._defaultVal;throw new o.TableauError(i.ErrorCodes.InternalError,"Enum Mapping not found for: "+e)},e}();t.EnumConverter=a,function(e){e.Yes="yes",e.No="no"}(n=t.ShouldThrow||(t.ShouldThrow={}))},316:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1750),i=r(1554),o=r(6077),a=function(){function e(){}return e.apiNotImplemented=function(e){return new i.TableauError(n.SharedErrorCodes.InternalError,e+" API not yet implemented.")},e.verifyInternalValue=function(e,t){if(null==e)throw new i.TableauError(n.SharedErrorCodes.InternalError,e+" is invalid value for: "+t)},e.verifyParameter=function(e,t){if(null==e)throw new i.TableauError(n.SharedErrorCodes.InvalidParameter,e+" is invalid value for parameter: "+t)},e.verifyParameterType=function(e,t,r){if(N(e)!==t)throw new i.TableauError(n.SharedErrorCodes.InvalidParameter,e+" has invalid type for parameter: "+r+".")},e.verifyStringParameter=function(e,t){if(null==e||""===e)throw new i.TableauError(n.SharedErrorCodes.InvalidParameter,e+" is invalid value for paramter: "+t)},e.verifyEnumValue=function(e,t,r){var o=!1;if(Object.keys(t).forEach((function(r){t[r]===e.toString()&&(o=!0)})),!o)throw new i.TableauError(n.SharedErrorCodes.InvalidParameter,e+" is invalid value for enum: "+r+".")},e.verifyRange=function(e,t,r){if(!(t<=e&&e<r))throw new i.TableauError(n.SharedErrorCodes.InvalidParameter,e+" is invalid value for range: ["+t+".."+r+")")},e.verifyRangeParamType=function(e,t){if(!e&&!t)throw new i.TableauError(n.SharedErrorCodes.InvalidParameter,"Unexpected invalid param value, at least one of min or max is required.");if(e&&!o.Param.isTypeNumber(e)&&!o.Param.isTypeDate(e))throw new i.TableauError(n.SharedErrorCodes.InvalidParameter,"Unexpected invalid param value, only Date and number are allowed for parameter min.");if(t&&!o.Param.isTypeNumber(t)&&!o.Param.isTypeDate(t))throw new i.TableauError(n.SharedErrorCodes.InvalidParameter,"Unexpected invalid param value, only Date and number are allowed for parameter max.");if(e&&t&&N(e)!=N(t))throw new i.TableauError(n.SharedErrorCodes.InvalidParameter,"Unexpected invalid param value, parameters min and max should be of the same type.")},e.verifyZoneIsValid=function(e,t){if(!e.has(t))throw new i.TableauError(n.SharedErrorCodes.InvalidParameter,"Unexpected invalid param value, Dashboard Object Id: "+t+" is not present in dashboard.")},e.verifyZoneIsValidAndFloating=function(e,t){if(!e.has(t)||!e.get(t).isFloating)throw new i.TableauError(n.SharedErrorCodes.InvalidParameter,"Unexpected invalid param value, Dashboard Object Id: "+t+" is not present or is a fixed zone in the dashboard.")},e.verifyWidthAndHeightOfDashboardObjectPositionAndSizeUpdate=function(e){if(e.width<0||e.height<0)throw new i.TableauError(n.SharedErrorCodes.InvalidParameter,"Unexpected invalid param value for dashboard object ID "+e.dashboardObjectID+": negative widths and heights are not allowed.")},e.verifySheetName=function(e,t){if(!e.includes(t))throw new i.TableauError(n.SharedErrorCodes.InvalidSelectionSheet,"sheetName parameter must belong to a worksheet within the current view")},e.verifyExportDataOptions=function(e){if(!o.Param.isNullOrUndefined(e.ignoreAliases)&&!o.Param.isTypeBool(e.ignoreAliases)||!o.Param.isNullOrUndefined(e.columnsToIncludeById)&&!Array.isArray(e.columnsToIncludeById))throw new i.TableauError(n.SharedErrorCodes.InvalidParameter,"options paramater must be of type ExportDataOptions")},e.verifySheetNamesForPDFAndPPT=function(e,t){if(!Array.isArray(e))throw new i.TableauError(n.SharedErrorCodes.InvalidParameter,"sheetNames parameter must be an array");if(0===e.length)throw new i.TableauError(n.SharedErrorCodes.InternalError,"sheetNames should not be empty");if(!e.every((function(e){return t.exportableSheetNamesFromDashboard.includes(e)}))&&!(e.every((function(e){return t.exportableSheetNamesFromWorkbook.includes(e)}))||1===e.length&&e[0]===t.currentSheetName))throw new i.TableauError(n.SharedErrorCodes.InvalidSelectionSheet,"sheetNames parameter must have all its entries be exportable sheet names from the dashboard or all its entries be exportable sheet names from the workbook")},e.verifyExportPDFOptions=function(e){try{this.verifyEnumValue(e.orientation,n.PrintOrientation,"PrintOrientation"),this.verifyEnumValue(e.pageSize,n.PrintPageSize,"PrintPageSize"),this.verifyEnumValue(e.scaling,n.PrintScaling,"PrintScaling")}catch(e){throw new i.TableauError(n.SharedErrorCodes.InvalidParameter,"options parameter must be of type ExportPDFOptions")}},e}();t.ErrorHelpers=a},2561:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(4695),i=r(1750),o=r(1554),a=function(){function e(){}return e.updateInternalExportPDFOptions=function(e,t,r){e.currentSheet=r[0],this.updateExportLayoutOptions(e,t),this.updateSheetOptions(e,r)},e.updateExportLayoutOptions=function(e,t){var r=e.exportLayoutOptions;switch(r.imageHeight=this.DefaultLayoutOptions.imageHeight,r.imageWidth=this.DefaultLayoutOptions.imageWidth,t.orientation){case i.PrintOrientation.Landscape:r.pageOrientationOption=n.PageOrientation.Landscape;break;case i.PrintOrientation.Portrait:r.pageOrientationOption=n.PageOrientation.Portrait;break;default:throw new o.TableauError(i.SharedErrorCodes.InternalError,"invalid orientation for ExportPDFOption")}switch(t.pageSize){case i.PrintPageSize.A3:r.pageSizeOption=n.PageSizeOption.A3;break;case i.PrintPageSize.A4:r.pageSizeOption=n.PageSizeOption.A4;break;case i.PrintPageSize.A5:r.pageSizeOption=n.PageSizeOption.A5;break;case i.PrintPageSize.B4:r.pageSizeOption=n.PageSizeOption.B4;break;case i.PrintPageSize.B5:r.pageSizeOption=n.PageSizeOption.B5;break;case i.PrintPageSize.Executive:r.pageSizeOption=n.PageSizeOption.Executive;break;case i.PrintPageSize.Folio:r.pageSizeOption=n.PageSizeOption.Folio;break;case i.PrintPageSize.Ledger:r.pageSizeOption=n.PageSizeOption.Ledger;break;case i.PrintPageSize.Legal:r.pageSizeOption=n.PageSizeOption.Legal;break;case i.PrintPageSize.Letter:r.pageSizeOption=n.PageSizeOption.Letter;break;case i.PrintPageSize.Note:r.pageSizeOption=n.PageSizeOption.Note;break;case i.PrintPageSize.Quarto:r.pageSizeOption=n.PageSizeOption.Quarto;break;case i.PrintPageSize.Statement:r.pageSizeOption=n.PageSizeOption.Statement;break;case i.PrintPageSize.Tabloid:r.pageSizeOption=n.PageSizeOption.Tabloid;break;case i.PrintPageSize.Unspecified:r.pageSizeOption=n.PageSizeOption.Unspecified;break;default:throw new o.TableauError(i.SharedErrorCodes.InternalError,"invalid pageSize for ExportPDFOption")}switch(t.scaling){case i.PrintScaling.AtMost1PageHigh:this.setFitAndScaleValues(r,n.FitPages.FitOneHigh);break;case i.PrintScaling.AtMost1PageWide:this.setFitAndScaleValues(r,n.FitPages.FitOneWide);break;case i.PrintScaling.AtMost2PagesHigh:this.setFitAndScaleValues(r,n.FitPages.FitTwoHigh);break;case i.PrintScaling.AtMost2PagesWide:this.setFitAndScaleValues(r,n.FitPages.FitTwoWide);break;case i.PrintScaling.Automatic:this.setFitAndScaleValues(r,n.PageScalingOption.ScalePctAuto);break;case i.PrintScaling.Perc100:this.setFitAndScaleValues(r,n.PageScalingOption.ScalePct100);break;case i.PrintScaling.Perc200:this.setFitAndScaleValues(r,n.PageScalingOption.ScalePct200);break;case i.PrintScaling.Perc25:this.setFitAndScaleValues(r,n.PageScalingOption.ScalePct25);break;case i.PrintScaling.Perc400:this.setFitAndScaleValues(r,n.PageScalingOption.ScalePct400);break;case i.PrintScaling.Perc50:this.setFitAndScaleValues(r,n.PageScalingOption.ScalePct50);break;case i.PrintScaling.Perc60:this.setFitAndScaleValues(r,n.PageScalingOption.ScalePct60);break;case i.PrintScaling.Perc75:this.setFitAndScaleValues(r,n.PageScalingOption.ScalePct75);break;case i.PrintScaling.Perc80:this.setFitAndScaleValues(r,n.PageScalingOption.ScalePct80);break;case i.PrintScaling.Perc90:this.setFitAndScaleValues(r,n.PageScalingOption.ScalePct90);break;default:throw new o.TableauError(i.SharedErrorCodes.InternalError,"invalid scaling for ExportPDFOption")}},e.updateSheetOptions=function(e,t){for(var r=e.exportLayoutOptions,n=0,i=e.sheetOptions;n<i.length;n++){var o=i[n];o.exportLayoutOptions=r,o.isSelected=t.includes(o.sheet)}},e.setFitAndScaleValues=function(e,t){var r,i=this.DefaultLayoutOptions,o=i.pageFitHorizontal,a=i.pageFitVertical,s=i.pageScaleMode,u=i.pageScalePercent,l=this.fitRegex.exec(t),c=this.pctRegex.exec(t);l?(o=(r=l.slice(1).map((function(e){return Number(e)})))[0],a=r[1],s=n.ScaleMode.ScaleFitPages):c&&(u=c.slice(1).map((function(e){return Number(e)}))[0],s=n.ScaleMode.ScalePercentage),e.pageFitHorizontal=o,e.pageFitVertical=a,e.pageScaleMode=s,e.pageScalePercent=u},e.DefaultDataOptions={ignoreAliases:!1,columnsToIncludeById:[]},e.DefaultPDFOptions={scaling:i.PrintScaling.Automatic,pageSize:i.PrintPageSize.Letter,orientation:i.PrintOrientation.Portrait},e.DefaultLayoutOptions={imageHeight:0,imageWidth:0,pageFitHorizontal:1,pageFitVertical:1,pageOrientationOption:n.PageOrientation.Portrait,pageScaleMode:n.ScaleMode.ScaleAuto,pageScalePercent:100,pageSizeOption:n.PageSizeOption.Letter},e.fitRegex=new RegExp("fit([0-9]+)x([0-9]+)"),e.pctRegex=new RegExp("pct([0-9]+)"),e}();t.ExportHelpers=a},6077:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1750),i=r(1554),o=r(316),a=function(){function e(){}return e.serializeDateForPlatform=function(e){return e.getUTCFullYear()+"-"+(e.getUTCMonth()+1)+"-"+e.getUTCDate()+" "+e.getUTCHours()+":"+e.getUTCMinutes()+":"+e.getUTCSeconds()},e.serializeBooleanForPlatform=function(e){return e?"true":"false"},e.serializeNumberForPlatform=function(e){return e.toString(10)},e.isTypeNumber=function(e){return"number"==typeof e||e instanceof Number},e.isTypeDate=function(e){return e instanceof Date},e.isTypeString=function(e){return"string"==typeof e||e instanceof String},e.isTypeBool=function(e){return"boolean"==typeof e||e instanceof Boolean},e.isNullOrUndefined=function(e){return null==e},e.serializeParameterValue=function(t){if(e.isTypeNumber(t))return e.serializeNumberForPlatform(t);if(e.isTypeDate(t))return e.serializeDateForPlatform(t);if(e.isTypeBool(t))return e.serializeBooleanForPlatform(t);if(e.isTypeString(t))return t;throw new i.TableauError(n.ErrorCodes.InternalError,"Unexpected invalid value for: "+t)},e.convertParameterToMap=function(e,t){if(o.ErrorHelpers.verifyParameterType(e,"object",t),Array.isArray(e))throw new i.TableauError(n.ErrorCodes.InvalidParameter,"Expecting object or Map for: "+t+".");return e instanceof Map?e:new Map(Object.entries(e))},e.tryParseNumber=function(t){if(e.isNullOrUndefined(t))return{success:!1};if(e.isTypeNumber(t))return{parsed:t,success:!0};var r=t.toString();if("NaN"===r)return{parsed:NaN,success:!0};var n=parseFloat(r);return isNaN(n)?{success:!1}:{parsed:n,success:!0}},e}();t.Param=a},489:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1750),i=r(4695),o=r(1554),a=function(){function e(){}return e.getSheetSizeFromSizeConstraints=function(e){var t=e.minWidth,r=e.minHeight,i=e.maxWidth,o=e.maxHeight;if(0===r&&0===t)return 0===o&&0===i?{behavior:n.SheetSizeBehavior.Automatic}:{behavior:n.SheetSizeBehavior.AtMost,maxSize:{width:i,height:o}};if(0===o&&0===i)return{behavior:n.SheetSizeBehavior.AtLeast,minSize:{width:t,height:r}};if(o===r&&i===t&&t>0)return{behavior:n.SheetSizeBehavior.Exactly,minSize:{width:t,height:r},maxSize:{width:t,height:r}};var a=0===t&&0===i;return{behavior:n.SheetSizeBehavior.Range,minSize:{width:t,height:r},maxSize:{width:a?2147483647:i,height:o}}},e.createAutomaticSize=function(){return{behavior:n.SheetSizeBehavior.Automatic,minSize:{width:0,height:0},maxSize:{width:0,height:0}}},e.getPublishedSheetInfoByName=function(e,t){return t.find((function(t){return t.name===e}))},e.getSheetTypeEnum=function(e){var t;switch(e){case i.SheetType.Worksheet:t=n.SheetType.Worksheet;break;case i.SheetType.Dashboard:t=n.SheetType.Dashboard;break;case i.SheetType.Story:t=n.SheetType.Story;break;default:throw new o.TableauError(n.SharedErrorCodes.ServerError,"Invalid SheetType")}return t},e.isValidSheetSize=function(e){return void 0!==e.behavior},e}();t.SheetUtils=a},8634:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1750),i=r(1554),o=r(9685),a=function(){function e(e){void 0===e&&(e=o.UnregisterTimeoutInMilliseconds),this._timeoutInMilliseconds=e}return e.prototype.getNewPromiseOrThrowIfBusy=function(){var e=this;if(this._deferred)throw new i.TableauError(n.SharedErrorCodes.ApiExecutionError,"This api cannot be executed till previous call is resolved.");return this._deferred=new o.Deferred,this._timeoutId=setTimeout((function(){var t=new i.TableauError(n.SharedErrorCodes.Timeout,"Api failed to complete in "+e._timeoutInMilliseconds/1e3+" seconds");e.reject(t)}),this._timeoutInMilliseconds),this._deferred.promise},e.prototype.resolve=function(e){this._deferred&&(clearTimeout(this._timeoutId),this._deferred.resolve(e),this._deferred=void 0)},e.prototype.reject=function(e){this._deferred&&(clearTimeout(this._timeoutId),this._deferred.reject(e),this._deferred=void 0)},e}();t.ShortLivedDeferred=a},6081:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1750),i=r(1554),o=function(){function e(e,t){var r=e.split("-");this.build=this.getBuildNumber(r[1]);var o=(e=r[0]).split(".").map((function(e){return parseInt(e,10)}));if(3!==o.length)throw new i.TableauError(n.ErrorCodes.InternalError,"Invalid version number: "+e);this.major=o[0],this.minor=o[1],this.fix=o[2],this.isAlpha=t}return e.prototype.getBuildNumber=function(e){if(!e)return-1;var t=e.split(".");return t[1]?parseInt(t[1],10):-1},Object.defineProperty(e.prototype,"formattedValue",{get:function(){return this.major+"."+this.minor+"."+this.fix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullFormattedValue",{get:function(){return this.major+"."+this.minor+"."+this.fix+"-pre."+this.build},enumerable:!0,configurable:!0}),e}();t.VersionNumber=o},107:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(4695),i=function(){function e(e,t){var r=this;this._apiDelegateDispatcher=e,this._versionConverter=n.CreateExternalCompatibleVersionConverter(n.INTERNAL_CONTRACT_VERSION,t),this._notificationHandlers=[],e.registerNotificationHandler((function(e){if(0!==r._notificationHandlers.length){var t=r._versionConverter.upgradeNotification(e);r._notificationHandlers.forEach((function(e){e(t)}))}}))}return e.needsVersionConverter=function(e){return n.VersionLessThan(e,n.INTERNAL_CONTRACT_VERSION)},e.prototype.execute=function(e,t){var r=this;try{var n=this._versionConverter.downgradeExecuteCall(e,t);return this._apiDelegateDispatcher.execute(n.verb,n.parameters).then((function(n){return r._versionConverter.upgradeExecuteReturn(n,e,t)}))}catch(e){return Promise.reject(e)}},e.prototype.registerNotificationHandler=function(e){this._notificationHandlers.push(e)},e.prototype.unregisterNotificationHandler=function(e){this._notificationHandlers=this._notificationHandlers.filter((function(t){return t!==e}))},e}();t.VersionedExternalApiDispatcher=i},2725:function(e){e.exports=JSON.parse('{"major":1,"minor":131,"fix":0}')}},V={};function R(e){var t=V[e];if(void 0!==t)return t.exports;var r=V[e]={exports:{}};return F[e].call(r.exports,r,r.exports,R),r.exports}R.g=function(){if("object"==("undefined"==typeof globalThis?"undefined":N(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==("undefined"==typeof window?"undefined":N(window)))return window}}();var j={};!function(){var e=j;Object.defineProperty(e,"X$",{value:!0});var t=R(1750),r=R(4007),n=R(53),i=R(123),o=R(4882),a="undefined"!=typeof VERSION_IS_ALPHA&&VERSION_IS_ALPHA;r.ApiVersion.SetVersionNumber("3.6.0-pre.19",a),window.customElements.define("tableau-viz",o.TableauViz),window.customElements.define("tableau-authoring-viz",i.TableauAuthoringViz),window.customElements.define("tableau-ask-data",n.TableauAskData);var s=Object.assign(Object.assign({},t.EmbeddingErrorCodes),t.SharedErrorCodes);e.SM=s;var u=R(1750);e.qP=u.ForecastObjectType,e.JJ=u.AnnotationType,e.qI=u.ApiMenuType,e.G3=u.ClassNameKey,e.QD=u.ColumnType,e.V9=u.CrosstabFileFormat,e.bZ=u.DashboardLayoutChange,e.LN=u.DashboardObjectType,e.g=u.DataType,e.NU=u.DateRangeType,e.Yi=u.DeviceType,e.Xb=u.EmbeddingTableauEventType,e.nF=u.EncodingType,e.TP=u.FieldAggregationType,e.yS=u.FieldRoleType,e.iV=u.FilterDomainType,e.JW=u.FilterNullOption,e.vA=u.FilterType,e._0=u.FilterUpdateType,e.Bd=u.HierarchicalLevelSelectionState,e.Sc=u.IncludeDataValuesOption,e.ZU=u.MarkType,e.fc=u.ParameterValueType,e.tN=u.PeriodType,e.Y4=u.PrintOrientation,e.yw=u.PrintPageSize,e.A1=u.PrintScaling,e.d=u.QuickTableCalcType,e.hP=u.SelectionUpdateType,e.Hx=u.SheetSizeBehavior,e.jy=u.SheetType,e.Sr=u.SortDirection,e.MU=u.TableauDialogType,e.o8=u.Toolbar,e.Tx=u.TrendLineModelType;var l=R(53);e.CG=l.TableauAskData;var c=R(123);e.Wx=c.TableauAuthoringViz;var d=R(4882);e.P4=d.TableauViz}();var z=r(508),U=r(511),L=r(526),W=r.n(L);function H(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function Y(e){H(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===G(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function q(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function K(e){H(1,arguments);var t=Y(e),r=t.getUTCDay(),n=(r<1?7:0)+r-1;return t.setUTCDate(t.getUTCDate()-n),t.setUTCHours(0,0,0,0),t}function Q(e){H(1,arguments);var t=Y(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=K(n),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var a=K(o);return t.getTime()>=i.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}var Z={};function X(){return Z}function J(e,t){var r,n,i,o,a,s,u,l;H(1,arguments);var c=X(),d=q(null!==(r=null!==(n=null!==(i=null!==(o=null==t?void 0:t.weekStartsOn)&&void 0!==o?o:null==t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:c.weekStartsOn)&&void 0!==n?n:null===(u=c.locale)||void 0===u||null===(l=u.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Y(e),f=p.getUTCDay(),h=(f<d?7:0)+f-d;return p.setUTCDate(p.getUTCDate()-h),p.setUTCHours(0,0,0,0),p}function $(e,t){var r,n,i,o,a,s,u,l;H(1,arguments);var c=Y(e),d=c.getUTCFullYear(),p=X(),f=q(null!==(r=null!==(n=null!==(i=null!==(o=null==t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:p.firstWeekContainsDate)&&void 0!==n?n:null===(u=p.locale)||void 0===u||null===(l=u.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==r?r:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=new Date(0);h.setUTCFullYear(d+1,0,f),h.setUTCHours(0,0,0,0);var m=J(h,t),y=new Date(0);y.setUTCFullYear(d,0,f),y.setUTCHours(0,0,0,0);var v=J(y,t);return c.getTime()>=m.getTime()?d+1:c.getTime()>=v.getTime()?d:d-1}function ee(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}const te=function(e,t){var r=e.getUTCFullYear(),n=r>0?r:1-r;return ee("yy"===t?n%100:n,t.length)},re=function(e,t){var r=e.getUTCMonth();return"M"===t?String(r+1):ee(r+1,2)},ne=function(e,t){return ee(e.getUTCDate(),t.length)},ie=function(e,t){return ee(e.getUTCHours()%12||12,t.length)},oe=function(e,t){return ee(e.getUTCHours(),t.length)},ae=function(e,t){return ee(e.getUTCMinutes(),t.length)},se=function(e,t){return ee(e.getUTCSeconds(),t.length)},ue=function(e,t){var r=t.length,n=e.getUTCMilliseconds();return ee(Math.floor(n*Math.pow(10,r-3)),t.length)};var le={G:function(e,t,r){var n=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return te(e,t)},Y:function(e,t,r,n){var i=$(e,n),o=i>0?i:1-i;return"YY"===t?ee(o%100,2):"Yo"===t?r.ordinalNumber(o,{unit:"year"}):ee(o,t.length)},R:function(e,t){return ee(Q(e),t.length)},u:function(e,t){return ee(e.getUTCFullYear(),t.length)},Q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ee(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ee(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){var n=e.getUTCMonth();switch(t){case"M":case"MM":return re(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return ee(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){var i=function(e,t){H(1,arguments);var r=Y(e),n=J(r,t).getTime()-function(e,t){var r,n,i,o,a,s,u,l;H(1,arguments);var c=X(),d=q(null!==(r=null!==(n=null!==(i=null!==(o=null==t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:c.firstWeekContainsDate)&&void 0!==n?n:null===(u=c.locale)||void 0===u||null===(l=u.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==r?r:1),p=$(e,t),f=new Date(0);return f.setUTCFullYear(p,0,d),f.setUTCHours(0,0,0,0),J(f,t)}(r,t).getTime();return Math.round(n/6048e5)+1}(e,n);return"wo"===t?r.ordinalNumber(i,{unit:"week"}):ee(i,t.length)},I:function(e,t,r){var n=function(e){H(1,arguments);var t=Y(e),r=K(t).getTime()-function(e){H(1,arguments);var t=Q(e),r=new Date(0);return r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0),K(r)}(t).getTime();return Math.round(r/6048e5)+1}(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):ee(n,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):ne(e,t)},D:function(e,t,r){var n=function(e){H(1,arguments);var t=Y(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=r-t.getTime();return Math.floor(n/864e5)+1}(e);return"Do"===t?r.ordinalNumber(n,{unit:"dayOfYear"}):ee(n,t.length)},E:function(e,t,r){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){var i=e.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return ee(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){var i=e.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return ee(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){var n=e.getUTCDay(),i=0===n?7:n;switch(t){case"i":return String(i);case"ii":return ee(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){var n,i=e.getUTCHours();switch(n=12===i?"noon":0===i?"midnight":i/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){var n,i=e.getUTCHours();switch(n=i>=17?"evening":i>=12?"afternoon":i>=4?"morning":"night",t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){var n=e.getUTCHours()%12;return 0===n&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ie(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):oe(e,t)},K:function(e,t,r){var n=e.getUTCHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):ee(n,t.length)},k:function(e,t,r){var n=e.getUTCHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):ee(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):ae(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):se(e,t)},S:function(e,t){return ue(e,t)},X:function(e,t,r,n){var i=(n._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return de(i);case"XXXX":case"XX":return pe(i);default:return pe(i,":")}},x:function(e,t,r,n){var i=(n._originalDate||e).getTimezoneOffset();switch(t){case"x":return de(i);case"xxxx":case"xx":return pe(i);default:return pe(i,":")}},O:function(e,t,r,n){var i=(n._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ce(i,":");default:return"GMT"+pe(i,":")}},z:function(e,t,r,n){var i=(n._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ce(i,":");default:return"GMT"+pe(i,":")}},t:function(e,t,r,n){var i=n._originalDate||e;return ee(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,r,n){return ee((n._originalDate||e).getTime(),t.length)}};function ce(e,t){var r=e>0?"-":"+",n=Math.abs(e),i=Math.floor(n/60),o=n%60;if(0===o)return r+String(i);var a=t||"";return r+String(i)+a+ee(o,2)}function de(e,t){return e%60==0?(e>0?"-":"+")+ee(Math.abs(e)/60,2):pe(e,t)}function pe(e,t){var r=t||"",n=e>0?"-":"+",i=Math.abs(e);return n+ee(Math.floor(i/60),2)+r+ee(i%60,2)}const fe=le;var he=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},me=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};const ye={p:me,P:function(e,t){var r,n=e.match(/(P+)(p+)?/)||[],i=n[1],o=n[2];if(!o)return he(e,t);switch(i){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",he(i,t)).replace("{{time}}",me(o,t))}};var ve=["D","DD"],ge=["YY","YYYY"];function be(e,t,r){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var we={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function _e(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Se={date:_e({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:_e({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:_e({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var Ie={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Te(e){return function(t,r){var n;if("formatting"===(null!=r&&r.context?String(r.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!=r&&r.width?String(r.width):i;n=e.formattingValues[o]||e.formattingValues[i]}else{var a=e.defaultWidth,s=null!=r&&r.width?String(r.width):e.defaultWidth;n=e.values[s]||e.values[a]}return n[e.argumentCallback?e.argumentCallback(t):t]}}const Pe={ordinalNumber:function(e,t){var r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:Te({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Te({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Te({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Te({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Te({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Ae(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a,s=o[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(u)?function(e,t){for(var r=0;r<e.length;r++)if(e[r].test(s))return r}(u):function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&e[r].test(s))return r}(u);return a=e.valueCallback?e.valueCallback(l):l,{value:a=r.valueCallback?r.valueCallback(a):a,rest:t.slice(s.length)}}}var ke,Ee={ordinalNumber:(ke={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.match(ke.matchPattern);if(!r)return null;var n=r[0],i=e.match(ke.parsePattern);if(!i)return null;var o=ke.valueCallback?ke.valueCallback(i[0]):i[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(n.length)}}),era:Ae({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Ae({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ae({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Ae({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Ae({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const De={code:"en-US",formatDistance:function(e,t,r){var n,i=we[e];return n="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!=r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatLong:Se,formatRelative:function(e,t,r,n){return Ie[e]},localize:Pe,match:Ee,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Ce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Oe=/^'([^]*?)'?$/,Me=/''/g,Ne=/[a-zA-Z]/;function Fe(e,t,r){var n,i,o,a,s,u,l,c,d,p,f,h,m,y,v,g,b,w;H(2,arguments);var _=String(t),S=X(),I=null!==(n=null!==(i=null==r?void 0:r.locale)&&void 0!==i?i:S.locale)&&void 0!==n?n:De,T=q(null!==(o=null!==(a=null!==(s=null!==(u=null==r?void 0:r.firstWeekContainsDate)&&void 0!==u?u:null==r||null===(l=r.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==s?s:S.firstWeekContainsDate)&&void 0!==a?a:null===(d=S.locale)||void 0===d||null===(p=d.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==o?o:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=q(null!==(f=null!==(h=null!==(m=null!==(y=null==r?void 0:r.weekStartsOn)&&void 0!==y?y:null==r||null===(v=r.locale)||void 0===v||null===(g=v.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==m?m:S.weekStartsOn)&&void 0!==h?h:null===(b=S.locale)||void 0===b||null===(w=b.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==f?f:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!I.localize)throw new RangeError("locale must contain localize property");if(!I.formatLong)throw new RangeError("locale must contain formatLong property");var A=Y(e);if(!function(e){if(H(1,arguments),!function(e){return H(1,arguments),e instanceof Date||"object"===B(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!=typeof e)return!1;var t=Y(e);return!isNaN(Number(t))}(A))throw new RangeError("Invalid time value");var k=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}(A),E=function(e,t){return H(2,arguments),function(e,t){H(2,arguments);var r=Y(e).getTime(),n=q(t);return new Date(r+n)}(e,-q(t))}(A,k),D={firstWeekContainsDate:T,weekStartsOn:P,locale:I,_originalDate:A};return _.match(xe).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,ye[t])(e,I.formatLong):e})).join("").match(Ce).map((function(n){if("''"===n)return"'";var i,o,a=n[0];if("'"===a)return(o=(i=n).match(Oe))?o[1].replace(Me,"'"):i;var s,u=fe[a];if(u)return null!=r&&r.useAdditionalWeekYearTokens||(s=n,-1===ge.indexOf(s))||be(n,t,String(e)),null!=r&&r.useAdditionalDayOfYearTokens||!function(e){return-1!==ve.indexOf(e)}(n)||be(n,t,String(e)),u(E,n,I.localize,D);if(a.match(Ne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");return n})).join("")}function Ve(e,t){return t=t||{},new Promise((function(r,n){var i=new XMLHttpRequest,o=[],a=[],s={},u=function e(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:e,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var l in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,r){o.push(t=t.toLowerCase()),a.push([t,r]),s[t]=s[t]?s[t]+","+r:r})),r(u())},i.onerror=n,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(l,t.headers[l]);i.send(t.body||null)}))}const Re=function(e){var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){return t.reject(r)}))}))};function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}const ze=function(e){return new this((function(t,r){if(!e||void 0===e.length)return r(new TypeError(je(e)+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var i=n.length;function o(e,r){if(r&&("object"===je(r)||"function"==typeof r)){var a=r.then;if("function"==typeof a)return void a.call(r,(function(t){o(e,t)}),(function(r){n[e]={status:"rejected",reason:r},0==--i&&t(n)}))}n[e]={status:"fulfilled",value:r},0==--i&&t(n)}for(var a=0;a<n.length;a++)o(a,n[a])}))};function Ue(e,t){this.name="AggregateError",this.errors=e,this.message=t||""}Ue.prototype=Error.prototype;const Le=function(e){var t=this;return new t((function(r,n){if(!e||void 0===e.length)return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return n();for(var o=[],a=0;a<i.length;a++)try{t.resolve(i[a]).then(r).catch((function(e){o.push(e),o.length===i.length&&n(new Ue(o,"All promises were rejected"))}))}catch(e){n(e)}}))};function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}var He=setTimeout;function Be(e){return Boolean(e&&void 0!==e.length)}function Ge(){}function Ye(e){if(!(this instanceof Ye))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Je(e,this)}function qe(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,Ye._immediateFn((function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){var n;try{n=r(e._value)}catch(e){return void Qe(t.promise,e)}Ke(t.promise,n)}else(1===e._state?Ke:Qe)(t.promise,e._value)}))):e._deferreds.push(t)}function Ke(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===We(t)||"function"==typeof t)){var r=t.then;if(t instanceof Ye)return e._state=3,e._value=t,void Ze(e);if("function"==typeof r)return void Je((n=r,i=t,function(){n.apply(i,arguments)}),e)}e._state=1,e._value=t,Ze(e)}catch(t){Qe(e,t)}var n,i}function Qe(e,t){e._state=2,e._value=t,Ze(e)}function Ze(e){2===e._state&&0===e._deferreds.length&&Ye._immediateFn((function(){e._handled||Ye._unhandledRejectionFn(e._value)}));for(var t=0,r=e._deferreds.length;t<r;t++)qe(e,e._deferreds[t]);e._deferreds=null}function Xe(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function Je(e,t){var r=!1;try{e((function(e){r||(r=!0,Ke(t,e))}),(function(e){r||(r=!0,Qe(t,e))}))}catch(e){if(r)return;r=!0,Qe(t,e)}}Ye.prototype.catch=function(e){return this.then(null,e)},Ye.prototype.then=function(e,t){var r=new this.constructor(Ge);return qe(this,new Xe(e,t,r)),r},Ye.prototype.finally=Re,Ye.all=function(e){return new Ye((function(t,r){if(!Be(e))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var i=n.length;function o(e,a){try{if(a&&("object"===We(a)||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){o(e,t)}),r)}n[e]=a,0==--i&&t(n)}catch(e){r(e)}}for(var a=0;a<n.length;a++)o(a,n[a])}))},Ye.any=Le,Ye.allSettled=ze,Ye.resolve=function(e){return e&&"object"===We(e)&&e.constructor===Ye?e:new Ye((function(t){t(e)}))},Ye.reject=function(e){return new Ye((function(t,r){r(e)}))},Ye.race=function(e){return new Ye((function(t,r){if(!Be(e))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=e.length;n<i;n++)Ye.resolve(e[n]).then(t,r)}))},Ye._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){He(e,0)},Ye._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};const $e=Ye;var et=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("unable to locate global object")}();"function"!=typeof et.Promise?et.Promise=$e:(et.Promise.prototype.finally||(et.Promise.prototype.finally=Re),et.Promise.allSettled||(et.Promise.allSettled=ze),et.Promise.any||(et.Promise.any=Le));var tt=window.Traffic_Forecast,rt=function(e){return e<10?"0"+e:e};const nt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.headers={"X-WP-Nonce":tt.nonce,Accepts:"application/json"},t.credentials="same-origin";var r=tt.root+"Traffic-Forecast/v1"+e;if(t.body){if(!t.method||"GET"===t.method){for(var n in r.indexOf("?")<0?r+="?":r+="&",t.body)r+="".concat(window.encodeURIComponent(n),"=").concat(window.encodeURIComponent(t.body[n]),"&");r=r.substring(0,r.length-1),delete t.body}"POST"===t.method&&(t.headers["Content-Type"]="application/json","string"!=typeof t.body&&(t.body=JSON.stringify(t.body)))}return Ve(r,t).then((function(e){if(e.status>=400)throw new Error(e.statusText);return e})).then((function(e){return e.json()}))},it=function(e){return"".concat(e.getFullYear(),"-").concat(rt(e.getMonth()+1),"-").concat(rt(e.getDate()))};var ot=r(825),at={};at.styleTagTransform=p(),at.setAttributes=u(),at.insert=a().bind(null,"head"),at.domAPI=i(),at.insertStyleElement=c(),t()(ot.Z,at),ot.Z&&ot.Z.locals&&ot.Z.locals;var st=1e6,ut=/\.0+$/;const lt=function(e){var t=0;return e>=st?(e/=st,t=Math.max(0,3-String(Math.round(e)).length),e.toFixed(t).replace(ut,"")+"M"):e>=1e4?(e/=1e3,t=Math.max(0,3-String(Math.round(e)).length),e.toFixed(t).replace(ut,"")+"K"):String(e)},ct=function(e){return e<1&&e>-1&&(e=Math.round(100*e)),e>=0?"+".concat(e,"%"):"".concat(e,"%")},dt=function(e){if(e<10)return 10;var t=Math.floor(Math.log10(e)),r=Math.pow(10,t),n=e/r;return Math.ceil(n)*r};function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ft(e){var t=new Date(e.getFullYear(),e.getMonth(),1);return t.setMonth(t.getMonth()+1),t.setDate(0),t.getDate()===e.getDate()}function ht(e){var t=e.split("-");if(3!==t.length)return null;var r,n,i=t.map((function(e){return parseInt(e,10)})),o=(n=3,function(e){if(Array.isArray(e))return e}(r=i)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(r,n)||function(e,t){if(e){if("string"==typeof e)return pt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pt(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1],u=o[2];return a<1e3&&(a+=2e3),a<2e3||a>3e3||s<1||s>12||u<1||u>31?null:new Date(a,s-1,u)}const mt=wp.i18n;function yt(e){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yt(e)}function vt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==yt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==yt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===yt(i)?i:String(i)),n)}var i}function gt(e,t){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gt(e,t)}function bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wt(e){return wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wt(e)}var _t,St,It,Tt,Pt=window.Traffic_Forecast.colors[window.Traffic_Forecast.colors.length-1],At=(_t=Pt,St=parseInt(_t.substring(1,3),16),It=parseInt(_t.substring(3,5),16),Tt=parseInt(_t.substring(5,7),16),St=parseInt(80*St/100,10),It=(It=parseInt(80*It/100,10))<255?It:255,Tt=(Tt=parseInt(80*Tt/100,10))<255?Tt:255,"#"+(1===(St=St<255?St:255).toString(16).length?"0"+St.toString(16):St.toString(16))+(1===It.toString(16).length?"0"+It.toString(16):It.toString(16))+(1===Tt.toString(16).length?"0"+Tt.toString(16):Tt.toString(16))),kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gt(e,t)}(a,e);var t,r,n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wt(n);if(i){var r=wt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===yt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bt(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={dataset:[],yMax:0,groupByMonth:!1},t.tooltip=t.createTooltip(),t.showTooltip=t.showTooltip.bind(bt(t)),t.hideTooltip=t.hideTooltip.bind(bt(t)),t.updateChart=t.updateChart.bind(bt(t)),t.loadData=t.loadData.bind(bt(t)),t.autoRefresh=t.autoRefresh.bind(bt(t)),t}return t=a,r=[{key:"componentDidMount",value:function(){document.body.appendChild(this.tooltip),document.addEventListener("click",this.hideTooltip),this.refreshInterval=window.setInterval(this.autoRefresh,6e4),this.updateChart()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hideTooltip),window.clearInterval(this.refreshInterval)}},{key:"componentDidUpdate",value:function(e){this.props.startDate.getTime()===e.startDate.getTime()&&this.props.endDate.getTime()===e.endDate.getTime()||this.updateChart()}},{key:"autoRefresh",value:function(){var e=new Date;this.props.startDate<e&&this.props.endDate>e&&this.loadData()}},{key:"updateChart",value:function(){this.tooltip.style.display="none",this.loadData()}},{key:"loadData",value:function(){var e=this,t=this.props,r=t.startDate,n=t.endDate;nt("/stats",{body:{start_date:it(r),end_date:it(n)}}).then((function(t){for(var i,o={},a=0,s=1===r.getDate()&&ft(n)&&n.getMonth()-r.getMonth()>=2,u=new Date(+r);u<=n;)o[i=it(u)]={date:new Date(u.getTime()),pageviews:0,visitors:0},s?u.setMonth(u.getMonth()+1):u.setDate(u.getDate()+1);for(var l=0;l<t.length;l++){if(i=t[l].date,s){var c=new Date(i);c.setDate(1),i=it(c)}void 0!==o[i]?(o[i].pageviews+=t[l].pageviews,o[i].visitors+=t[l].visitors,o[i].pageviews>a&&(a=o[i].pageviews)):console.error("Unexpected date in response data",i)}var d=Object.values(o).map((function(e){return e.pageviews>0&&(e.visitors=Math.max(1,e.visitors)),e}));e.setState({dataset:d,yMax:a,groupByMonth:s})})).catch((function(){e.setState({dataset:[],yMax:0})}))}},{key:"createTooltip",value:function(){var e=document.createElement("div");return e.className="chart-tooltip",e.style.display="none",e}},{key:"showTooltip",value:function(e,t){var r=this.tooltip,n=this.state.groupByMonth;return function(i){r.innerHTML='\n      <div class="tooltip-inner">\n        <div class="heading">'.concat(Fe(e.date,n?"MMM yyyy":"MMM d, yyyy - EEEE"),'</div>\n        <div class="content">\n          <div class="visitors" style="border-top-color: ').concat(At,'">\n            <div class="amount">').concat(e.visitors,"</div>\n            <div>").concat((0,mt.__)("Visitors","Traffic-Forecast"),'</div>\n          </div>\n          <div class="pageviews" style="border-top-color: ').concat(Pt,'">\n            <div class="amount">').concat(e.pageviews,"</div>\n            <div>").concat((0,mt.__)("Pageviews","Traffic-Forecast"),'</div>\n          </div>\n        </div>\n      </div>\n      <div class="tooltip-arrow"></div>');var o=i.currentTarget.getBoundingClientRect();r.style.display="block",r.style.left=o.left+window.scrollX-.5*r.clientWidth+.5*t+"px",r.style.top=o.y+window.scrollY-r.clientHeight+"px"}}},{key:"hideTooltip",value:function(e){"click"===e.type&&"function"==typeof e.target.matches&&e.target.matches(".chart *, .tooltip *")||(this.tooltip.style.display="none")}},{key:"render",value:function(e,t){var r=this,n=t.dataset,i=t.yMax,o=t.groupByMonth,a=n.length;if(a<=1)return null;var s=e.width,u=e.height||Math.max(240,Math.min(window.innerHeight/3,window.innerWidth/2,360)),l=48,c=window.innerWidth>=1280,d=a<=90,p=s-l-24,f=u-36-24,h=Math.round(p/a),m=Math.round(.9*h),y=Math.round((h-m)/2),v=Math.round(.6*m),g=Math.round((m-v)/2),b=function(e){for(var t=dt(e),r=Math.round(t/2),n=[],i=0;i<=t;i+=r)n.push(i);return{ticks:n,max:t}}(i),w=f/b.max,_=function(e){return e*h},S=function(e){return b.max>0?Math.round(f-e*w):f};return(0,z.h)("div",{className:"box"},(0,z.h)("div",{className:"chart-container"},(0,z.h)("svg",{className:"chart",width:"100%",height:u},(0,z.h)("g",{className:"axes"},(0,z.h)("g",{className:"axes-y",transform:"translate(0, ".concat(24,")"),"text-anchor":"end"},b.ticks.map((function(e,t){var r=S(e);return(0,z.h)("g",{key:t},(0,z.h)("line",{stroke:"#EEE",x1:l,x2:p+l,y1:r,y2:r}),(0,z.h)("text",{fill:"#757575",x:36,y:r,dy:"0.33em"},lt(e)))}))),(0,z.h)("g",{className:"axes-x","text-anchor":"middle",transform:"translate(".concat(l,", ").concat(24+f,")")},n.map((function(e,t){var r=null;if(0===t?r=Fe(e.date,o?"MMM yyyy":"MMM d, yyyy"):t===a-1?r=Fe(e.date,o?"MMM yyyy":"MMM d"):c&&(a<=7||1===e.date.getDate()||a<=31&&t>=3&&t<a-3&&0===e.date.getDay())&&(r=Fe(e.date,o?"MMM":"MMM d")),!d&&!r)return null;var n=_(t)+.5*h;return(0,z.h)("g",{key:e.date.toDateString()},(0,z.h)("line",{stroke:"#DDD",x1:n,x2:n,y1:"0",y2:"6"}),r&&(0,z.h)("text",{fill:"#757575",x:n,y:"10",dy:"1em"},r))})))),(0,z.h)("g",{className:"bars",transform:"translate(".concat(l,", ").concat(24,")")},b.max>0&&n.map((function(e,t){if(0===e.pageviews)return"";var n=Math.round(e.pageviews*w),i=Math.round(e.visitors*w),o=_(t),a=r.showTooltip(e,m);return(0,z.h)("g",{key:e.date.toDateString(),onClick:a,onMouseEnter:a,onMouseLeave:r.hideTooltip},(0,z.h)("rect",{className:"pageviews",height:n,width:m,x:o+y,y:S(e.pageviews),fill:Pt}),(0,z.h)("rect",{className:"visitors",height:i,width:v,x:o+y+g,y:S(e.visitors),fill:At}))}))))))}}],r&&vt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(z.Component);kt.propTypes={startDate:W().instanceOf(Date).isRequired,endDate:W().instanceOf(Date).isRequired,width:W().number.isRequired,height:W().number};var Et=r(482),Dt=r.n(Et),Ct=r(745),xt={};xt.styleTagTransform=p(),xt.setAttributes=u(),xt.insert=a().bind(null,"head"),xt.domAPI=i(),xt.insertStyleElement=c(),t()(Ct.Z,xt),Ct.Z&&Ct.Z.locals&&Ct.Z.locals;var Ot=r(637),Mt={};function Nt(e,t){H(2,arguments);var r=Y(e),n=q(t);return isNaN(n)?new Date(NaN):n?(r.setDate(r.getDate()+n),r):r}function Ft(e){H(1,arguments);var t=Y(e);return t.setHours(0,0,0,0),t}function Vt(){return function(e){H(1,arguments);var t=Y(e);return t.setHours(23,59,59,999),t}(Date.now())}function Rt(e,t){var r,n,i,o,a,s,u,l;H(1,arguments);var c=X(),d=q(null!==(r=null!==(n=null!==(i=null!==(o=null==t?void 0:t.weekStartsOn)&&void 0!==o?o:null==t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:c.weekStartsOn)&&void 0!==n?n:null===(u=c.locale)||void 0===u||null===(l=u.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Y(e),f=p.getDay(),h=(f<d?7:0)+f-d;return p.setDate(p.getDate()-h),p.setHours(0,0,0,0),p}function jt(e,t){var r,n,i,o,a,s,u,l;H(1,arguments);var c=X(),d=q(null!==(r=null!==(n=null!==(i=null!==(o=null==t?void 0:t.weekStartsOn)&&void 0!==o?o:null==t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:c.weekStartsOn)&&void 0!==n?n:null===(u=c.locale)||void 0===u||null===(l=u.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Y(e),f=p.getDay(),h=6+(f<d?-7:0)-(f-d);return p.setDate(p.getDate()+h),p.setHours(23,59,59,999),p}function zt(e){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(e)}function Ut(e,t){if(H(2,arguments),!t||"object"!==zt(t))return new Date(NaN);var r=t.years?q(t.years):0,n=t.months?q(t.months):0,i=t.weeks?q(t.weeks):0,o=t.days?q(t.days):0,a=t.hours?q(t.hours):0,s=t.minutes?q(t.minutes):0,u=t.seconds?q(t.seconds):0,l=function(e,t){return H(2,arguments),Nt(e,-q(t))}(function(e,t){return H(2,arguments),function(e,t){H(2,arguments);var r=Y(e),n=q(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var i=r.getDate(),o=new Date(r.getTime());return o.setMonth(r.getMonth()+n+1,0),i>=o.getDate()?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}(e,-q(t))}(e,n+12*r),o+7*i),c=1e3*(u+60*(s+60*a));return new Date(l.getTime()-c)}function Lt(e){H(1,arguments);var t=Y(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Wt(e){H(1,arguments);var t=Y(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ht(e){H(1,arguments);var t=Y(e),r=t.getMonth(),n=r-r%3;return t.setMonth(n,1),t.setHours(0,0,0,0),t}function Bt(e){H(1,arguments);var t=Y(e),r=t.getMonth(),n=r-r%3+3;return t.setMonth(n,0),t.setHours(23,59,59,999),t}function Gt(e){H(1,arguments);var t=Y(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Yt(e){H(1,arguments);var t=Y(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}Mt.styleTagTransform=p(),Mt.setAttributes=u(),Mt.insert=a().bind(null,"head"),Mt.domAPI=i(),Mt.insertStyleElement=c(),t()(Ot.Z,Mt),Ot.Z&&Ot.Z.locals&&Ot.Z.locals;var qt=parseInt(window.Traffic_Forecast.start_of_week,10)||1;const Kt=[{key:"custom",label:(0,mt.__)("Custom","Traffic-Forecast")},{key:"today",label:(0,mt.__)("Today","Traffic-Forecast"),dates:function(){return{startDate:Ft(Date.now()),endDate:Vt()}}},{key:"yesterday",label:(0,mt.__)("Yesterday","Traffic-Forecast"),dates:function(){var e,t,r,n,i,o=(t=(e=new Date).getFullYear(),r=e.getMonth(),n=e.getDate(),(i=new Date(0)).setFullYear(t,r,n-1),i.setHours(0,0,0,0),i),a=function(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),i=new Date(0);return i.setFullYear(t,r,n-1),i.setHours(23,59,59,999),i}();return{startDate:o,endDate:a}}},{key:"this_week",label:(0,mt.__)("This week","Traffic-Forecast"),dates:function(){var e=new Date;return{startDate:Rt(e,{weekStartsOn:qt}),endDate:jt(e,{weekStartsOn:qt})}}},{key:"last_week",label:(0,mt.__)("Last week","Traffic-Forecast"),dates:function(){var e=Ut(new Date,{weeks:1});return{startDate:Rt(e,{weekStartsOn:qt}),endDate:jt(e,{weekStartsOn:qt})}}},{key:"last_28_days",label:(0,mt.__)("Last 28 days","Traffic-Forecast"),dates:function(){return{startDate:Ft(Ut(new Date,{days:27})),endDate:Vt()}}},{key:"this_month",label:(0,mt.__)("This month","Traffic-Forecast"),dates:function(){var e=new Date;return{startDate:Lt(e),endDate:Wt(e)}}},{key:"last_month",label:(0,mt.__)("Last month","Traffic-Forecast"),dates:function(){var e=Ut(new Date,{months:1});return{startDate:Lt(e),endDate:Wt(e)}}},{key:"this_quarter",label:(0,mt.__)("This quarter","Traffic-Forecast"),dates:function(){var e=new Date;return{startDate:Ht(e),endDate:Bt(e)}}},{key:"last_quarter",label:(0,mt.__)("Last quarter","Traffic-Forecast"),dates:function(){var e=Ut(Ht(new Date),{weeks:1});return{startDate:Ht(e),endDate:Bt(e)}}},{key:"this_year",label:(0,mt.__)("This year","Traffic-Forecast"),dates:function(){var e=new Date;return{startDate:Gt(e),endDate:Yt(e)}}},{key:"last_year",label:(0,mt.__)("Last year","Traffic-Forecast"),dates:function(){var e=Ut(new Date,{years:1});return{startDate:Gt(e),endDate:Yt(e)}}}];function Qt(e){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(e)}function Zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(r),!0).forEach((function(t){Jt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jt(e,t,r){return(t=er(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,er(n.key),n)}}function er(e){var t=function(e,t){if("object"!==Qt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Qt(t)?t:String(t)}function tr(e,t){return tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tr(e,t)}function rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nr(e){return nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nr(e)}var ir=parseInt(window.Traffic_Forecast.start_of_week,10),or=window.Traffic_Forecast.settings,ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tr(e,t)}(a,e);var t,r,n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=nr(n);if(i){var r=nr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Qt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rr(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={open:!1,picking:!1,preset:or.default_view,startDate:new Date(e.startDate.getTime()),endDate:new Date(e.endDate.getTime())},t.datepicker=null,t.datepickerContainer=null,t.toggle=t.toggle.bind(rr(t)),t.maybeClose=t.maybeClose.bind(rr(t)),t.setPeriod=t.setPeriod.bind(rr(t)),t.onKeydown=t.onKeydown.bind(rr(t)),t.setCustomStartDate=t.setCustomStartDate.bind(rr(t)),t.setCustomEndDate=t.setCustomEndDate.bind(rr(t)),t}return t=a,r=[{key:"componentDidMount",value:function(){var e=this;document.body.addEventListener("click",this.maybeClose),document.body.addEventListener("keydown",this.onKeydown);var t=this.datepicker=new(Dt())({field:document.getElementById("start-date-input"),bound:!1,firstDay:ir,numberOfMonths:window.innerWidth>680?2:1,enableSelectionDaysInNextAndPreviousMonths:!0,showDaysInNextAndPreviousMonths:!0,keyboardInput:!1,onSelect:function(r){var n={picking:!e.state.picking,preset:"custom"};!e.state.picking||null===e.state.startDate||r<e.state.startDate?(r.setHours(0,0,0),n=Xt(Xt({},n),{},{startDate:r,endDate:null}),t.setStartRange(r),t.setEndRange(null)):(r.setHours(23,59,59),n=Xt(Xt({},n),{},{endDate:r}),t.setEndRange(r),e.props.onUpdate(e.state.startDate,r)),e.setState(n),t.draw()},container:this.datepickerContainer});this.datepicker.setStartRange(this.state.startDate),this.datepicker.setEndRange(this.state.endDate),this.datepicker.gotoDate(this.state.endDate)}},{key:"componentWillUnmount",value:function(){this.datepicker.destroy(),document.body.removeEventListener("click",this.maybeClose),document.body.removeEventListener("keydown",this.onKeydown)}},{key:"toggle",value:function(){this.setState({open:!this.state.open})}},{key:"maybeClose",value:function(e){if(this.state.open){for(var t=e.target;null!==t;t=t.parentNode)if("string"==typeof t.className&&(t.className.indexOf("date-picker-ui")>-1||t.className.indexOf("date-label")>-1))return;this.toggle()}}},{key:"setPeriod",value:function(e){if("custom"!==e){var t=Kt.filter((function(t){return t.key===e})).shift();this.setState({preset:t.key});var r=t.dates(),n=r.startDate,i=r.endDate;this.setDates(n,i)}else this.setState({preset:e})}},{key:"setDates",value:function(e,t){this.datepicker.setStartRange(e),this.datepicker.setEndRange(t),this.datepicker.gotoDate(t),this.setState({startDate:e,endDate:t}),this.props.onUpdate(e,t)}},{key:"onKeydown",value:function(e){"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||this.quickNav("ArrowLeft"===e.key?"prev":"next")}},{key:"onQuickNavClick",value:function(e){var t=this;return function(r){r.preventDefault(),t.quickNav(e)}}},{key:"quickNav",value:function(e){var t=this.state,r=t.startDate,n=t.endDate,i=(n.getTime()-r.getTime())/1e3,o=Math.round(i/86400),a="prev"===e?-1:1;if(1===r.getDate()&&ft(n)){var s=n.getMonth()-r.getMonth()+1;r=new Date(r.getFullYear(),r.getMonth()+s*a,1,0,0,0),n=new Date(n.getFullYear(),n.getMonth()+s*a+1,0,23,59,59)}else r=Nt(r,o*a),n=Nt(n,o*a);this.setState({preset:"custom"}),this.setDates(r,n)}},{key:"setCustomStartDate",value:function(e){var t=ht(e.target.value);null!==t&&(t.setHours(0,0,0),this.setDates(t,this.state.endDate))}},{key:"setCustomEndDate",value:function(e){var t=ht(e.target.value);null!==t&&(t.setHours(23,59,59),this.setDates(this.state.startDate,t))}},{key:"render",value:function(e,t){var r=this,n=t.open,i=e.startDate,o=e.endDate;return(0,z.h)("div",{className:"date-nav"},(0,z.h)("div",null,(0,z.h)("div",{className:"date-label",onClick:this.toggle},(0,z.h)("span",{className:"dashicons dashicons-calendar-alt"}),(0,z.h)("span",null,Fe(i,"MMM d, yyyy")),(0,z.h)("span",null," â "),(0,z.h)("span",null,Fe(o,"MMM d, yyyy")))),(0,z.h)("div",{className:"date-picker-ui",style:{display:n?"":"none"}},(0,z.h)("div",{className:"date-quicknav cf"},(0,z.h)("span",{onClick:this.onQuickNavClick("prev"),className:"prev dashicons dashicons-arrow-left",title:(0,mt.__)("Previous","Traffic-Forecast")}),(0,z.h)("span",{className:"date"},(0,z.h)("span",null,Fe(i,"MMM d, yyyy")),(0,z.h)("span",null," â "),(0,z.h)("span",null,Fe(o,"MMM d, yyyy"))),(0,z.h)("span",{onClick:this.onQuickNavClick("next"),className:"next dashicons dashicons-arrow-right",title:(0,mt.__)("Next","Traffic-Forecast")})),(0,z.h)("div",{className:"flex"},(0,z.h)("div",{className:"date-presets"},(0,z.h)("div",null,(0,z.h)("label",{for:"ka-date-presets"},(0,mt.__)("Date range","Traffic-Forecast")),(0,z.h)("select",{id:"ka-date-presets",onChange:function(e){r.setPeriod(e.target.value)}},Kt.map((function(e){return(0,z.h)("option",{key:e.key,value:e.key,selected:t.preset===e.key},e.label)})))),(0,z.h)("div",null,(0,z.h)("label",null,(0,mt.__)("Custom","Traffic-Forecast")),(0,z.h)("input",{type:"text",value:Fe(i,"yyyy-MM-dd"),size:"10",onChange:this.setCustomStartDate,disabled:"custom"!==t.preset,placeholder:"YYYY-MM-DD",maxlength:"10",minlength:"6"}),(0,z.h)("span",null," - "),(0,z.h)("input",{type:"text",value:Fe(o,"yyyy-MM-dd"),size:"10",onChange:this.setCustomEndDate,disabled:"custom"!==t.preset,placeholder:"YYYY-MM-DD",maxlength:"10",minlength:"6"}))),(0,z.h)("div",{className:"date-picker"},(0,z.h)("div",{ref:function(e){r.datepickerContainer=e}})))),(0,z.h)("input",{type:"hidden",id:"start-date-input"}))}}],r&&$t(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(z.Component);ar.propTypes={startDate:W().instanceOf(Date).isRequired,endDate:W().instanceOf(Date).isRequired,onUpdate:W().func.isRequired};var sr=r(26),ur={};function lr(e){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lr(e)}function cr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==lr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==lr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===lr(i)?i:String(i)),n)}var i}function dr(e,t){return dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dr(e,t)}function pr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fr(e){return fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fr(e)}ur.styleTagTransform=p(),ur.setAttributes=u(),ur.insert=a().bind(null,"head"),ur.domAPI=i(),ur.insertStyleElement=c(),t()(sr.Z,ur),sr.Z&&sr.Z.locals&&sr.Z.locals;var hr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dr(e,t)}(a,e);var t,r,n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fr(n);if(i){var r=fr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===lr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pr(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={pageviews:0},t.loadData=t.loadData.bind(pr(t)),t}return t=a,(r=[{key:"componentDidMount",value:function(){this.loadData(),this.refreshInterval=window.setInterval(this.loadData,6e4)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.refreshInterval)}},{key:"loadData",value:function(){var e=this;nt("/realtime",{body:{since:"-1 hour"}}).then((function(t){e.setState({pageviews:t})}))}},{key:"render",value:function(e,t){var r=t.pageviews;return(0,z.h)("div",{className:"totals-box Traffic-fade",key:"realtime-pageviews"},(0,z.h)("div",{className:"totals-label"},(0,mt.__)("Realtime pageviews","Traffic-Forecast")),(0,z.h)("div",{className:"totals-amount"},lt(r)),(0,z.h)("div",{className:"totals-compare"},(0,z.h)("span",null,(0,z.h)("span",null,(0,mt.__)("pageviews in the last hour","Traffic-Forecast")))))}}])&&cr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(z.Component);function mr(e){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(e)}function yr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==mr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==mr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===mr(i)?i:String(i)),n)}var i}function vr(e,t){return vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vr(e,t)}function gr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function br(e){return br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},br(e)}var wr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vr(e,t)}(a,e);var t,r,n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=br(n);if(i){var r=br(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===mr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gr(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={visitors:0,visitorsChange:0,visitorsDiff:0,visitorsPrevious:0,pageviews:0,pageviewsChange:0,pageviewsDiff:0,pageviewsPrevious:0,hash:"initial"},t.loadData=t.loadData.bind(gr(t)),t.autoRefresh=t.autoRefresh.bind(gr(t)),t}return t=a,r=[{key:"componentDidMount",value:function(){this.loadData(),this.refreshInterval=window.setInterval(this.autoRefresh,6e4)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.refreshInterval)}},{key:"componentDidUpdate",value:function(e){this.props.startDate.getTime()===e.startDate.getTime()&&this.props.endDate.getTime()===e.endDate.getTime()||this.loadData()}},{key:"autoRefresh",value:function(){var e=new Date;this.props.startDate<e&&this.props.endDate>e&&this.loadData()}},{key:"loadData",value:function(){var e=this,t=this.props,r=t.startDate,n=t.endDate,i=n.getTime()-r.getTime()+1,o=new Date(r.getTime()-i),a=new Date(n.getTime()-i),s=0,u=0,l=0,c=0,d=0,p=0,f=0,h=0;Promise.all([nt("/stats",{body:{start_date:it(this.props.startDate),end_date:it(this.props.endDate)}}).then((function(e){e.forEach((function(e){s+=e.visitors,u+=e.pageviews}))})),nt("/stats",{body:{start_date:it(o),end_date:it(a)}}).then((function(e){e.forEach((function(e){f+=e.visitors,h+=e.pageviews}))}))]).then((function(){0===s&&u>0&&(s=1),0===f&&h>0&&(f=1),f>0&&(d=s-f,l=Math.round(100*(s/f-1))),h>0&&(p=u-h,c=Math.round(100*(u/h-1)));var t=it(e.props.startDate)+"-"+it(e.props.endDate);e.setState({visitors:s,visitorsPrevious:f,visitorsDiff:d,visitorsChange:l,pageviews:u,pageviewsPrevious:h,pageviewsDiff:p,pageviewsChange:c,hash:t})}))}},{key:"render",value:function(){var e=this.state,t=e.visitors,r=e.visitorsDiff,n=e.visitorsChange,i=e.pageviews,o=e.pageviewsDiff,a=e.pageviewsChange,s=e.hash;return(0,z.h)("div",{className:"totals-container"},(0,z.h)("div",{className:"totals-box Traffic-fade",key:s+"-visitors"},(0,z.h)("div",{className:"totals-label"},(0,mt.__)("Total visitors","Traffic-Forecast")),(0,z.h)("div",{className:"totals-amount"},lt(t)," ",(0,z.h)("span",{className:n>0?"up":0===n?"neutral":"down"},ct(n))),(0,z.h)("div",{className:"totals-compare"},(0,z.h)("span",null,lt(Math.abs(r))," ",r>0?(0,mt.__)("more than previous period","Traffic-Forecast"):(0,mt.__)("less than previous period","Traffic-Forecast")))),(0,z.h)("div",{className:"totals-box Traffic-fade",key:s+"-pageviews"},(0,z.h)("div",{className:"totals-label"},(0,mt.__)("Total pageviews","Traffic-Forecast")),(0,z.h)("div",{className:"totals-amount"},lt(i)," ",(0,z.h)("span",{className:a>0?"up":0===a?"neutral":"down"},ct(a))),(0,z.h)("div",{className:"totals-compare"},(0,z.h)("span",null,lt(Math.abs(o))," ",o>0?(0,mt.__)("more than previous period","Traffic-Forecast"):(0,mt.__)("less than previous period","Traffic-Forecast")))),(0,z.h)(hr,null))}}],r&&yr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(z.Component);function _r(e){return _r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_r(e)}function Sr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==_r(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==_r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===_r(i)?i:String(i)),n)}var i}function Ir(e,t){return Ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ir(e,t)}function Tr(e){return Tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tr(e)}wr.propTypes={startDate:W().instanceOf(Date).isRequired,endDate:W().instanceOf(Date).isRequired};var Pr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ir(e,t)}(a,e);var t,r,n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Tr(n);if(i){var r=Tr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===_r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(r=[{key:"handleClick",value:function(e){var t=this,r=this.props,n=r.offset,i=r.limit,o=r.total;return function(){if(!("prev"===e&&0===n||"next"===e&&o<i)){var r="prev"===e?-1:1,a=Math.max(0,n+i*r);t.props.onUpdate(a)}}}},{key:"render",value:function(e){var t=e.offset,r=e.limit,n=e.total;return(0,z.h)("div",{className:"pagination"},(0,z.h)("span",{className:"prev "+(0===t?"disabled":""),title:(0,mt.__)("Previous","Traffic-Forecast"),onClick:this.handleClick("prev")},(0,z.h)("span",{className:"dashicons dashicons-arrow-left"})),(0,z.h)("span",{className:"next "+(n<r?"disabled":""),title:(0,mt.__)("Next","Traffic-Forecast"),onClick:this.handleClick("next")},(0,z.h)("span",{className:"dashicons dashicons-arrow-right"})))}}])&&Sr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(z.Component);function Ar(e){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(e)}function kr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==Ar(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ar(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Ar(i)?i:String(i)),n)}var i}function Er(e,t){return Er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Er(e,t)}function Dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cr(e){return Cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cr(e)}Pr.propTypes={offset:W().number.isRequired,limit:W().number.isRequired,total:W().number.isRequired,onUpdate:W().func.isRequired};var xr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Er(e,t)}(a,e);var t,r,n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Cr(n);if(i){var r=Cr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ar(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dr(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={offset:0,limit:25,items:[]},t.loadData=t.loadData.bind(Dr(t)),t.autoRefresh=t.autoRefresh.bind(Dr(t)),t}return t=a,r=[{key:"componentDidMount",value:function(){this.loadData(),this.refreshInterval=window.setInterval(this.autoRefresh,6e4)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.refreshInterval)}},{key:"componentDidUpdate",value:function(e){this.props.startDate.getTime()===e.startDate.getTime()&&this.props.endDate.getTime()===e.endDate.getTime()||this.loadData()}},{key:"autoRefresh",value:function(){var e=new Date;this.props.startDate<e&&this.props.endDate>e&&this.loadData()}},{key:"loadData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.offset;nt("/posts",{body:{start_date:it(this.props.startDate),end_date:it(this.props.endDate),offset:t,limit:this.state.limit}}).then((function(r){e.setState({items:r,offset:t})}))}},{key:"render",value:function(){var e=this.state,t=e.offset,r=e.limit,n=e.items;return(0,z.h)("div",{className:"box Traffic-fade top-posts"},(0,z.h)("div",{className:"head box-grid"},(0,z.h)("div",{className:""},(0,z.h)("span",{className:"muted"},"#"),(0,mt.__)("Pages","Traffic-Forecast"),(0,z.h)(Pr,{offset:t,limit:r,total:n.length,onUpdate:this.loadData})),(0,z.h)("div",{className:"amount-col",title:(0,mt.__)("A visitor represents the number of sessions during which a page was viewed one or more times.","Traffic-Forecast")},(0,mt.__)("Visitors","Traffic-Forecast")),(0,z.h)("div",{className:"amount-col",title:(0,mt.__)("A pageview is defined as a view of a page on your site. If a user clicks reload after reaching the page, this is counted as an additional pageview. If a visitor navigates to a different page and then returns to the original page, a second pageview is recorded as well.","Traffic-Forecast")},(0,mt.__)("Pageviews","Traffic-Forecast"))),(0,z.h)("div",{className:"body"},n.map((function(e,r){return(0,z.h)("div",{key:e.id,className:"box-grid Traffic-fade"},(0,z.h)("div",null,(0,z.h)("span",{className:"muted"},t+r+1),(0,z.h)("a",{href:e.post_permalink},e.post_title||"(no title)")),(0,z.h)("div",{className:"amount-col"},Math.max(1,e.visitors)),(0,z.h)("div",{className:"amount-col"},e.pageviews))})),0===n.length&&(0,z.h)("div",{className:"box-grid"},(0,mt.__)("There's nothing here, yet!","Traffic-Forecast"))))}}],r&&kr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(z.Component);function Or(e){return Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Or(e)}function Mr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==Or(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Or(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Or(i)?i:String(i)),n)}var i}function Nr(e,t){return Nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nr(e,t)}function Fr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vr(e){return Vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vr(e)}xr.propTypes={startDate:W().instanceOf(Date).isRequired,endDate:W().instanceOf(Date).isRequired};var Rr=/^https?:\/\/(www\.)?(.+?)\/?$/;function jr(e){return e.displayUrl=e.url.replace(Rr,"$2"),0===e.url.indexOf("https://t.co/")?e.url="https://twitter.com/search?q="+encodeURI(e.url):0===e.url.indexOf("android-app://")&&(e.displayUrl=e.url.replace("android-app://","Android app: "),e.url=e.url.replace("android-app://","https://play.google.com/store/apps/details?id=")),e}var zr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nr(e,t)}(a,e);var t,r,n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vr(n);if(i){var r=Vr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Or(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fr(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={offset:0,limit:25,items:[]},t.loadData=t.loadData.bind(Fr(t)),t.autoRefresh=t.autoRefresh.bind(Fr(t)),t}return t=a,r=[{key:"componentDidMount",value:function(){this.loadData(),this.refreshInterval=window.setInterval(this.autoRefresh,6e4)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.refreshInterval)}},{key:"componentDidUpdate",value:function(e){this.props.startDate.getTime()===e.startDate.getTime()&&this.props.endDate.getTime()===e.endDate.getTime()||this.loadData()}},{key:"autoRefresh",value:function(){var e=new Date;this.props.startDate<e&&this.props.endDate>e&&this.loadData()}},{key:"loadData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.offset;nt("/referrers",{body:{start_date:it(this.props.startDate),end_date:it(this.props.endDate),offset:t,limit:this.state.limit}}).then((function(r){r=r.map(jr),e.setState({items:r,offset:t})}))}},{key:"render",value:function(){var e=this.state,t=e.offset,r=e.limit,n=e.items;return(0,z.h)("div",{className:"box Traffic-fade top-referrers"},(0,z.h)("div",{className:"box-grid head"},(0,z.h)("div",{className:""},(0,z.h)("span",{className:"muted"},"#"),(0,mt.__)("Referrers","Traffic-Forecast"),(0,z.h)(Pr,{offset:t,limit:r,total:n.length,onUpdate:this.loadData})),(0,z.h)("div",{className:"amount-col"},(0,mt.__)("Visitors","Traffic-Forecast")),(0,z.h)("div",{className:"amount-col"},(0,mt.__)("Pageviews","Traffic-Forecast"))),(0,z.h)("div",{className:"body"},n.map((function(e,r){return(0,z.h)("div",{key:e.id,className:"box-grid Traffic-fade"},(0,z.h)("div",{className:"url-col"},(0,z.h)("span",{className:"muted"},t+r+1),e.url.length?(0,z.h)("a",{href:e.url},e.displayUrl):e.displayUrl),(0,z.h)("div",{className:"amount-col"},Math.max(e.visitors,1)),(0,z.h)("div",{className:"amount-col"},e.pageviews))})),0===n.length&&(0,z.h)("div",{className:"box-grid"},(0,mt.__)("There's nothing here, yet!","Traffic-Forecast"))))}}],r&&Mr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(z.Component);zr.propTypes={startDate:W().instanceOf(Date).isRequired,endDate:W().instanceOf(Date).isRequired};var Ur=r(319);function Lr(){return window.Traffic_Forecast.showSettings?(0,z.h)("div",{className:"two nav"},(0,z.h)("ul",{className:"subsubsub"},(0,z.h)("li",null,(0,z.h)(Ur.rU,{href:"/",exact:!0,activeClassName:"current"},(0,mt.__)("Stats","Traffic-Forecast"))," | "),(0,z.h)("li",null,(0,z.h)(Ur.rU,{href:"/settings",activeClassName:"current"},(0,mt.__)("Settings","Traffic-Forecast"))))):null}function Wr(e){return Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wr(e)}function Hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hr(Object(r),!0).forEach((function(t){Gr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gr(e,t,r){return(t=qr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qr(n.key),n)}}function qr(e){var t=function(e,t){if("object"!==Wr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Wr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Wr(t)?t:String(t)}function Kr(e,t){return Kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kr(e,t)}function Qr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zr(e){return Zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zr(e)}var Xr=window.Traffic_Forecast.settings,Jr=function(e){return e<10?"0"+e:e},$r=function(e){return"".concat(e.getFullYear(),"-").concat(Jr(e.getMonth()+1),"-").concat(Jr(e.getDate()))},en=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kr(e,t)}(a,e);var t,r,n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Zr(n);if(i){var r=Zr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Wr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qr(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state=Br(Br({},t.setDatesFromDefaultView()),t.parseStateFromLocation(window.location.hash)),t.setDates=t.setDates.bind(Qr(t)),t}return t=a,r=[{key:"componentDidMount",value:function(){var e=this;this.unlisten=this.props.history.listen((function(t,r){"POP"===r&&e.setState(e.parseStateFromLocation(t.search))}))}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"setDatesFromDefaultView",value:function(){var e=Kt.filter((function(e){return e.key===Xr.default_view})).shift()||Kt[5];return"function"==typeof e.dates?e.dates():{}}},{key:"parseStateFromLocation",value:function(e){var t=e.indexOf("?");if(-1===t)return{};var r=function(e){for(var t,r={},n=e.split("&"),i=0;i<n.length;i++)r[(t=n[i].split("="))[0]]=decodeURIComponent(t[1]);return r}(e.substring(t+1));if(!r.start_date||!r.end_date)return{};var n=ht(r.start_date),i=ht(r.end_date);return n&&i?(n.setHours(0,0,0),i.setHours(23,59,59),{startDate:n,endDate:i}):{}}},{key:"setDates",value:function(e,t){e.getTime()!==t.getTime()&&(this.setState({startDate:e,endDate:t}),e=$r(e),t=$r(t),this.props.history.push("/?start_date=".concat(e,"&end_date=").concat(t)))}},{key:"render",value:function(e,t){var r=t.startDate,n=t.endDate;return(0,z.h)("main",null,(0,z.h)("div",null,(0,z.h)("div",{className:"grid"},(0,z.h)("div",{className:"four"},(0,z.h)(ar,{startDate:r,endDate:n,onUpdate:this.setDates})),(0,z.h)(Lr,null)),(0,z.h)(wr,{startDate:r,endDate:n}),(0,z.h)("div",null,(0,z.h)("iframe",{id:"tableau-viz",src:"https://10ax.online.tableau.com/t/trailblazers/views/qwertyui/Sheet1?:origin=card_share_link&:embed=y",width:"800",height:"500","hide-tabs":"",toolbar:"bottom"})),(0,z.h)("div",{className:"grid"},(0,z.h)(xr,{startDate:r,endDate:n}),(0,z.h)(zr,{startDate:r,endDate:n})),(0,z.h)("div",null,(0,z.h)("span",{className:"description right"},(0,mt.__)("Tip: use the arrow keys to quickly cycle through date ranges.","Traffic-Forecast")))))}}],r&&Yr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(z.Component);function tn(e){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tn(e)}function rn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==tn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==tn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===tn(i)?i:String(i)),n)}var i}function nn(e,t){return nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nn(e,t)}function on(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function an(e){return an=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},an(e)}en.propTypes={history:W().object.isRequired};var sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nn(e,t)}(a,e);var t,r,n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=an(n);if(i){var r=an(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===tn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return on(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={saving:!1,buttonText:(0,mt.__)("Reset Statistics","Traffic-Forecast")},t.onClick=t.onClick.bind(on(t)),t}return t=a,(r=[{key:"onClick",value:function(e){var t=this;!0===window.confirm((0,mt.__)("Are you sure you want to reset all of your statistics? This can not be undone.","Traffic-Forecast"))&&(e.preventDefault(),this.setState({saving:!0,buttonText:(0,mt.__)("Resetting - please wait","Traffic-Forecast")}),nt("/reset",{method:"POST",body:{}}).then((function(){t.setState({buttonText:(0,mt.__)("Done!","Traffic-Forecast")+" "+(0,mt.__)("Page will reload in a few seconds.","Traffic-Forecast")}),window.setTimeout((function(){window.location.reload()}),4e3)})).finally((function(){window.setTimeout((function(){t.setState({saving:!1,buttonText:(0,mt.__)("Reset Statistics","Traffic-Forecast")})}),4e3)})))}},{key:"render",value:function(e,t){var r=t.saving,n=t.buttonText;return(0,z.h)("button",{type:"button",className:"button button-primary",onClick:this.onClick,disabled:r},n)}}])&&rn(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(z.Component);function un(e){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},un(e)}function ln(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==un(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==un(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===un(i)?i:String(i)),n)}var i}function cn(e,t){return cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cn(e,t)}function dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pn(e){return pn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pn(e)}var fn,hn=window.Traffic_Forecast,mn=window.Traffic_Forecast.user_roles,yn=window.Traffic_Forecast.settings,vn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cn(e,t)}(a,e);var t,r,n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pn(n);if(i){var r=pn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===un(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dn(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={settings:yn,saving:!1,buttonText:(0,mt.__)("Save Changes","Traffic-Forecast")},t.onSubmit=t.onSubmit.bind(dn(t)),t}return t=a,r=[{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({saving:!0,buttonText:(0,mt.__)("Saving - please wait","Traffic-Forecast")});var r=new Date;nt("/settings",{method:"POST",body:yn}).then((function(){window.setTimeout((function(){t.setState({buttonText:(0,mt.__)("Saved!","Traffic-Forecast")})}),Math.max(20,400-(+new Date-r)))})).finally((function(){window.setTimeout((function(){t.setState({buttonText:(0,mt.__)("Save Changes","Traffic-Forecast"),saving:!1})}),4e3)}))}},{key:"handleRadioClick",value:function(e){var t=this;return function(r){yn[e]=parseInt(r.target.value,10),t.setState({settings:yn})}}},{key:"render",value:function(e,t){var r=this,n=t.saving,i=t.buttonText,o=t.settings;return(0,z.h)("main",null,(0,z.h)("div",{className:"grid"},(0,z.h)("div",{className:"four"},(0,z.h)("h1",null,(0,mt.__)("Settings","Traffic-Forecast")),(0,z.h)("form",{method:"POST",onSubmit:this.onSubmit},(0,z.h)("div",{className:"input-group"},(0,z.h)("label",null,(0,mt.__)("Exclude pageviews from these user roles","Traffic-Forecast")),(0,z.h)("select",{name:"exclude_user_roles[]",multiple:!0,onChange:function(e){o.exclude_user_roles=[].filter.call(e.target.options,(function(e){return e.selected})).map((function(e){return e.value})),r.setState({settings:o})}},Object.keys(mn).map((function(e){return(0,z.h)("option",{key:e,value:e,selected:o.exclude_user_roles.indexOf(e)>-1},mn[e])}))),(0,z.h)("p",{className:"help"},(0,mt.__)("Visits and pageviews from users with any of the selected roles will be ignored.","Traffic-Forecast")," ",(0,mt.__)("Use CTRL to select multiple options.","Traffic-Forecast"))),(0,z.h)("div",{className:"input-group"},(0,z.h)("label",null,(0,mt.__)("Use cookie to determine unique visitors and pageviews?","Traffic-Forecast")),(0,z.h)("label",{className:"cb"},(0,z.h)("input",{type:"radio",name:"use_cookie",value:1,onChange:this.handleRadioClick("use_cookie"),checked:1===o.use_cookie})," ",(0,mt.__)("Yes","Traffic-Forecast")),(0,z.h)("label",{className:"cb"},(0,z.h)("input",{type:"radio",name:"use_cookie",value:0,onChange:this.handleRadioClick("use_cookie"),checked:0===o.use_cookie})," ",(0,mt.__)("No","Traffic-Forecast")),(0,z.h)("p",{className:"help"},(0,mt.__)('Set to "no" if you do not want to use a cookie. Without the use of a cookie, Traffic Forecast can not reliably detect returning visitors.',"Traffic-Forecast"))),(0,z.h)("div",{className:"input-group"},(0,z.h)("label",null,(0,mt.__)("Default date period","Traffic-Forecast")),(0,z.h)("select",{name:"default_view",onChange:function(e){o.default_view=e.target.value,r.setState({settings:o})}},Kt.map((function(e){return(0,z.h)("option",{value:e.key,key:e.key,selected:o.default_view===e.key},e.label)}))),(0,z.h)("p",{className:"help"},(0,mt.__)("The default date period to show when opening the Forecast dashboard.","Traffic-Forecast"))),(0,z.h)("div",{className:"input-group"},(0,z.h)("label",null,(0,mt.__)("Automatically delete data older than how many months?","Traffic-Forecast")),(0,z.h)("input",{type:"number",value:o.prune_data_after_months,onChange:function(e){o.prune_data_after_months=parseInt(e.target.value,10),r.setState({settings:o})},step:1,min:0,max:600})," ",(0,mt.__)("months","Traffic-Forecast"),(0,z.h)("p",{className:"help"},(0,mt.__)("Statistics older than the number of months configured here will automatically be deleted. Set to 0 to disable.","Traffic-Forecast"))),(0,z.h)("div",{className:"input-group"},(0,z.h)("p",null,(0,z.h)("button",{type:"submit",className:"button button-primary",disabled:n},i)))),(0,z.h)("div",{className:"margin-m",style:"display: ".concat(hn.multisite?"none":"")},(0,z.h)("h2",null,(0,mt.__)("Performance","Traffic-Forecast")),hn.custom_endpoint.enabled?(0,z.h)("p",null,"â ",(0,mt.__)("The plugin is currently using an optimized tracking endpoint. Great!","Traffic-Forecast")):(0,z.h)("div",null,(0,z.h)("p",{dangerouslySetInnerHTML:{__html:"â "+(0,mt.__)("The plugin is currently not using an optimized tracking endpoint. To address, create a file named %1s in your WordPress root directory with the following file contents:","Traffic-Forecast").replace("%1s","<strong>Traffic-Forecast-collect.php</strong>")}}," "),(0,z.h)("p",null,(0,z.h)("strong",null,(0,mt.__)("Filename:","Traffic-Forecast")," ")," ",(0,z.h)("em",null,hn.custom_endpoint.wp_root_dir,"/Traffic-Forecast-collect.php")),(0,z.h)("pre",{className:"code",onClick:function(e){var t=new Range;t.setStart(e.target,0),t.setEnd(e.target,1),document.getSelection().removeAllRanges(),document.getSelection().addRange(t)}},hn.custom_endpoint.file_contents),(0,z.h)("p",null,(0,mt.__)("Please note that this is entirely optional and only recommended for high-traffic websites.","Traffic-Forecast")))),(0,z.h)("div",{className:"margin-m"},(0,z.h)("h2",null,(0,mt.__)("Data","Traffic-Forecast")),(0,z.h)("p",null,(0,mt.__)("Database size:","Traffic-Forecast")," ",hn.dbSize," MB"),(0,z.h)("div",{className:"input-group"},(0,z.h)("p",null,(0,mt.__)("Use the button below to erase all of your current Forecast data. You may have to clear your browser's cache afterwards for the effect to be evident.","Traffic-Forecast")),(0,z.h)("p",null,(0,z.h)(sn,null))))),(0,z.h)(Lr,null)))}}],r&&ln(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(z.Component);function gn(){return gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gn.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(fn||(fn={}));var bn="beforeunload";function wn(e){e.preventDefault(),e.returnValue=""}function _n(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function Sn(e){var t=e.pathname,r=void 0===t?"/":t,n=e.search,i=void 0===n?"":n,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(r+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(r+="#"===a.charAt(0)?a:"#"+a),r}function In(e){var t={};if(e){var r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));var n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var Tn=function(e){void 0===e&&(e={});var t=e.window,r=void 0===t?document.defaultView:t,n=r.history;function i(){var e=In(r.location.hash.substr(1)),t=e.pathname,i=void 0===t?"/":t,o=e.search,a=void 0===o?"":o,s=e.hash,u=void 0===s?"":s,l=n.state||{};return[l.idx,{pathname:i,search:a,hash:u,state:l.usr||null,key:l.key||"default"}]}var o=null;function a(){if(o)p.call(o),o=null;else{var e=fn.Pop,t=i(),r=t[0],n=t[1];if(p.length){if(null!=r){var a=l-r;a&&(o={action:e,location:n,retry:function(){g(-1*a)}},g(a))}}else v(e)}}r.addEventListener("popstate",a),r.addEventListener("hashchange",(function(){Sn(i()[1])!==Sn(c)&&a()}));var s=fn.Pop,u=i(),l=u[0],c=u[1],d=_n(),p=_n();function f(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"==typeof e?e:Sn(e))}function h(e,t){return void 0===t&&(t=null),gn({pathname:c.pathname,hash:"",search:""},"string"==typeof e?In(e):e,{state:t,key:Math.random().toString(36).substr(2,8)})}function m(e,t){return[{usr:e.state,key:e.key,idx:t},f(e)]}function y(e,t,r){return!p.length||(p.call({action:e,location:t,retry:r}),!1)}function v(e){s=e;var t=i();l=t[0],c=t[1],d.call({action:s,location:c})}function g(e){n.go(e)}return null==l&&(l=0,n.replaceState(gn({},n.state,{idx:l}),"")),{get action(){return s},get location(){return c},createHref:f,push:function e(t,i){var o=fn.Push,a=h(t,i);if(y(o,a,(function(){e(t,i)}))){var s=m(a,l+1),u=s[0],c=s[1];try{n.pushState(u,"",c)}catch(e){r.location.assign(c)}v(o)}},replace:function e(t,r){var i=fn.Replace,o=h(t,r);if(y(i,o,(function(){e(t,r)}))){var a=m(o,l),s=a[0],u=a[1];n.replaceState(s,"",u),v(i)}},go:g,back:function(){g(-1)},forward:function(){g(1)},listen:function(e){return d.push(e)},block:function(e){var t=p.push(e);return 1===p.length&&r.addEventListener(bn,wn),function(){t(),p.length||r.removeEventListener(bn,wn)}}}}();(0,z.render)((0,z.h)((function(){return(0,z.h)(U.default,{history:Tn},(0,z.h)(en,{path:"/",history:Tn}),(0,z.h)(vn,{path:"/settings"}))}),null),document.getElementById("Traffic-Forecast-mount"))})()})();